!function(e,t,n){"use strict";var r,i="//ad.mediawayss.com/ad/mwayss_invocation.min.js",a="//ad.mediawayss.com/ad/mwayss_invocation.min.css",o="//ssp.mediawayss.com/images/close.png",s="_mwuck",c=!1,d=parseInt(1e10*Math.random()),l=function(){try{e.top.mwayss}catch(e){c=!0}c?e.mwayss=e.mwayss||{}:e.top.mwayss=e.top.mwayss||{},x=x.with(c?e.mwayss:e.top.mwayss);var t=(r=u()).getElement().src.split("?",2)[1]||"",n=m(t),i=n.act&&"catFish"!=n.act?n.act:"invocation";l[i](n)};l.invocation=function(i){i=g({},{ctype:"div"},i),f(i,["pzoneid","width","height","tld"]);var a,l,u=g({},i,{in_iframe:+(e!==e.top),position:y(),screen_width:e.screen.width,screen_height:e.screen.height,top_domain:c?"":e.top.location.hostname,top_url:c?"":e.top.location.href,parent_domain:c?"":e.parent.location.hostname,parent_url:c?"":e.parent.location.href,domain:e.location.hostname,url:e.location.href,referrer:t.referrer,async:+r.isAsync(),user_uuid:(l=function(e){e+="=";for(var n=decodeURIComponent(t.cookie).split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return null}(s),null===l&&(a=(new Date).getTime(),e.performance&&"function"==typeof e.performance.now&&(a+=performance.now()),l="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==e?t:3&t|8).toString(16)}),t.cookie=s+"="+l+"; path=/; expires=Tue, 19 Jan 2038 03:14:07 GMT"),l),id:d});h("//ad.mediawayss.com/delivery/impress?"+p(u),r.isAsync(),function(e){var a=g(e.banner,{ctype:r.isAsync()&&!e.template.async||e.template.to_sandbox?"iframe":i.ctype,width:e.banner.in_image?e.banner.in_image.width:i.width,height:e.banner.in_image?e.banner.in_image.height:i.height,zone_id:i.pzoneid});x.push("banners.b_"+a.id,a);var s=w[a.ctype](e),c=t.createRange().createContextualFragment(e.template.html);if("div"==a.ctype&&s.markAsOuter().markAsInner(),s.getInnerElement().appendChild(c),"catFish"==i.act){var l=t.createElement("div");l.classList.add("cat_fish");var u=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};l.style.backgroundColor=function(e,t){if(typeof t!==n&&!u(e))return"rgba("+e.red+","+e.green+","+e.blue+","+t+")"}(function(e){var t,n={};/(^[0-9A-F]{6}$)|([0-9A-F]{3}$)/i.test(e)&&(t=parseInt(e,16),n.red=t>>16&255,n.green=t>>8&255,n.blue=255&t);return n}(i.background),i.opacity);var m=s.getOuterElement().style.maxHeight;l.style.maxHeight=0;var p=t.createElement("img");p.classList.add("mwayss_close_button"),p.src=o,p.id="it_"+d,l.appendChild(p)}(r.isAsync()?r.getElement().parentNode.insertBefore(s.getOuterElement(),r.getElement()):t.write(s.getOuterElement().outerHTML),s.setOuterElement(t.getElementById(s.getOuterElement().id)),s.print(),r.getElement().parentNode.removeChild(r.getElement()),"catFish"!=i.act)||""!==e.template.html&&(s.getOuterElement().parentNode.insertBefore(l,s.getOuterElement()),l.appendChild(s.getOuterElement()),t.getElementById(p.id).addEventListener("click",function(){l.style.maxHeight=0,setTimeout(function(){l.parentNode.removeChild(l)},500)}),setTimeout(function(){l.style.maxHeight=m},500))})},l.rollback=function(e){var n=x.get("banners.b_"+e.banner_id)||{};e.hash=n.hash,e.zone_id=n.zone_id;f(e,["banner_id","token","zone_id","hash"]),h("//ad.mediawayss.com/delivery/rollback?"+p(e),r.isAsync(),function(e){var i=r.isAsync()&&!e.template.async||e.template.to_sandbox?"iframe":"div";g(e,{banner:n});var a=w[i](e),o=t.createRange().createContextualFragment(e.template.html);a.getInnerElement().appendChild(o),r.isAsync()?r.getElement().parentNode.insertBefore(a.getOuterElement(),r.getElement()):t.write(a.getOuterElement().outerHTML),a.setOuterElement(t.getElementById(a.getOuterElement().id)),a.print(),r.getElement().parentNode.removeChild(r.getElement())})},l.inImage=function(e){var n=[300,250];if("loading"!=t.readyState){e=g({},{images_count:1},e),f(e,["pzoneid","tld"]);var r,a,o=t.getElementsByTagName("img"),s=[],c=function(t){"sort"!=r&&(t.width<=n[0]||t.height<=n[1]||(a||(a=setTimeout(function(){"sort"!=r&&(r="sort",d())},5e3)),s.push({img:t}),s.length==e.images_count&&setTimeout(function(){"sort"!=r&&(r="sort",d())},3e3)))},d=function(){s.forEach(function(e){e.to_top=v(e.img).top}),s.sort(function(e,t){return e.to_top-t.to_top}),u()},u=function(){s=s.filter(function(t,n){return s.length>=2*+e.images_count-1?!(n%2)&&2*+e.images_count>n:+e.images_count>n}),m()},m=function(){s.forEach(function(n){var r=t.createElement("div");r.classList.add("mwayss_in_image"),r.style.display="inline-block",r.style.position="relative",r.style.maxWidth=n.img.width+"px",r.style.maxHeight=n.img.height+"px",n.img.parentNode.insertBefore(r,n.img),r.appendChild(n.img);var a={pzoneid:e.pzoneid,width:n.img.width,height:n.img.height,tld:e.tld},o=t.createElement("script");o.src=i+"?"+p(a),r.appendChild(o)})};Array.prototype.forEach.call(o,function(e){e.width&&e.height?c(e):e.addEventListener("load",function(e){c(e.target)})})}else t.addEventListener("DOMContentLoaded",function(){l.inImage(e)})};var u=function(){var e,n;return{getElement:function(){if(e)return e;if(t.currentScript)return e=t.currentScript;if(!this.isAsync()){var n=t.createElement("div");return n.id="f_"+d,t.write(n.outerHTML),n=t.getElementById(n.id),e=n.previousElementSibling,n.parentNode.removeChild(n),e}var r=t.getElementsByTagName("script");Array.prototype.forEach.call(r,function(e){if(~e.src.indexOf(i)){var n=e.src.split("?",2)[1]||"";if(!m(n).counter){var r=t.createElement("script");Array.prototype.forEach.call(e.attributes,function(t){r[t.name]=e[t.name]});var a=x.get("getCurrent.counter")||0;r.src+="&counter="+a,x.push("getCurrent.counter",++a),e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e)}}});try{throw new Error}catch(t){var a=/.*at [^\(]*\((.*):.+:.+?\)/gi.exec(t.stack)[1];return e=Array.prototype.filter.call(r,function(e){return e.src==a})[0]}},isAsync:function(){if(n)return n;var e=t.createElement("div");return e.id="f_"+d,t.write(e.outerHTML),e=t.getElementById(e.id),n=!e,e&&e.parentNode.removeChild(e),n}}},m=function(e){return""==e.trim()?{}:e.split("&").reduce(function(e,t){return t=t.split("="),e[decodeURIComponent(t[0])]=void 0===t[1]?n:decodeURIComponent(t[1]),e},{})},p=function(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return encodeURIComponent(t+"[]")+"="+encodeURIComponent(e||"")}).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(e[t]||"")}).join("&")},g=function(e){return Array.prototype.splice.call(arguments,1,arguments.length).forEach(function(t){for(var n in t)e[n]="object"==typeof t[n]?g(e[n]||{},t[n]):t[n]}),e},f=function(e,t){t.forEach(function(t){if(void 0===e[t])throw new C('Required parameter "'+t+'" is not defined.')})},h=function(e,n,r){if(n){var i=new XMLHttpRequest;return i.open("GET",e),i.withCredentials=!0,i.onload=function(){200==i.status&&r(JSON.parse(i.response))},void i.send()}var a=t.createElement("script");a.id="t_"+d,a.src=e+"&callback=window.top.mwayss.jsonp."+a.id,x.push("jsonp."+a.id,function(e){r(e);var n=t.getElementById(a.id);n.parentNode.removeChild(n)}),t.write(a.outerHTML)},v=function(e){var t=e.getBoundingClientRect();return{left:t.left+pageXOffset,top:t.top+pageYOffset}},y=function(){var n=t.createElement("div");n.id="f_"+d,r.isAsync()?r.getElement().parentNode.insertBefore(n,r.getElement()):t.write(n.outerHTML),n=t.getElementById(n.id);var i=v(n);return n.parentNode.removeChild(n),i.left<e.screen.width&&i.top<e.screen.height?"atf":"btf"},w=new Function;w.iframe=function(e){var n=t.createElement("iframe");n.id="mwayss_iframe_"+d,n.classList.add("mwayss_iframe"),n.style.width=e.banner.width+"px",n.style.height=e.banner.height+"px",e.template.to_sandbox&&(n.sandbox="allow-top-navigation allow-scripts allow-same-origin");var r=w.div(e);r.getOuterElement().appendChild(n),r.markAsOuter();var i=w.div(e);return i.markAsInner(),{getOuterElement:function(){return r.getOuterElement()},setOuterElement:function(e){r.setOuterElement(e),n=t.getElementById(n.id)},getInnerElement:function(){return i.getOuterElement()},print:function(){r.print();var e=n.document||n.contentDocument||n.contentWindow.document;e.open(),e.write(i.getOuterElement().outerHTML),e.close(),i.setOuterElement(e.getElementById(i.getOuterElement().id)),i.print()}}},w.div=function(e){var n=t.createElement("div");n.id="mwayss_div_"+d,n.classList.add("mwayss_div"),n.style.maxWidth=e.banner.width+"px",n.style.maxHeight=e.banner.height+"px",n.style.overflow="hidden";var r=!1,i=!1;return{getOuterElement:function(){return n},setOuterElement:function(e){n=e},getInnerElement:function(){return n},markAsOuter:function(){return r=!0,this},markAsInner:function(){return i=!0,this},print:function(){if(r&&(_(a,n),e.banner.in_image)){var s=e.banner.in_image.width/e.banner.in_image.height>=3?"strip":"cover",c=t.createElement("div");c.classList.add("mwayss_"+s),c.style.visibility="hidden","initial"==e.banner.in_image.show_type?c.style.background="rgba(0, 0, 0, "+e.banner.in_image["bg_"+s]+")":(c.addEventListener("mouseover",function(){c.style.background="rgba(0, 0, 0, "+e.banner.in_image["bg_"+s]+")"}),c.addEventListener("mouseleave",function(){c.style.background="rgba(0, 0, 0, 0)"}));var d=t.createElement("div");d.classList.add("mwayss_i3_wrapper"),d.style.maxWidth=e.banner.in_image.width+"px",d.style.maxHeight=e.banner.in_image.height+"px",c.appendChild(d),n.parentNode.insertBefore(c,n),d.appendChild(n);var l=t.createElement("img");l.classList.add("mwayss_close_button"),l.src=o,d.appendChild(l),(n=t.getElementById(n.id)).addEventListener("rendered",function(){setTimeout(function(){c.style.visibility="visible","initial"==e.banner.in_image.show_type&&c.parentNode.classList.add("mwayss_in_image_initial")},500)}),n.addEventListener("destroyed",function(){c.style.visibility="hidden"});var u=function(){Array.prototype.forEach.call(d.getElementsByTagName("div")[0].childNodes,function(e){"A"==e.nodeName&&~e.className.indexOf("mwayss_brand_item")||"LINK"==e.nodeName&&~e.href.indexOf("mwayss_invocation")||e.parentNode.removeChild(e)})};l.addEventListener("click",u),c.addEventListener("click",function(e){e.target==c&&u()});var m=setInterval(function(){c.previousElementSibling&&c.previousElementSibling.getBoundingClientRect().height!=c.getBoundingClientRect().height&&(c.style.maxHeight=c.previousElementSibling.getBoundingClientRect().height+"px"),c.getBoundingClientRect().width>=e.banner.in_image.width||(u(),clearInterval(m))},50)}if(i&&!r&&_([{url:a},{url:"//ad.mediawayss.com/ad/mwayss_invocation.iframe.min.css"}],n),i){e.brand.visibility&&n.appendChild(E(e.brand.position));var p=setInterval(function(){var e=t.getElementById(this.div_tag_id);e?e.getBoundingClientRect().height&&(e.dispatchEvent(new Event("rendered")),clearInterval(p),p=setInterval(function(){e&&e.getBoundingClientRect().height||(e.dispatchEvent(new Event("destroyed")),clearInterval(p))},500)):clearInterval(p)}.bind({div_tag_id:n.id}),500)}}}};var E=function(e){e=void 0===e?2:e;var n=t.createElement("a");return n.classList.add("mwayss_brand_item","p_"+e),n.href="https://www.mediawayss.com/",n.title=String.fromCharCode(160)+"Mediawayss"+String.fromCharCode(160),n.target="_blank",n.style.background='url("//ad.mediawayss.com/images/favicon-16px.png") no-repeat',n},_=function(e,t){"string"==typeof e&&(e={url:e}),Array.isArray(e)||(e=[e]),e.forEach(function(e){var n=e.url.split(".").pop();_[n="css"==n?"css":"js"](e,t)})};_.js=function(e,n){n.ownerDocument.defaultView.mwayss=n.ownerDocument.defaultView.mwayss||{};var r=x.with(n.ownerDocument.defaultView.mwayss),i=r.get("sources.js")||{};for(var a in i){var o=i[a];if(o.url===e.url){if(!e.callback)return;if(o.loaded)return void e.callback();var s=o.callback;return void(o.callback=function(){s&&s(),e.callback()})}}var c=t.createElement("script");c.src=e.url;var d=e.name||e.url;if(e.dependencies=Array.isArray(e.dependencies||[])?e.dependencies||[]:[e.dependencies],i[d]={script_tag:c,dependencies:e.dependencies,callback:e.callback,url:e.url,container:n,loaded:!1},r.push("sources.js",i),e.dependencies=e.dependencies.filter(function(e){return void 0===i[e]||!i[e].loaded}),!e.dependencies.length){var l=function(e){var t=i[e];t.script_tag.onload=function(){for(var n in t.loaded=!0,t.callback&&t.callback(),i)i[n]!==t&&!i[n].loaded&&i[n].dependencies.length&&(i[n].dependencies=i[n].dependencies.filter(function(t){return e!==t}),i[n].dependencies.length||l(n))},t.container.appendChild(t.script_tag)};l(d)}},_.css=function(e,n){n.ownerDocument.defaultView.mwayss=n.ownerDocument.defaultView.mwayss||{};for(var r=x.with(n.ownerDocument.defaultView.mwayss),i=r.get("sources.css")||[],a=0;a<=i.length;a++)if(i[a]==e.url)return;var o=t.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e.url,i.push(e.url),r.push("sources.css",i),n.appendChild(o)};var b,x={push:function(e,t){var n=b,r=n,i=e.split(".");return i.forEach(function(e,r){n[e]=r==i.length-1?t:/^(?:undefined|string)$/.test(typeof n[e])?{}:n[e],n=n[e]}),b=r,this},get:function(e){for(var t=b,n=e.split("."),r=0;r<n.length;r++){if(void 0===t[n[r]])return;t=t[n[r]]}return t},with:function(e){return b=e,this}},C=function(){var e=Error.apply(this,arguments);this.name="ParamError",this.message=e.message,Error.captureStackTrace?Error.captureStackTrace(this,C):this.stack=e.stack};C.prototype=Object.create(Error.prototype);try{l()}catch(e){e instanceof C&&console.error(e.stack)}}(window,document);