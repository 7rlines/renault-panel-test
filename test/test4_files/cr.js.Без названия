!function(){var t="undefined"!=typeof exports?exports:self,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function A(t){this.message=t}A.prototype=new Error,A.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var r,n,i=String(t),o=0,s=e,a="";i.charAt(0|o)||(s="=",o%1);a+=s.charAt(63&r>>8-o%1*8)){if((n=i.charCodeAt(o+=.75))>255)throw new A("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|n}return a}),t.atob||(t.atob=function(t){var r=String(t).replace(/=+$/,"");if(r.length%4==1)throw new A("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,s=0,a="";i=r.charAt(s++);~i&&(n=o%4?64*n+i:i,o++%4)?a+=String.fromCharCode(255&n>>(-2*o&6)):0)i=e.indexOf(i);return a})}(),function(t){var e=function(){function t(){this._animations=[]}return t.prototype.animate=function(t,e,A,r,n){this._animations.push({Element:t,Properties:this._getProps(t,e),StartTime:Number(new Date),DurationMS:A,Easing:r,Callback:n}),1==this._animations.length&&this._requestTimeout(this._onTimeout.bind(this))},t.prototype._getProps=function(t,e){var A={};for(var r in e)if(e[r]instanceof Array)A[r]=e[r];else{var n=t.style[r];if(n||(n="0"),!n.match(/^[0-9]+px$/)&&"0"!==n)throw new Error("Unsupported property value. Need to be pixels or 0");n=n.replace("px",""),A[r]=[Number(n),e[r]]}return A},t.prototype._onTimeout=function(){for(var t=Number(new Date),e=0;e<this._animations.length;){var A=this._animations[e];if(t-A.StartTime>=A.DurationMS){for(var r in A.Properties)A.Element.style[r]=A.Properties[r][1]+"px";this._animations.splice(e,1),"function"==typeof A.Callback&&setTimeout(A.Callback,0)}else{for(var r in A.Properties)this._set(A.Element,r,A.Properties[r],(t-A.StartTime)/A.DurationMS,A.Easing);e++}}this._animations.length>0&&this._requestTimeout(this._onTimeout.bind(this))},t.prototype._requestTimeout=function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;e?e(t):setTimeout(t,30)},t.prototype._set=function(t,e,A,r,n){void 0===n&&(n="linear");var i=A[0],o=A[1];switch(n){case"ease":r=(r*=2)<1?r*r*r/2:((r-=2)*r*r+2)/2;break;case"linear":break;case"ease-in":r*=r*r;break;case"ease-out":r=(r-=1)*r*r+1}t.style[e]=Math.round((o-i)*r+i)+"px"},t}();t.anim=new e}(advark||(advark={})),function(t){!function(t){t.enabled=function(){return!!localStorage},t.read=function(t,e){if(void 0===e&&(e=void 0),!localStorage)return e;try{return localStorage.getItem(t)||e}catch(t){return e}},t.write=function(t,e){if(localStorage)try{localStorage.setItem(t,e)}catch(t){}},t.del=function(t){if(localStorage)try{localStorage.removeItem(t)}catch(t){}}}(t.lstorage||(t.lstorage={}))}(advark||(advark={})),function(t){if(!t.setImmediate){t.setImmediate=function(t){for(var e=[],A=1;A<arguments.length;A++)e[A-1]=arguments[A];0,new Date;var r=!1,n=!0,i=function(A){r||n||(r=!0,window.removeEventListener("message",s),window.clearTimeout(o),t.apply(void 0,e))},o=window.setTimeout(function(){return i()},0),s=function(t){return i()};window.addEventListener("message",s),window.postMessage({},"*"),n=!1}}}(advark||(advark={})),function(t){for(var e=["ms","moz","webkit","o"],A=0;A<e.length&&!t.requestAnimationFrame;A++)t.requestAnimationFrame=window[e[A]+"RequestAnimationFrame"];if(!t.requestAnimationFrame){var r=0;t.requestAnimationFrame=function(t){var e=(new Date).getTime(),A=Math.max(0,16-(e-r)),n=window.setTimeout(function(){t(e+A)},A);return r=e+A,n}}t.requestAnimationFrame=t.requestAnimationFrame.bind(window)}(advark||(advark={})),function(t){var e,A;e=t.spromise||(t.spromise={}),A=function(){function t(t,e){this._defferPending=t instanceof Function?t:function(A){return A(t,e)}}return t.prototype.then=function(e,A){var r=this;return this._defferPending(function(n,i,o){var s,a=i?A:e;try{var d=a instanceof Function?a.call(void 0,n):void 0===a?n:a;if(d instanceof t){if(d===r)throw"TypeError";s=d.then(function(t){return o?o.resolve(t):t},function(t){return o?o.reject(t):t})}else if(d instanceof Object&&d.then instanceof Function){var c=!1;d.then(function(t){c||(c=!0,n=t,i=!1)},function(t){c||(c=!0,n=t,i=!0)})}else n=d}catch(t){n=t,i=!0}return s||(o?i?o.reject(n):o.resolve(n):new t(n,i))})},t.prototype.catch=function(t){return this.then(void 0,t)},t.prototype.anycase=function(t){return this.then(t,t)},t.prototype.inspect=function(e){var A=function(A,r){return e(A,r),new t(A,!r)};return this.then(function(t){return A(t,!0)},function(t){return A(t,!1)})},t}(),e.Promise=A}(advark||(advark={})),function(t){!function(t){var e,A;(A=e||(e={}))[A.pending=0]="pending",A[A.resolved=1]="resolved",A[A.rejected=2]="rejected";var r=function(){function A(){var r=this;this._state=e.pending,this._recs=[];this.promise=new t.Promise(function(t){if(r._state!==e.pending)return t(r._result,r._state===e.rejected);var n=new A;return r._recs.push({deffer:n,complete:t}),n.promise})}return A.prototype.resolve=function(t){return this._complete(t,!1)},A.prototype.reject=function(t){return this._complete(t,!0)},A.prototype._complete=function(t,A){if(this._state===e.pending){for(var r=0;r<this._recs.length;r++)this._recs[r].complete(t,A,this._recs[r].deffer);this._recs=[],this._state=A?e.rejected:e.resolved,this._result=t}return this.promise},A}();t.Deffer=r}(t.spromise||(t.spromise={}))}(advark||(advark={})),function(t){!function(t){function e(){return new t.Deffer}function A(t){var A=e();return t(function(t){return A.resolve(t)},function(t){return A.reject(t)}),A.promise}function r(e){return new t.Promise(e,!1)}function n(t){if(!(t instanceof Array)||0==t.length)return r();for(var A=e(),n=0;n<t.length;n++)(t[n]&&t[n].then?t[n]:r()).then(function(t){A.resolve(t)},function(t){A.reject(t)});return A.promise}t.deffer=e,t.promise=A,t.resolved=r,t.rejected=function(e){return new t.Promise(e,!0)},t.join=function(t){if(!(t instanceof Array)||0==t.length)return r(t);for(var A=e(),n=t.length,i=[],o=[],s=function(e,r){e.push(r),0==--n&&A.resolve(t)},a=0;a<t.length;a++)(t[a]&&t[a].then?t[a]:r()).then(function(t){s(i,t)},function(t){s(o,t)});return A.promise},t.any=function(t){if(!(t instanceof Array)||0==t.length)return r(t);for(var A=e(),n=t.length,i={resolved:[],rejected:[]},o=0;o<t.length;o++)(t[o]&&t[o].then?t[o]:r()).then(function(t){A.resolve(t)},function(t){i.rejected.push(t),0==--n&&A.reject(i.rejected)});return A.promise},t.all=function(t){var A={resolved:[],rejected:[]};if(!(t instanceof Array)||0==t.length)return r(A);for(var n=e(),i=t.length,o=0;o<t.length;o++)(t[o]&&t[o].then?t[o]:r()).then(function(t){A.resolved.push(t),0==--i&&n.resolve(A)},function(t){n.reject(t)});return n.promise},t.race=n,t.timeout=function(t,e,r){return n([t,A(function(t,A){setTimeout(function(){A(r)},e)})])},t.wrap=function(t){var A=e();return t&&t.then?t.then(function(t){A.resolve(t)},function(t){A.reject(t)}):A.reject("Not a promise"),A.promise}}(t.spromise||(t.spromise={}))}(advark||(advark={})),function(t){!function(e){(t.request||(t.request={})).send=function(e,A,r,n,i,o,s,a){void 0===r&&(r=!0),void 0===n&&(n=!0),void 0===i&&(i=void 0),void 0===o&&(o=void 0),void 0===s&&(s=void 0),void 0===a&&(a=void 0);var d=!1,c=new Date;function u(e){n?t.setImmediate(e):e()}function p(t){if(d||!t)return!0;d=!0,clearTimeout(m);for(var e=0,A=["onload","onerror","ontimeout","onreadystatechange"];e<A.length;e++){var r=A[e];try{t[r]&&(t[r]=void 0,delete t[r])}catch(t){}}return!1}function l(){p(_)||u(function(){return a&&a({uri:A,delay:(new Date).getTime()-c.getTime(),succeed:!0,code:_.status||200,text:_.responseText})})}function h(t){void 0===t&&(t=void 0),p(_)||u(function(){return a&&a({uri:A,delay:(new Date).getTime()-c.getTime(),succeed:!1,code:_.status||400,error:t?t.message:"Request error",text:_.responseText})})}function v(){p(_)||u(function(){return a&&a({uri:A,delay:(new Date).getTime()-c.getTime(),succeed:!1,code:_.status||408,error:"Request timeout",text:_.responseText})})}function f(){4==_.readyState&&(200==_.status||304==_.status?l():h())}var _=new XMLHttpRequest,m=i?setTimeout(v,i):void 0;u(function(){try{if("withCredentials"in _)_.onreadystatechange=f,_.onerror=h,_.ontimeout=v;else{if(!window.XDomainRequest)throw new Error("Unable to create HTTP-request object");(_=new window.XDomainRequest).onload=l,_.onerror=h}if(_.open(e,A,!0),i&&(_.timeout=i),r&&(_.withCredentials=r),o)for(var t in o)_.setRequestHeader(t,o[t]);_.send(s)}catch(t){h(t)}})}}()}(advark||(advark={})),function(t){!function(e){(t.track||(t.track={})).send=function(t,e){!function(t,e){var A=document.createElement("img");A.style.position="absolute",A.style.width="0",A.style.height="0",A.style.border="base",A.style.margin="0",A.style.padding="0",A.src=t;var r=new Date,n=function(n){A.parentNode&&A.parentNode.removeChild(A),e&&e({uri:t,delay:(new Date).getTime()-r.getTime(),succeed:!n.error,code:n.error?404:200,error:n.error})};A.onload=n,A.onerror=n,document.body.appendChild(A)}(t,e)}}()}(advark||(advark={})),function(t){!function(e){var A="//api.advarkads.com/pub/logger/geo",r=200,n="h:5";(t.devstat||(t.devstat={})).send=function(e,i,o,s){!function(e,n,i,o,s){var a=function(t){return encodeURIComponent(btoa(encodeURIComponent(t)))},d={i:a(e?e.substr(0,r):""),g:a(n?n.substr(0,r):""),m:a(i?i.substr(0,r):""),d:o?a(o instanceof Node||o instanceof XMLDocument?(new XMLSerializer).serializeToString(o):"string"==typeof o?o:JSON.stringify(o,void 0,void 0)):void 0,r:Math.random()};if(o)t.request.send("POST",A,!1,!0,void 0,{"Content-Type":"application/json; charset=utf-8"},JSON.stringify(d),s);else{var c=A+"?i=[i]&g=[g]&m=[m]&r=[r]";for(var u in d)c=c.replace("["+u+"]",d[u]);t.track.send(c,s)}}(e=n+(e?":"+e:""),i,o,s)}}()}(advark||(advark={})),function(t){var e,A;e=t.parser||(t.parser={}),A=function(){function t(t){this._source=t,this._parse()}return Object.defineProperty(t.prototype,"protocol",{get:function(){return this._protocol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this._port},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"site",{get:function(){return(this._protocol?this._protocol+":":"")+(this._domain?"//"+this._domain:"")+(this._port?":"+this._port:"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){for(var t=this.toString().split("/"),e=t.length-1;e>=3;e--)if(t[e])return t[e];return""},enumerable:!0,configurable:!0}),t.prototype.setProtocol=function(t){return this._protocol=t,this},t.prototype.setDomain=function(t){return this._domain=t,this},t.prototype.setPort=function(t){return this._port=t,this},t.prototype.setPath=function(t){return this._path=t,this},t.prototype.setParams=function(t){return this._params=t,this},t.prototype.setAnchor=function(t){return this._anchor=t,this},t.prototype.toString=function(){return(this._protocol?this._protocol+":":"")+(this._domain?"//"+this._domain:"")+(this._port?":"+this._port:"")+(this._path?this._path:"")+(this._params.length>0?"?"+this._params.toString():"")+(this._anchor?"#"+this._anchor:"")},t.prototype._parse=function(){try{var t=/^(([a-z0-9]+)\:)?(\/\/([^:?#\/]+))?(\:([0-9]+))?([^?#]+)?[?]?([^#]+)?[#]?(.+)?$/i.exec(this._source);if(void 0===t)throw new Error("Input string isn't URI.");this._protocol=t[2],this._domain=t[4],this._port=t[6]?Number(t[6]):void 0,this._path=t[7],this._params=new e.UriParams(t[8]),this._anchor=t[9]}catch(t){throw t}},t}(),e.Uri=A}(advark||(advark={})),function(t){var e,A;e=t.parser||(t.parser={}),A=function(){function t(t){this._changed=!1,this._items={},this._source=t,this._parse()}return Object.defineProperty(t.prototype,"length",{get:function(){var t=0;for(var e in this._items)void 0!==this._items[e]&&t++;return t},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._changed=!0,this._items={}},t.prototype.toString=function(){var t=this._source;if(this._changed){t="";var e=!1;for(var A in this._items)void 0!==this._items[A]&&(t+=(e?"&":"")+A+"="+this._items[A],e=!0)}return t},t.prototype.get=function(t){return this._items[t]},t.prototype.set=function(t,e){this._items[t]!==e&&(this._changed=!0,this._items[t]=e)},t.prototype._parse=function(){this._items=(this._source||"").split("&").reduce(function(t,e){var A=e.split("="),r=A[0],n=A[1];return t[r]=n,t},{})},t}(),e.UriParams=A}(advark||(advark={})),function(t){!function(e){(t.str||(t.str={})).toMap=function(e){if(e){var A={};return t.each(e,function(t,e){return A[e.toString()]=t&&t.toString&&t.toString()}),A}}}()}(advark||(advark={})),function(t){function e(t,e){if(t)if(t.length&&!isNaN(Number(t.length)))for(var A=0;A<t.length;A++)e(t[A],A);else for(var A in t)t.hasOwnProperty(A)&&e(t[A],A)}t.clone=function t(e){switch(Object.prototype.toString.apply(e)){case"[object Array]":for(var A=[],r=0;r<e.length;r++)A[r]=t(e[r]);return A;case"[object Object]":var n={};for(var r in e)n[r]=t(e[r]);return n;default:return e}},t.extend=function(t){for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];return t=t||{},e(A,function(A){return e(A,function(e,A){return t[A]=e})}),t},t.each=e,t.filter=function(t,e){for(var A=[],r=0;r<t.length;r++)e(t[r],r)&&A.push(t[r]);return A}}(advark||(advark={})),function(t){var e=function(){function t(){this._queue=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this._queue.length},enumerable:!0,configurable:!0}),t.prototype.append=function(t){var e=this,A=function(){t&&t(),e._queue.shift(),e._queue[0]&&e._queue[0]()};this._queue.push(A),this._queue[0]===A&&A()},t}();t.Conveyor=e}(advark||(advark={})),function(t){var e,A;e=t.vast||(t.vast={}),(A=e.errors||(e.errors={})).XMLParsingError=100,A.VastSchemaError=101,A.VastVersionNotSupported=102,A.AdUnsupported=200,A.AdUnexpectedLinearity=201,A.AdUnexpectedDuration=202,A.AdUnexpectedSize=203,A.WrapperError=300,A.WrapperTimeout=301,A.WrapperLimit=302,A.WrapperNoAd=303,A.LinearError=400,A.LinearFileLoadError=401,A.LinearTimeout=402,A.LinearNoSupportedFile=403,A.LinearFileError=405,A.NonLinearError=500,A.NonLinearInvalidSize=501,A.NonLinearFileLoadError=502,A.NonLinearNoSupportedFile=503,A.CompanionAdsError=600,A.CompanionNoAvailableSpace=601,A.UnableDisplayCompanion=602,A.UnableFetchCompanion=603,A.CompanionResourceUnsuported=604,A.Error=900,A.VpaidError=901}(advark||(advark={})),function(t){var e,A;e=t.vast||(t.vast={}),(A=e.errors||(e.errors={})).DmpError=10001,A.DmpReject=10002,A.DmpBadRequest=10003,A.DmpParseRespError=10004,A.ExternalVpaid=2e4}(advark||(advark={})),function(t){var e,A,r,n,i;e=t.vast||(t.vast={}),A=e.trackings||(e.trackings={}),(r=A.any||(A.any={})).mute="mute",r.unmute="unmute",r.pause="pause",r.resume="resume",r.rewind="rewind",r.skip="skip",r.playerExpand="playerExpand",r.playerCollapse="playerCollapse",(n=A.linear||(A.linear={})).start="start",n.firstQuartile="firstQuartile",n.midpoint="midpoint",n.thirdQuartile="thirdQuartile",n.complete="complete",n.acceptInvitationLinear="acceptInvitationLinear",n.timeSpentViewing="timeSpentViewing",n.otherAdInteraction="otherAdInteraction",n.progress="progress",(i=A.nonlinear||(A.nonlinear={})).creativeView="creativeView",i.acceptInvitation="acceptInvitation",i.adExpand="adExpand",i.adCollapse="adCollapse",i.minimize="minimize",i.close="close",i.overlayViewDuration="overlayViewDuration",i.otherAdInteraction="otherAdInteraction",(A.companion||(A.companion={})).creativeView="creativeView:"}(advark||(advark={})),function(t){!function(t){t.parseInteractiveFile=function(t,e,A){var r={api:t.getAttribute("apiFramework"),type:t.getAttribute("type"),path:t.textContent};for(var n in r)"string"==typeof r[n]&&(r[n]=r[n].trim(),"path"!==n&&(r[n]=r[n].toLowerCase()));if(0===r.path.length)throw new Error("Interactive file has no path");if(e){var i=!1;if(!r.api)throw new Error("Not supported API");for(var o=0,s=e;o<s.length;o++)if(s[o].trim().toLowerCase()===r.api){i=!0;break}if(!i)throw new Error("Not supported API")}if(A){if(i=!1,!r.type)throw new Error("Not supported MIME-type");for(var a=0,d=A;a<d.length;a++)if(d[a].trim().toLowerCase()===r.type){i=!0;break}if(!i)throw new Error("Not supported MIME-type")}return r},t.parseInteractiveFiles=function(e,A,r,n){var i=[];if(e)for(var o=0,s=A;o<s.length;o++)for(var a=s[o],d=e.getElementsByTagName(a),c=0;c<d.length;c++)try{i.push(t.parseInteractiveFile(d[c],r,n))}catch(t){}return i},t.parseVideoFile=function(t,e){var A={type:t.getAttribute("type"),path:t.textContent,width:parseInt(t.getAttribute("width")),height:parseInt(t.getAttribute("height"))};for(var r in A)"string"==typeof A[r]&&(A[r]=A[r].trim(),"path"!==r&&(A[r]=A[r].toLowerCase()));if(0===A.path.length)throw new Error("Media file has no path");if(isNaN(A.width)||isNaN(A.height))throw new Error("Media file has no width/height attribute");if(e){var n=!1;if(!A.type)throw new Error("Not supported MIME-type");for(var i=0,o=e;i<o.length;i++)if(o[i].test(A.type)){n=!0;break}if(!n)throw new Error("Not supported MIME-type")}return A},t.parseVideoFiles=function(e,A,r){var n=[];if(e)for(var i=0,o=A;i<o.length;i++)for(var s=o[i],a=e.getElementsByTagName(s),d=0;d<a.length;d++)try{n.push(t.parseVideoFile(a[d],r))}catch(t){}return n}}(t.vast||(t.vast={}))}(advark||(advark={})),function(t){!function(e){var A,r;e.allowMult=function(e){switch(e){case"NotViewable":case"Viewable":case"ViewUndetermined":return!1}switch(e){case"Preload":case"PreloadError":return!1}switch(e){case"AdClickRedirect":case"Progress":case"TeaserEnd":return!0;case"AdWaitUser":case"Empty":case"VastLoad":return!1}return t.vpaid.allowMult(e)},(A=e.viewability||(e.viewability={})).viewable="Viewable",A.notViewable="NotViewable",A.viewUndetermined="ViewUndetermined",(r=e.flash||(e.flash={})).Preload="Preload",r.PreloadError="PreloadError",e.ClickRedirect="AdClickRedirect",e.Empty="Empty",e.Ready="Ready",e.Progress="Progress",e.TeaserEnd="TeaserEnd",e.VastLoad="VastLoad",e.WaitUser="AdWaitUser"}(t.events||(t.events={}))}(advark||(advark={})),function(t){var e;(e=t.vpaid||(t.vpaid={})).VolumeMax=1,e.VolumeMin=0,e.WidthMin=0,e.HeightMin=0,e.CodeNotImplemented=-1,e.CodeUnknown=-2}(advark||(advark={})),function(t){var e,A;e=t.vpaid||(t.vpaid={}),(A=e.events||(e.events={})).AdLoaded="AdLoaded",A.AdStarted="AdStarted",A.AdStopped="AdStopped",A.AdSkipped="AdSkipped",A.AdSkippableStateChange="AdSkippableStateChange",A.AdSizeChange="AdSizeChange",A.AdLinearChange="AdLinearChange",A.AdDurationChange="AdDurationChange",A.AdExpandedChange="AdExpandedChange",A.AdRemainingTimeChange="AdRemainingTimeChange",A.AdVolumeChange="AdVolumeChange",A.AdImpression="AdImpression",A.AdVideoStart="AdVideoStart",A.AdVideoFirstQuartile="AdVideoFirstQuartile",A.AdVideoMidpoint="AdVideoMidpoint",A.AdVideoThirdQuartile="AdVideoThirdQuartile",A.AdVideoComplete="AdVideoComplete",A.AdClickThru="AdClickThru",A.AdInteraction="AdInteraction",A.AdUserAcceptInvitation="AdUserAcceptInvitation",A.AdUserMinimize="AdUserMinimize",A.AdUserClose="AdUserClose",A.AdPaused="AdPaused",A.AdPlaying="AdPlaying",A.AdLog="AdLog",A.AdError="AdError"}(advark||(advark={})),function(t){!function(t){t.getExpectedEvents=function(e){switch(e){case"initAd":return[t.events.AdLoaded];case"startAd":return[t.events.AdStarted];case"stopAd":return[t.events.AdStopped];case"pauseAd":return[t.events.AdPaused];case"resumeAd":return[t.events.AdPlaying];default:return}},t.allowMult=function(t){switch(t){case"AdError":case"AdLoaded":case"AdStarted":case"AdStopped":case"AdSkipped":case"AdVideoStart":case"AdVideoFirstQuartile":case"AdVideoMidpoint":case"AdVideoThirdQuartile":case"AdVideoComplete":return!1;default:return!0}}}(t.vpaid||(t.vpaid={}))}(advark||(advark={})),function(t){var e;(function(e){function A(){return[{lsName:"0C376D1A-6F4F-45FD-B6E9-ADFE95065D0C",jsName:"logLevel4",desc:"Включение 4 уровня лога"},{lsName:"C31FA8E4-5C16-4C54-9DDD-DACB24847D02",jsName:"logDispatchingEvents",desc:"Лог отправления событий"},{lsName:"3E5DE066-0B24-4B45-A73D-2BF00670C5A7",jsName:"logBuilders",desc:"Лог строителей объектов"},{lsName:"C8281E7E-9BE9-4F0A-8E61-87F6F2886B11",jsName:"logDebugContainer",desc:"Лог отладочного контейнера"},{lsName:"5AD29AC6-BC20-463D-B9B3-12BAD91DAE0C",jsName:"logDevstat",desc:"Лог отправки статистики разработчика"},{lsName:"A9EDC441-F2C2-40E4-9FED-BE83A8F50265",jsName:"logSand",desc:"Лог взаимодействия фрейм-клиент"},{lsName:"B409D4B8-A2DE-40F8-8997-2FB0AE4995F3",jsName:"logWrapper",desc:"Лог обёрток"},{lsName:"813CCA82-1C2D-4EE4-8A80-80E45F722431",jsName:"client_logClientLoader",desc:"Лог загрузчика AdvarkClient"},{lsName:"CD3CD4A2-5825-4216-91CE-823EBD4837D8",jsName:"client_logVpaid",desc:"Лог VPAID"},{lsName:"9E30643E-6C64-4DB0-A455-39E0A36C5BE7",jsName:"client_logContentRoll",desc:"Лог Content-Roll"},{lsName:"A79B3197-DA5D-4514-979A-6F95AEF137FD",jsName:"client_logSpruto",desc:"Лог Spruto Plugin"},{lsName:"0D71D29E-2041-4670-A3B0-61B0EBA0BAD0",jsName:"client_logAdvarkClient",desc:"Лог AdvarkClient"},{lsName:"C9A72BDB-5DE2-4DE8-BD58-80604EEB1D25",jsName:"client_logFlashWrapper",desc:"Лог FlashWrapper"},{lsName:"7F3CCD25-177A-4E95-B2DF-A9A0D61E5991",jsName:"client_logPlayer",desc:"Лог проигрывателя рекламы"},{lsName:"8B8B6DCC-D9B3-40C6-9E35-6D69DAE3E81B",jsName:"client_logVideo",desc:"Лог событий элемента video"}]}e.secretKeysGetInfo=A,e.secretKeysLoad=function(){for(var e={},A=0,r=[{lsName:"0C376D1A-6F4F-45FD-B6E9-ADFE95065D0C",jsName:"logLevel4",desc:"Включение 4 уровня лога"},{lsName:"C31FA8E4-5C16-4C54-9DDD-DACB24847D02",jsName:"logDispatchingEvents",desc:"Лог отправления событий"},{lsName:"3E5DE066-0B24-4B45-A73D-2BF00670C5A7",jsName:"logBuilders",desc:"Лог строителей объектов"},{lsName:"C8281E7E-9BE9-4F0A-8E61-87F6F2886B11",jsName:"logDebugContainer",desc:"Лог отладочного контейнера"},{lsName:"5AD29AC6-BC20-463D-B9B3-12BAD91DAE0C",jsName:"logDevstat",desc:"Лог отправки статистики разработчика"},{lsName:"A9EDC441-F2C2-40E4-9FED-BE83A8F50265",jsName:"logSand",desc:"Лог взаимодействия фрейм-клиент"},{lsName:"B409D4B8-A2DE-40F8-8997-2FB0AE4995F3",jsName:"logWrapper",desc:"Лог обёрток"},{lsName:"813CCA82-1C2D-4EE4-8A80-80E45F722431",jsName:"client_logClientLoader",desc:"Лог загрузчика AdvarkClient"},{lsName:"CD3CD4A2-5825-4216-91CE-823EBD4837D8",jsName:"client_logVpaid",desc:"Лог VPAID"},{lsName:"9E30643E-6C64-4DB0-A455-39E0A36C5BE7",jsName:"client_logContentRoll",desc:"Лог Content-Roll"},{lsName:"A79B3197-DA5D-4514-979A-6F95AEF137FD",jsName:"client_logSpruto",desc:"Лог Spruto Plugin"},{lsName:"0D71D29E-2041-4670-A3B0-61B0EBA0BAD0",jsName:"client_logAdvarkClient",desc:"Лог AdvarkClient"},{lsName:"C9A72BDB-5DE2-4DE8-BD58-80604EEB1D25",jsName:"client_logFlashWrapper",desc:"Лог FlashWrapper"},{lsName:"7F3CCD25-177A-4E95-B2DF-A9A0D61E5991",jsName:"client_logPlayer",desc:"Лог проигрывателя рекламы"},{lsName:"8B8B6DCC-D9B3-40C6-9E35-6D69DAE3E81B",jsName:"client_logVideo",desc:"Лог событий элемента video"}];A<r.length;A++){var n=r[A];e[n.jsName]="true"===t.lstorage.read(n.lsName)}return e}})((e=t.context||(t.context={})).utils||(e.utils={}))}(advark||(advark={})),function(t){!function(t){t.secretKeys=t.secretKeys||{};var e=t.utils.secretKeysLoad();for(var A in e)t.secretKeys[A]=e[A];t.settings=t.settings||{},t.timeouts=t.timeouts||{request:2500,initClient:5e3,initSeq:1e4,initAd:3500,startAd:3500,stopAd:3500,pauseAd:2e3,resumeAd:2e3,startVideo:3e3,disposeVpaid:500,vpaidPlayerHideLogo:3e3},t.settings.nodeEnv=t.settings.nodeEnv||"prod",t.settings.debug=t.settings.debug||!1,t.settings.clickTarget=t.settings.clickTarget||"_blank",t.taskFlags=t.taskFlags||{}}(t.context||(t.context={}))}(advark||(advark={})),function(t){var e,A;(e=t.devstat||(t.devstat={})).strUnk="?",e.strEnd=".",e.strTo="->",e.strSuccess="+",e.strFail="-",e.strSelector=":",e.strField=".",e.strComma=",",e.strChildOn="(",e.strChildOff=")",e.strTick="t",e.strAnd="&",e.strOr="|",e.strResolve=e.strSuccess,e.strReject=e.strFail,e.strCreated="new",e.strDisposed="disposed",e.strNewAd="newad",e.strWrapper="wrap",e.strError="err",e.strDispose="dispose",e.strLinear="linear",e.strNonlinear="nonlinear",e.strDelay="delay",e.strClient="cl",e.strPlayer="pl",e.strFrame="fr",e.strChild="ch",e.strCalled=">",e.strDone="#",e.strDispatch="dispatch",e.strErrorData=e.strSelector,e.strErrorPrefix=e.strError+e.strSelector,e.strBreakPrefix="break"+e.strSelector,e.evtSelect="as",e.evtRequest="ar",e.evtVastLoad="vl",e.evtLoaded="al",e.evtWaitUser="wu",e.evtImpression="ai",e.evtImpression2s=e.evtImpression+"2s",e.evtInit="ini",e.evtStart="sta",e.evtStop="stp",e.evtSkip="skip",e.evtUserClose="uclose",e.evtError=e.strError,e.evtPause="pa",e.evtResume="re",e.evtClick="clk",e.evtViewable="av",e.evtVideoStart="vs",e.evtFirstQuartile="fq",e.evtMidpoint="mp",e.evtThridQuartile="tq",e.evtVideoComplete="vc",A="_",e.mthInit=A+e.evtInit,e.mthLoad="_l",e.mthLoadString="_ls",e.mthLoadNode="_ln",e.mthLoadElement="_le",e.mthSubscribe="_sub",e.mthStart=A+e.evtStart,e.mthStop=A+e.evtStop,e.mthPause=A+e.evtPause,e.mthResume=A+e.evtResume,e.msgToRequest=e.evtSelect+e.strTo+e.evtRequest,e.msgToVastLoad=e.evtRequest+e.strTo+e.evtVastLoad,e.msgToLoaded=e.evtVastLoad+e.strTo+e.evtLoaded,e.msgToWaitUser=e.evtLoaded+e.strTo+e.evtWaitUser,e.msgToImpression=e.evtWaitUser+e.strTo+e.evtImpression,e.msgToStarted=e.evtImpression+e.strTo+e.evtStart,e.msgToVideoStart=e.evtStart+e.strTo+e.evtVideoStart,e.msgToFirstQuartile=e.evtVideoStart+e.strTo+e.evtFirstQuartile,e.msgToViewable=e.strChild+e.strTo+e.evtViewable,e.msgToStopped=e.evtStart+e.strTo+e.evtStop,e.msgDelayToStartAd=e.strDelay+e.strSelector+e.evtStart+e.strCalled,e.msgDelayToImpression=e.strDelay+e.strSelector+e.evtImpression,e.msgUid="uid",e.msgUserAgent="user-agent",e.msgSeq="sequence",e.msgVast="vast",e.errLogicBreak=e.strErrorPrefix+"logicbreak",e.errTrack=e.strErrorPrefix+"track",e.errDispatch=e.strErrorPrefix+e.strDispatch,e.errNoUid=e.strErrorPrefix+"nouid",e.errDmpTooLate=e.strErrorPrefix+"dmptoolate",e.errBuilder=e.strErrorPrefix+"builder",e.errPlayerBuild=e.strErrorPrefix+"playerBuild",e.errHandle=e.strErrorPrefix+"handle",e.errXmlParse=e.strErrorPrefix+"xmlParse",e.errPrepr=e.strErrorPrefix+"prepr",e.errDelta=e.strErrorPrefix+"delta",e.errNoToken=e.strErrorPrefix+"notoken",e.errPrefixMethod=e.strErrorPrefix+"method"+e.strSelector,e.errViewUnd=e.strErrorPrefix+"viewUnd",e.errVastHead=e.strErrorPrefix+"vastHead",e.errCall=e.strErrorPrefix+e.strCalled}(advark||(advark={})),function(t){!function(e){e.EventName=function(A){switch(A){case t.events.WaitUser:return e.evtWaitUser;case t.vpaid.events.AdLoaded:return e.evtLoaded;case t.vpaid.events.AdError:return e.strError;case t.vpaid.events.AdPaused:return e.evtPause;case t.vpaid.events.AdPlaying:return e.evtResume;case t.vpaid.events.AdStopped:return e.evtStop;case t.vpaid.events.AdStarted:return e.evtStart;case t.vpaid.events.AdSkipped:return e.evtSkip;case t.vpaid.events.AdUserClose:return e.evtUserClose;case t.vpaid.events.AdImpression:return e.evtImpression;case t.vpaid.events.AdVideoStart:return e.evtVideoStart;case t.vpaid.events.AdVideoFirstQuartile:return e.evtFirstQuartile;case t.vpaid.events.AdVideoMidpoint:return e.evtMidpoint;case t.vpaid.events.AdVideoThirdQuartile:return e.evtThridQuartile;case t.vpaid.events.AdVideoComplete:return e.evtVideoComplete;default:return}},e.MethodName=function(t){switch(t){case"initAd":return e.mthInit;case"startAd":return e.mthStart;case"stopAd":return e.mthStop;case"pauseAd":return e.mthPause;case"resumeAd":return e.mthResume;default:return}}}(t.devstat||(t.devstat={}))}(advark||(advark={})),function(t){var e;(e=t.integration||(t.integration={})).TypeSpruto=4,e.TypeVpaid=5,e.TypeJavaScript=6}(advark||(advark={})),function(t){(advark||(advark={})).getHosts=function(){var t=window.location.origin?"null"===window.location.origin?[]:[window.location.origin]:[window.location.protocol+"//"+window.location.host];if(window!=window.top)if(window.location.ancestorOrigins){var e=window.location.ancestorOrigins;t.push(e[0]),e.length>1&&t.push(e[e.length-1])}else t.push(document.referrer);return t}}(),function(t){(t.base||(t.base={})).STR_NO_VALUE="<no value>"}(advark||(advark={})),function(t){var e,A;e=t.base||(t.base={}),(A=e.errors||(e.errors={})).AlreadyDone="Something already done",A.AlreadyExist="Object already exist",A.BadFeed="Bad feed",A.Cancelled="Cancelled",A.CantInitVideo="Cannot initialize video element",A.Disposing="Disposing",A.Disposed="Disposed",A.Done="Done",A.Duplicate="Duplicate",A.Empty="Empty",A.InvalidParams="Invalid parameters",A.New="New instance",A.NoError="No error",A.NoListeners="No listeners",A.NoLogger="No logger",A.NoMessage="No message",A.NoNextHandler="No next handler",A.NoSupportedFiles="No supported files",A.NotAllowed="Not allowed",A.NotImplemented="Not implemented",A.NotPassed="Not passed",A.NotReady="Object isn't ready",A.NotSupported="Not supported",A.Reset="Reset",A.Skipped="Skipped",A.StatesLogicBreak="States logic break",A.Stopped="Stopped",A.Timeout="Timeout exceed",A.WrapperLimit="Wrapper limit exceed",A.WrongIndex="Wrong index",A.WrongSize="Wrong data size",A.Undefined="Undefined error",A.Unload="Unload"}(advark||(advark={})),function(t){var e,A;e=t.base||(t.base={}),A=function(){function A(){this._disposing=!1,this._disposed=!1}return A.prototype.dispose=function(A){return this._disposing?t.spromise.rejected(e.errors.Disposing):(this._disposing=!0,this._dispose(A))},A.prototype._dispose=function(A){return this._disposed?t.spromise.rejected(e.errors.Disposed):(this._disposed=!0,t.spromise.resolved())},A}(),e.ADisposableObject=A}(advark||(advark={}));var advark,__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)e.hasOwnProperty(A)&&(t[A]=e[A])};return function(e,A){function r(){this.constructor=e}t(e,A),e.prototype=null===A?Object.create(A):(r.prototype=A.prototype,new r)}}();!function(t){var e,A;e=t.base||(t.base={}),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"level",{get:function(){return this._parent?this._parent.level?this._parent.level+1:0:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Object.getPrototypeOf(this).constructor.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathStr",{get:function(){return(this._parent?this._parent.pathStr?this._parent.pathStr:this._parent.name?this._parent.name.substr(0,1).toLowerCase():"":"")+this.name.substr(0,1).toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathList",{get:function(){return(this._parent?this._parent.pathList?this._parent.pathList:this._parent.name?[this._parent.name]:[]:[]).concat(this.name)},enumerable:!0,configurable:!0}),e.prototype.setParent=function(t){return this._parent=t,this},e}(e.ADisposableObject),e.AParentableObject=A}(advark||(advark={})),function(t){var e,A;e=t.base||(t.base={}),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(e.AParentableObject),e.ALogWriter=A}(advark||(advark={})),function(t){var e,A;e=t.base||(t.base={}),A=function(){function e(){this.name="",this.text="",this.level=0,this.multiply=!0,this.count=0,this._tickStr=t.devstat.strTick,this._tickSize=1e3,this._ticksLeft=20,this._ticksEnabled=!1,this._created=new Date}return Object.defineProperty(e.prototype,"started",{get:function(){return""!==this.text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ticks",{get:function(){return this._ticksEnabled},enumerable:!0,configurable:!0}),e.prototype.setLevel=function(e){for(var A=0;A<Math.abs(this.level-e);A++)this.text+=e>this.level?t.devstat.strChildOn:t.devstat.strChildOff;this.level=e},e.prototype.append=function(t,e){if(t&&""!==t){if(this.ticks){var A=this._ticksOver();A>0&&this._append((A>1?A.toString():"")+this._tickStr,this.level)}this._append(t,e)}},e.prototype._append=function(e,A){if(this.level===A){var r=this.text.length,n=this.text[r-1];0===r||n===t.devstat.strChildOff||n===t.devstat.strChildOn||(this.text+=t.devstat.strComma)}else this.setLevel(A);this.text+=e},e.prototype._ticksOver=function(){if(!this.ticks||this._ticksLeft<=0)return 0;var t=new Date,e=t.getTime()-this._ticksLast.getTime();this._ticksLast=t;var A=Math.round(e/this._tickSize);return this._ticksLeft-=A,A},e.prototype.ticksEnable=function(t,e,A){this._tickStr=t||this._tickStr,this._tickSize=e||this._tickSize,this._ticksLeft=A||this._ticksLeft,this._ticksLast=new Date,this._ticksEnabled=!0},e}(),e.ADevstatObject=A}(advark||(advark={})),function(t){var e,A;e=t.base||(t.base={}),A=function(A){function r(){var t=null!==A&&A.apply(this,arguments)||this;return t._devstatObjects={},t}return __extends(r,A),r.prototype._devstatSender=function(){return this.name},Object.defineProperty(r.prototype,"_devstatIsTracker",{get:function(){return!this.parent},enumerable:!0,configurable:!0}),r.prototype.devstatIsStarted=function(t,e){var A;if(this._devstatIsTracker){var r=this._devstatGet(e);A=r&&r.started}else A=this.parent.devstatIsStarted(t,e);return A},r.prototype.devstatWrite=function(t,e,A,r){void 0===r&&(r=void 0);var n=this.parent;n&&!this._devstatIsTracker?n.devstatWrite(t,e,A,r):this._devstatWrite(t,e,A,r)},r.prototype.devstatSend=function(t,e,A,r,n){void 0===A&&(A=void 0),void 0===r&&(r=void 0),void 0===n&&(n=void 0);var i=this.parent;i&&!this._devstatIsTracker?i.devstatSend(t,e,A,r,n):this._devstatSend(t,e,A,r,n)},r.prototype.devstatSendIfStarted=function(t,e,A,r,n){void 0===A&&(A=void 0),void 0===r&&(r=void 0),void 0===n&&(n=void 0),this.devstatIsStarted(t,e)&&this.devstatSend(t,e,A,r,n)},r.prototype._devstatTransmit=function(e,A,r,n){void 0===r&&(r=void 0),void 0===n&&(n=void 0),r=r||this._devstatSender(),t.devstat.send(r,e,A,n)},r.prototype._dispose=function(r){if(this._disposed)return t.spromise.rejected(e.errors.Disposed);for(var n in this._devstatObjects){var i=this._devstatObjects[n];i&&""!==i.text&&(0===i.count||i.multiply)&&(this._devstatTransmit(n+t.devstat.strSelector+i.count,i.text,void 0,i.data),i.text="",i.count++)}return delete this._devstatObjects,A.prototype._dispose.call(this,r)},r.prototype._devstatCreate=function(t,A,r){if(void 0===A&&(A=!1),void 0===r&&(r=!1),this._devstatIsTracker&&!this._devstatObjects[t]){var n=new e.ADevstatObject;return n.name=t,n.multiply=A,r&&n.ticksEnable(),n=this._devstatSet(t,n)}},r.prototype._devstatDelete=function(t){return!!this._devstatIsTracker&&(!!this._devstatObjects[t]&&(delete this._devstatObjects[t],!0))},r.prototype._devstatGet=function(t){if(this._devstatObjects&&this._devstatObjects[t])return this._devstatObjects[t]},r.prototype._devstatSet=function(t,e){return this._devstatObjects[t]=e,this._devstatObjects[t]},r.prototype._devstatWrite=function(t,e,A,r){void 0===r&&(r=void 0);var n=this._devstatGet(e);if(n){var i=t.level-this.level;A&&n.append(A,i),r&&!n.data&&(n.data=r)}},r.prototype._devstatSend=function(e,A,r,n,i){void 0===r&&(r=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0),this._devstatWrite(e,A,r,n);var o=this._devstatGet(A);if(o){var s=e.level-this.level;s>0?o.setLevel(s):(0===o.count||o.multiply)&&(this._devstatTransmit(A+t.devstat.strSelector+o.count,o.text,i,o.data),o.text="",o.count++)}},r}(e.ALogWriter),e.ADevstatWriter=A}(advark||(advark={})),function(t){var e,A;e=t.base||(t.base={}),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._devstatSender=function(){return this.pathStr},e}(e.ADevstatWriter),e.ADebugableObject=A}(advark||(advark={})),function(t){var e,A,r;e=t.base||(t.base={}),A=e.factory||(e.factory={}),r=function(e){function A(){return null!==e&&e.apply(this,arguments)||this}return __extends(A,e),A.prototype.setItem=function(t,e){return this["_"+t]=e,this},A.prototype.getItem=function(t){return this["_"+t]},A.prototype.setClass=function(t){return this.setItem("class",t)},A.prototype.getClass=function(){return this.getItem("class")},A.prototype.setClassName=function(t){return this.setItem("className",t)},Object.defineProperty(A.prototype,"className",{get:function(){return this.getItem("className")},enumerable:!0,configurable:!0}),A.prototype.setTargetParent=function(t){return this.setItem("targetParent",t)},Object.defineProperty(A.prototype,"targetParent",{get:function(){return this.getItem("targetParent")},enumerable:!0,configurable:!0}),A.prototype.build=function(){try{var e=this._checkCache();return e||(e=this._construct(),this._targetParent&&e.setParent(this._targetParent),this._beforeBuild(e),e.build(),this._afterBuild(e)),e}catch(e){throw this.devstatSend(this,t.devstat.errBuilder,e.message,e.data?JSON.stringify(e.data,void 0,void 0):void 0),e}},A.prototype._checkCache=function(){},A.prototype._beforeBuild=function(t){},A.prototype._afterBuild=function(t){},A}(e.ADebugableObject),A.ABuilder=r}(advark||(advark={})),function(t){var e,A,r;e=t.base||(t.base={}),A=e.factory||(e.factory={}),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._builded=!1,e}return __extends(e,t),e.prototype.build=function(){return this._builded=!0,this},e}(e.ADebugableObject),A.ABuildableItem=r}(advark||(advark={})),function(t){var e,A;e=t.request||(t.request={}),A=function(A){function r(){var e=null!==A&&A.apply(this,arguments)||this;return e._method="GET",e._timeout=t.context.timeouts.request,e._async=!0,e}return __extends(r,A),r.prototype.setMethod=function(t){return this._method=t,this},Object.defineProperty(r.prototype,"method",{get:function(){return this._method},enumerable:!0,configurable:!0}),r.prototype.setUri=function(t){return this._uri=t,this},Object.defineProperty(r.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),r.prototype.setCredentials=function(t){return this._credentrials=t,this},Object.defineProperty(r.prototype,"credentials",{get:function(){return this._credentrials},enumerable:!0,configurable:!0}),r.prototype.setHeaders=function(t){return this._headers=t,this},Object.defineProperty(r.prototype,"headers",{get:function(){return this._headers},enumerable:!0,configurable:!0}),r.prototype.setTimeout=function(t){return this._timeout=t,this},Object.defineProperty(r.prototype,"timeout",{get:function(){return this._timeout},enumerable:!0,configurable:!0}),r.prototype.setAsync=function(t){return this._async=t,this},Object.defineProperty(r.prototype,"async",{get:function(){return this._async},enumerable:!0,configurable:!0}),r.prototype.send=function(){var e=t.spromise.deffer();return this._send(function(t){t.succeed?e.resolve(t):e.reject(t)}),e.promise},r.prototype._send=function(t){e.send(this._method,this._uri,this._credentrials,this._async,this._timeout,this._headers,this._data,t)},r}(t.base.factory.ABuildableItem),e.Request=A}(advark||(advark={})),function(t){var e,A;e=t.module||(t.module={}),(A=e.errors||(e.errors={})).SeqEmpty=function(A,r){return new e.AdError("Sequence is empty",t.vast.errors.WrapperNoAd,A,r)},A.AdLinearFeedError=function(A,r){return new e.AdError(A?A.message||A:"Feed load error",t.vast.errors.LinearFileLoadError,A,r)},A.AdNonLinearFeedError=function(A,r){return new e.AdError(A?A.message||A:"Feed load error",t.vast.errors.NonLinearFileLoadError,A,r)},A.ExternalVpaid=function(A,r){return new e.AdError(A?A.message||A:"External VPAID Error",t.vast.errors.ExternalVpaid+(A&A.code||t.vast.errors.Error),A,r)},A.ClientInitTimeout=function(A,r){return new e.AdError("Client init timeout",t.vast.errors.Error,A,r)},A.VmapEmpty=function(A,r){return new e.AdError("Unable to find suitable ad",t.vast.errors.Error,A,r)},A.PlayerBuild=function(A,r){return new e.AdError(A?A.message||A:"Player building error",t.vast.errors.VpaidError,A,r)},A.VideoElementError=function(A,r){return new e.AdError("Video element error",t.vast.errors.LinearFileError,A,r)},A.VideoFileLoadTimeout=function(A,r){return new e.AdError(A?A.message||A:"Video file playing timeout",t.vast.errors.LinearFileLoadError,A,r)},A.BannerFileLoadError=function(A,r){return new e.AdError(A?A.message||A:"Unable to load banner image",t.vast.errors.NonLinearFileLoadError,A,r)},A.UserActionTimeout=function(A,r){return new e.AdError("Waiting user timeout",t.vast.errors.LinearTimeout,A,r)}}(advark||(advark={})),function(t){var e,A;e=t.module||(t.module={}),A=function(){function e(e,A,r,n){void 0===A&&(A=t.vast.errors.Error),void 0===r&&(r=void 0),void 0===n&&(n=void 0),this.name="AdError",this.message=e,this.code="string"==typeof A?parseInt(A):A,this.previous=r,this.data=n}return e.Build=function(A,r,n,i){void 0===r&&(r=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0);try{if(A instanceof Array&&(A=A.pop()),A instanceof e)return i&&(A.data=t.extend(A.data,i)),A;if(!A)throw new Error("Undefined error passed to builder");var o="string"==typeof A?/^(\d+)\s+(.+)$/i.exec(A):void 0,s=t.base.errors.Undefined,a=t.vast.errors.Error;return new e(A?"string"==typeof A?o&&o[2]?o[2]:A:A.message?A.message:A.data&&A.data.message?A.data.message:s:n?"string"==typeof n?n:n.message?n.message:s:s,A?"string"==typeof A&&o&&o[1]?parseInt(o[1]):A.code?A.code:A.data&&A.data.code?A.data.code:a:n&&n.code?n.code:a,A instanceof Error?A:n instanceof Error?n:void 0,i||(A&&A.data?A.data:void 0))}catch(A){return new e("Undefined error",t.vast.errors.Error,A)}},Object.defineProperty(e.prototype,"stringLine",{get:function(){return this.code+" "+this.message},enumerable:!0,configurable:!0}),e}(),e.AdError=A}(advark||(advark={})),function(t){var e,A;e=t.module||(t.module={}),A=function(e){function A(){var t=null!==e&&e.apply(this,arguments)||this;return t._listenerRecs={},t}return __extends(A,e),A.prototype.subscribe=function(t,e,A){void 0===A&&(A=void 0),this._disposing||(this._listenerRecs[e]||(this._listenerRecs[e]=[]),this._listenerRecs[e].push({listener:t,scope:A||window}))},A.prototype.unsubscribe=function(t,e){if(!this._disposing){var A=this._listenerRecs[e];if(A)for(var r=0;A&&A.length>r;)A[r].listener===t?A.splice(r,1):r++}},A.prototype._resetListeners=function(){this._listenerRecs={}},A.prototype._dispatch=function(e){for(var A=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this._listenerRecs[e];if(!i||0===i.length)return t.spromise.resolved(t.base.errors.NoListeners);for(var o=t.spromise.resolved(),s=0;s<i.length;){var a=i.length;o=o.then(function(){return A._callListener(e,i[s],r)}),a===i.length&&s++}return o=o.catch(function(){return t.spromise.resolved()})},A.prototype._callListener=function(e,A,r){var n;try{n=A.listener.apply(A.scope,r)||t.spromise.resolved()}catch(o){var i={name:this.name,path:this.pathStr,args:r,listener:A.listener.toString()};this._devstatTransmit(t.devstat.errDispatch+t.devstat.strSelector+e,o.message||o,void 0,i),n=t.spromise.resolved()}return n},A}(t.base.factory.ABuildableItem),e.AEventDispatcher=A}(advark||(advark={})),function(t){var e,A;e=t.module||(t.module={}),A=function(e){function A(){var t=null!==e&&e.apply(this,arguments)||this;return t._eventTimeoutIds={},t._eventTimes={},t._eventParams={},t._eventHandlers={},t}return __extends(A,e),A.prototype._getHandlingEvents=function(){return[]},Object.defineProperty(A.prototype,"eventDispatcher",{get:function(){},enumerable:!0,configurable:!0}),A.prototype._clearEventTimeout=function(t){this._eventTimeoutIds[t]&&(clearTimeout(this._eventTimeoutIds[t]),delete this._eventTimeoutIds[t])},A.prototype._subscribeEvents=function(e){void 0===e&&(e=void 0);for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];for(var n=0,i=this._getHandlingEvents();n<i.length;n++){var o=i[n];this._subscribeEvent.apply(this,[o,e].concat(A))}return t.spromise.resolved()},A.prototype._unsubscribeEvents=function(){for(var e=0,A=this._getHandlingEvents();e<A.length;e++){var r=A[e];this._unsubscribeEvent(r)}return t.spromise.resolved()},A.prototype._handleEvent=function(e){for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];return this._disposing?t.spromise.rejected(t.base.errors.Disposing):this._handleEventEnd.apply(this,[e].concat(A))},A.prototype._handleEventEnd=function(e){for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];return this._disposing?t.spromise.rejected(t.base.errors.Disposing):(this._clearEventTimeout(e),this._eventTimes[e]=new Date,this._eventParams[e]=A,this._dispatch.apply(this,[e].concat(A)))},A.prototype._dispose=function(A){if(this._disposed)return t.spromise.rejected(t.base.errors.Disposed);for(var r in this._unsubscribeEvents(),this._eventTimeoutIds)this._clearEventTimeout(r);return delete this._eventTimeoutIds,e.prototype._dispose.call(this,A)},A.prototype._createEventHandler=function(t){for(var e=this,A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];return this._eventHandlers[t]=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e._handleEvent.apply(e,[t].concat(A).concat(r))},this._eventHandlers[t]},A.prototype._deleteEventHandler=function(t){this._eventHandlers[t]=void 0},A.prototype._subscribeEvent=function(t,e){for(var A=[],r=2;r<arguments.length;r++)A[r-2]=arguments[r];(e=e||this.eventDispatcher)&&e.subscribe(this._createEventHandler.apply(this,[t].concat(A)),t)},A.prototype._unsubscribeEvent=function(t){this.eventDispatcher&&this.eventDispatcher.unsubscribe(this._eventHandlers[t],t)},A}(e.AEventDispatcher),e.AEventReceiver=A}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A="Wrong sequence for state: ",r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._strict=!0,e._loaded=!1,e._started=!1,e._stopped=!1,e._resumed=!1,e._paused=!1,e._loading=!1,e._starting=!1,e._stopping=!1,e._resuming=!1,e._pausing=!1,e}return __extends(e,t),e.prototype.setStrict=function(t){return this._strict=t,this},Object.defineProperty(e.prototype,"strict",{get:function(){return this._strict},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loaded",{get:function(){return this._loaded},set:function(t){if(this._check("loaded",t),this._strict&&!this._loading)throw new Error(A+"loaded");this._loading=!1,this._loaded=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"started",{get:function(){return this._started},set:function(t){if(this._check("started",t),this._strict&&!this._starting)throw new Error(A+"started");this._starting=!1,this._started=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stopped",{get:function(){return this._stopped},set:function(t){this._check("stopped",t),this._loading=!1,this._pausing=!1,this._resuming=!1,this._starting=!1,this._stopping=!1,this._stopped=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumed",{get:function(){return this._resumed},set:function(t){if(this._check("resumed",t),this._strict&&!this._started)throw new Error(A+"resumed");this._resuming=!1,this._pausing=!1,this._resumed=!0,this._paused=!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){if(this._check("paused",t),!this._started)throw new Error(A+"paused");this._resuming=!1,this._pausing=!1,this._resumed=!1,this._paused=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},set:function(t){this._check("loading",t),this._loading=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"starting",{get:function(){return this._starting},set:function(t){if(this._check("starting",t),this._strict&&!this._loaded)throw new Error(A+"starting");this._starting=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stopping",{get:function(){return this._stopping},set:function(t){this._check("stopping",t),this._loading=!1,this._pausing=!1,this._resuming=!1,this._starting=!1,this._stopping=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resuming",{get:function(){return this._resuming},set:function(t){if(this._check("resuming",t),this._strict&&(!this._started||!this._paused))throw new Error(A+"resuming");this._resuming=!0,this._pausing=!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pausing",{get:function(){return this._pausing},set:function(t){if(this._check("pausing",t),this._strict&&(!this._started||this._paused))throw new Error(A+"pausing");this._resuming=!1,this._pausing=!0},enumerable:!0,configurable:!0}),e.prototype._check=function(t,e){if(this._strict){if(!0!==e)throw new Error("Manual state switching to false is not allowed for state: "+t);if(this["_"+t])throw new Error("Duplicate state switching is not allowed for state: "+t);if(this._stopped||this._stopping&&"stopped"!==t)throw new Error("Trying to change state while stopping or stopped: "+t)}},e.prototype.reset=function(){this._loaded=!1,this._started=!1,this._stopped=!1,this._resumed=!1,this._paused=!1,this._loading=!1,this._starting=!1,this._stopping=!1,this._resuming=!1,this._pausing=!1},e}(t.base.factory.ABuildableItem),e.AdStates=r}(advark||(advark={})),function(t){var e,A;e=t.module||(t.module={}),A=function(A){function r(){return null!==A&&A.apply(this,arguments)||this}return __extends(r,A),r.prototype.build=function(){return A.prototype.build.call(this),this._states=(new e.AdStates).setParent(this).build(),this},r.prototype.initAd=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];return this._disposing?t.spromise.rejected(t.base.errors.Disposing):this._states.loading||this._states.loaded?t.spromise.rejected(t.base.errors.AlreadyDone):(this._states.loading=!0,t.spromise.resolved())},r.prototype.startAd=function(){return this._disposing||!this._states.loaded?t.spromise.rejected(t.base.errors.NotReady):this._states.starting||this._states.started?t.spromise.rejected(t.base.errors.AlreadyDone):(this._states.starting=!0,t.spromise.resolved())},r.prototype.stopAd=function(){return this._disposing||!this._states.started?t.spromise.rejected(t.base.errors.NotReady):this._states.stopping||this._states.stopped?t.spromise.rejected(t.base.errors.AlreadyDone):(this._states.stopping=!0,t.spromise.resolved())},r.prototype.pauseAd=function(){return this._disposing||!this._states.started?t.spromise.rejected(t.base.errors.NotReady):this._states.pausing||this._states.paused?t.spromise.rejected(t.base.errors.AlreadyDone):(this._states.pausing=!0,t.spromise.resolved())},r.prototype.resumeAd=function(){return this._disposing||!this._states.started?t.spromise.rejected(t.base.errors.NotReady):(this._states.resuming||this._states.resumed||(this._states.resuming=!0),t.spromise.resolved())},r.prototype._handleEvent=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];switch(e){case t.vpaid.events.AdLoaded:this._states.loaded=!0;break;case t.vpaid.events.AdStarted:this._states.started=!0;break;case t.vpaid.events.AdError:case t.vpaid.events.AdStopped:this._states.stopped=!0;break;case t.vpaid.events.AdPaused:this._states.paused=!0;break;case t.vpaid.events.AdPlaying:this._states.resumed=!0}return(r=A.prototype._handleEvent).apply.call(r,this,[e].concat(n))},r.prototype._handleEventEnd=function(e){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);switch(e){case t.vpaid.events.AdStopped:r=this._handleStop.apply(this,i);break;case t.vpaid.events.AdError:r=this._handleError.apply(this,i)}return r||(n=A.prototype._handleEventEnd).apply.call(n,this,[e].concat(i))},r.prototype._handleError=function(A){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);var o=e.AdError.Build(A),s=this._dispatch.apply(this,[t.vpaid.events.AdError,o].concat(n));return s=s.inspect(function(){return r._states.strict?r.dispose(o):void 0}).catch(function(){return t.spromise.resolved()})},r.prototype._handleStop=function(){for(var e=this,A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);var n=this._dispatch.apply(this,[t.vpaid.events.AdStopped].concat(A));return n=n.inspect(function(){return e._states.strict?e.dispose(t.base.errors.Stopped):void 0}).catch(function(){return t.spromise.resolved()})},r}(e.AEventReceiver),e.AManager=A}(advark||(advark={})),function(t){var e,A;e=t.module||(t.module={}),A=function(e){function A(){var t=null!==e&&e.apply(this,arguments)||this;return t._awaitRecs=[],t._awaitPromises={},t}return __extends(A,e),A.prototype.initAd=function(){for(var A=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i,o="initAd";return this._states.loaded?t.spromise.resolved():this._states.loading?this._awaitPromises[o]:(this._awaitPromises[o]=this._waitEvents([t.vpaid.events.AdLoaded],[t.vpaid.events.AdError],o),(i=e.prototype.initAd).apply.call(i,this,r).then(function(){return A.__initAd.apply(A,r)}),this._awaitPromises[o])},A.prototype.startAd=function(){var A=this,r="startAd";return this._states.started?t.spromise.resolved():this._states.starting?this._awaitPromises[r]:(this._awaitPromises[r]=this._waitEvents([t.vpaid.events.AdStarted,t.events.WaitUser],[t.vpaid.events.AdError],r).catch(function(e){return A._handleEvent(t.vpaid.events.AdError,e).then(function(){return t.spromise.rejected(e)})}),e.prototype.startAd.call(this).then(function(){return A.__startAd()}),this._awaitPromises[r])},A.prototype.stopAd=function(){var A=this,r="stopAd";return this._states.stopped?t.spromise.resolved():this._states.stopping?this._awaitPromises[r]:(this._awaitPromises[r]=this._waitEvents([t.vpaid.events.AdStopped],[t.vpaid.events.AdError],r).catch(function(e){return A._handleEvent(t.vpaid.events.AdError,e).then(function(){return t.spromise.rejected(e)})}),e.prototype.stopAd.call(this).then(function(){return A.__stopAd()}),this._awaitPromises[r])},A.prototype.pauseAd=function(){var A=this,r="pauseAd";return this._states.paused?t.spromise.resolved():this._states.pausing?this._awaitPromises[r]:(this._awaitPromises[r]=this._waitEvents([t.vpaid.events.AdPaused],[t.vpaid.events.AdError],r).catch(function(e){return A._handleEvent(t.vpaid.events.AdError,e).then(function(){return t.spromise.rejected(e)})}),e.prototype.pauseAd.call(this).then(function(){return A.__pauseAd()}),this._awaitPromises[r])},A.prototype.resumeAd=function(){var A=this,r="resumeAd";return this._states.paused?this._states.resumed?t.spromise.resolved():this._states.resuming?this._awaitPromises[r]:(this._awaitPromises[r]=this._waitEvents([t.vpaid.events.AdPlaying],[t.vpaid.events.AdError],r).catch(function(e){return A._handleEvent(t.vpaid.events.AdError,e).then(function(){return t.spromise.rejected(e)})}),e.prototype.resumeAd.call(this).then(function(){return A.__resumeAd()}),this._awaitPromises[r]):t.spromise.resolved()},A.prototype.__initAd=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];var r=this.eventDispatcher;r?r.initAd.apply(r,e):this._handleEvent(t.vpaid.events.AdLoaded)},A.prototype.__startAd=function(){var e=this.eventDispatcher;e?e.startAd():this._handleEvent(t.vpaid.events.AdStarted)},A.prototype.__stopAd=function(){var e=this.eventDispatcher;e?e.stopAd():this._handleEvent(t.vpaid.events.AdStopped)},A.prototype.__pauseAd=function(){var e=this.eventDispatcher;e?e.pauseAd():this._handleEvent(t.vpaid.events.AdPaused)},A.prototype.__resumeAd=function(){var e=this.eventDispatcher;e?e.resumeAd():this._handleEvent(t.vpaid.events.AdPlaying)},A.prototype._handleEvent=function(A){for(var r,n=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);var s=this._awaitIdx(A);if(s<0)r=t.spromise.resolved();else{var a=this._awaitRecs[s][A];this._awaitRecs.splice(s,1),r=a.apply(this,i)}return r.then(function(){return(t=e.prototype._handleEvent).apply.call(t,n,[A].concat(i));var t})},A.prototype._waitEvents=function(e,A){for(var r=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=t.spromise.deffer(),s={};this._awaitRecs[this._freeAwaitIdx()]=s;for(var a=function(t){s[t]=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];return o.resolve(t)}},d=0,c=e;d<c.length;d++){a(l=c[d])}for(var u=0,p=A;u<p.length;u++){var l=p[u];s[l]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.reject(t[0])}}return o.promise.inspect(function(e,A){return A?void 0:r._handleEvent(t.vpaid.events.AdError,e)})},A.prototype._freeAwaitIdx=function(){for(var t=0;this._awaitRecs[t];)t++;return t},A.prototype._awaitIdx=function(t){for(var e=this._awaitRecs.length;e>=0&&(e--,!this._awaitRecs[e]||!this._awaitRecs[e][t]););return e},A}(e.AManager),e.AEventAwaiter=A}(advark||(advark={})),function(t){var e,A;e=t.module||(t.module={}),A=function(e){function A(){var t=null!==e&&e.apply(this,arguments)||this;return t._reducingRecs=[],t}return __extends(A,e),A.prototype._handleEvent=function(A){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this._disposing?t.spromise.rejected(t.base.errors.Disposing):this._reduceIdx([A])<0?(r=e.prototype._handleEvent).apply.call(r,this,[A].concat(n)):t.spromise.resolved()},A.prototype._reduceEvents=function(t,e){for(var A=this,r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=this._reduceNew();return this._reducingRecs[i]=t,e().inspect(function(e,r){A._reducingRecs.splice(A._reduceIdx(t),1)})},A.prototype._reduceNew=function(){for(var t=0;this._reducingRecs[t];)t++;return t},A.prototype._reduceIdx=function(t){for(var e=this._reducingRecs.length;e>=0;)if(e--,this._reducingRecs[e]){var A=this._reducingRecs[e],r=A.length>0;if(!r)continue;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(-1===A.indexOf(o)){r=!1;break}}if(!r)continue;break}return e},A}(e.AEventAwaiter),e.AEventReducer=A}(advark||(advark={})),function(t){var e,A;e=t.module||(t.module={}),A=function(e){function A(){return null!==e&&e.apply(this,arguments)||this}return __extends(A,e),A.prototype.setContentData=function(t){return this._contentData=t,this},Object.defineProperty(A.prototype,"_refererDomain",{get:function(){return this._contentData&&this._contentData.referer?new t.parser.Uri(this._contentData.referer).domain:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_videoPageDomain",{get:function(){return this._contentData&&this._contentData.videoPageUrl?new t.parser.Uri(this._contentData.videoPageUrl).domain:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_advarkId",{get:function(){return this._contentData&&this._contentData.advarkId?this._contentData.advarkId:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_labelId",{get:function(){return this._contentData&&this._contentData.labelId?this._contentData.labelId:0},enumerable:!0,configurable:!0}),A.prototype._devstatSender=function(){var t=this._advarkId?this._advarkId:"",A=this._videoPageDomain?this._videoPageDomain:"";return e.prototype._devstatSender.call(this)+":"+t+":"+A},A}(e.AEventReducer),e.AContentDataOwner=A}(advark||(advark={})),function(t){!function(t){var e=/(?:https?:)?\/\/(.*?)(?:\:[0-9]*?)?(?:\/|$)/i;t.getDomain=function(t){var A=e.exec(t);return A?A[1]:""},t.formatTime=function(t,e,A){void 0===e&&(e=":"),void 0===A&&(A=!1);var r=Math.floor(t%60),n=Math.floor(t/60)%60,i=Math.floor(t/3600),o=r.toString(),s=n.toString(),a="";return r<10&&(o="0"+o),n<10&&(s="0"+s),(i>0||A)&&(a=i.toString()+e,i<10&&(a="0"+a)),a+s+e+o},t.parseTime=function(t){try{for(var e=t.split("."),A=e[0].split(":"),r=Number(e[1]),n=0,i=0;i<A.length;i++)n*=60,n+=Number(A[i]);return 1e3*n+(isNaN(r)?0:r)}catch(t){return NaN}},t.parseQueryString=function(t){var e={};if(t)for(var A=t.trim().split("&"),r=0;r<A.length;r++){var n=A[r].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e},t.toQueryString=function(t){var e="";for(var A in t)e+=t[A]?(""===e?"":"&")+encodeURIComponent(A)+"="+encodeURIComponent(t[A]):"";return e}}(t.StringUtils||(t.StringUtils={}))}(advark||(advark={})),function(t){var e,A;e=t.token||(t.token={}),A=function(e){function A(){var A=null!==e&&e.apply(this,arguments)||this;return A._loading=!1,A._loaded=!1,A._loader=function(e){return(new t.request.Request).setUri(e).setMethod("GET").setHeaders({Accept:"text/plain"}).setTimeout(5e3).build().send()},A}return __extends(A,e),A._Def=function(){return{token:void 0,created:new Date,delta:0,source:!0}},A._Load=function(t,e,A){if(!t)throw new Error("Token is empty");var r=t.split(".");if(!r[1])throw new Error("Token bad format");var n=r[1].replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(n),o=JSON.parse(i),s=(new Date).getTime();if(s>o.exp)throw new Error("Token expired");return{token:t,created:new Date(o.iat),delta:s-o.iat+(e||0),source:A||!1}},Object.defineProperty(A.prototype,"name",{get:function(){return"TokenTracker"},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"time",{get:function(){return isNaN(this._rec&&this._rec.delta)?new Date:new Date((new Date).getTime()-this._rec.delta)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"created",{get:function(){return this._rec&&this._rec.created},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"whenLoad",{get:function(){return this._load(),this._whenLoad.promise.anycase(function(e){return t.spromise.resolved(e)})},enumerable:!0,configurable:!0}),A.prototype.setToken=function(t){return this._rec=t,this},A.prototype.setTokenStr=function(t,e){return void 0===e&&(e=void 0),this._rec={token:t,delta:e,created:void 0,source:void 0},this},A.prototype.setLoader=function(t){return this._loader=t||this._loader,this},A.prototype.drop=function(){delete this._rec,this._loading=!1,this._loaded=!1,this._load()},A.prototype._load=function(){var e=this,r=function(A){!A&&e._whenLoad||(A&&e._whenLoad&&e._whenLoad.reject(e._rec),e._whenLoad=t.spromise.deffer())};this._loading||(this._loaded||this._parse()?(r(!1),this._whenLoad.resolve(this._rec)):(this._loading=!0,r(!0),this._loader(A._Uri+"?e="+encodeURIComponent(",~ref,"+t.getHosts().join(",")+",~")+"&r="+(new Date).getTime()).inspect(function(t){e._loading=!1,e._loaded=!0,e._parse(t&&t.text,void 0,!0)?e._whenLoad.resolve(e._rec):e._whenLoad.reject(e._rec)})))},A.prototype._parse=function(t,e,r){r=(t=""===t?void 0:t)?r:this._rec&&this._rec.source,e=t?e:this._rec&&this._rec.delta;var n=!1;if(t=t||this._rec&&this._rec.token)try{this._rec=A._Load(t,e,r),n=!0}catch(t){}return n||(this._rec=A._Def()),n},A._Uri=(location.protocol,"//st.tyt.me/track/a/init"),A}(t.base.factory.ABuildableItem),e.Tracker=A}(advark||(advark={})),function(t){t.mobileOs={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return!this.Android()&&navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}},t.detectFlash=function(){var t,e=[0,0,0];try{if(navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"]){var A="application/x-shockwave-flash",r=navigator.mimeTypes;r&&r[A]&&r[A].enabledPlugin&&(t=navigator.plugins["Shockwave Flash"].description.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),e=[parseInt(t.replace(/^(.*)\..*$/,"$1"),10),parseInt(t.replace(/^.*\.(.*)\s.*$/,"$1"),10),/[a-zA-Z]/.test(t)?parseInt(t.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0])}else if(window.ActiveXObject){var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(!n.activeXError&&(t=n.GetVariable("$version"))){var i=t.split(" ")[1].split(",");e=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]}}}catch(t){e=[0,0,0]}return 10==e[0]&&e[1]>=3||e[0]>10},t.detectHtml5=function(){return"function"==typeof document.createElement("video").canPlayType}}(advark||(advark={})),function(t){!function(e){function A(t){switch(typeof t){case"undefined":return;case"string":if("true"===(t=t.trim().toLowerCase()))return!0;if("false"===t)return!1;if("1"===t)return 1;if("0"===t)return 0}for(var e=0,A=[!0,!1,0,1];e<A.length;e++){if(A[e]===t)return t}}function r(t){switch(t=A(t)){case!0:t=1;break;case!1:t=0}for(var e=0,r=[0,1];e<r.length;e++){if(r[e]===t)return t}}function n(t){switch(typeof t){case"string":return parseInt(t);case"number":return t}}function i(t){switch(typeof t){case"string":return parseInt(t);case"number":return t}return 0}function o(t){switch(typeof t){case"string":return parseInt(t);case"number":return t}}e.toWideAutoplay=A,e.toAutoplay=r,e.toCategoryId=n,e.toLabelId=i,e.toDuration=o,e.clientContantDataToContentData=function(e,A,s,a){return t.extend(e,{advarkId:a,isFlash:A?1:0,isHtml:s?1:0,isFrame:window?window!==window.parent:void 0,autoplay:r(e.autoplay),categoryId:n(e.categoryId),labelId:i(e.labelId),duration:o(e.duration)})},e.adParametersDataToContentData=function(t){return{autoplay:r(t.autoplay),duration:o(t.duration),labelId:i(t.label_id),categoryId:n(t.category_id),advarkId:t.id,api:t.test?"test":"default",videoId:t.video_id,videoTitle:t.video_title,videoUrl:t.video_url||window&&window.location&&window.location.href,videoPageUrl:t.video_page_url||window&&window.location&&window.location.href,referer:t.referer||window&&window.location&&window.location.href,publisher:t.publisher}}}(t.converters||(t.converters={}))}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.video||(e.video={}),r=function(e){function A(){var t=null!==e&&e.apply(this,arguments)||this;return t._checkDelay=100,t._testSources=["data:video/mp4;base64,AAAAFGZ0eXBNU05WAAACAE1TTlYAAAOUbW9vdgAAAGxtdmhkAAAAAM9ghv7PYIb+AAACWAAACu8AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAnh0cmFrAAAAXHRraGQAAAAHz2CG/s9ghv4AAAABAAAAAAAACu8AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAFAAAAA4AAAAAAHgbWRpYQAAACBtZGhkAAAAAM9ghv7PYIb+AAALuAAANq8AAAAAAAAAIWhkbHIAAAAAbWhscnZpZGVBVlMgAAAAAAABAB4AAAABl21pbmYAAAAUdm1oZAAAAAAAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAVdzdGJsAAAAp3N0c2QAAAAAAAAAAQAAAJdhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAFAAOABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAEmNvbHJuY2xjAAEAAQABAAAAL2F2Y0MBTUAz/+EAGGdNQDOadCk/LgIgAAADACAAAAMA0eMGVAEABGjuPIAAAAAYc3R0cwAAAAAAAAABAAAADgAAA+gAAAAUc3RzcwAAAAAAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAADgAAAAEAAABMc3RzegAAAAAAAAAAAAAADgAAAE8AAAAOAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA4AAAAOAAAAFHN0Y28AAAAAAAAAAQAAA7AAAAA0dXVpZFVTTVQh0k/Ou4hpXPrJx0AAAAAcTVREVAABABIAAAAKVcQAAAAAAAEAAAAAAAAAqHV1aWRVU01UIdJPzruIaVz6ycdAAAAAkE1URFQABAAMAAAAC1XEAAACHAAeAAAABBXHAAEAQQBWAFMAIABNAGUAZABpAGEAAAAqAAAAASoOAAEAZABlAHQAZQBjAHQAXwBhAHUAdABvAHAAbABhAHkAAAAyAAAAA1XEAAEAMgAwADAANQBtAGUALwAwADcALwAwADYAMAA2ACAAMwA6ADUAOgAwAAABA21kYXQAAAAYZ01AM5p0KT8uAiAAAAMAIAAAAwDR4wZUAAAABGjuPIAAAAAnZYiAIAAR//eBLT+oL1eA2Nlb/edvwWZflzEVLlhlXtJvSAEGRA3ZAAAACkGaAQCyJ/8AFBAAAAAJQZoCATP/AOmBAAAACUGaAwGz/wDpgAAAAAlBmgQCM/8A6YEAAAAJQZoFArP/AOmBAAAACUGaBgMz/wDpgQAAAAlBmgcDs/8A6YEAAAAJQZoIBDP/AOmAAAAACUGaCQSz/wDpgAAAAAlBmgoFM/8A6YEAAAAJQZoLBbP/AOmAAAAACkGaDAYyJ/8AFBAAAAAKQZoNBrIv/4cMeQ==","data:video/webm;base64,GkXfo49CgoR3ZWJtQoeBAUKFgQEYU4BnAQAAAAAAF60RTZt0vE27jFOrhBVJqWZTrIIQA027jFOrhBZUrmtTrIIQbE27jFOrhBFNm3RTrIIXmU27jFOrhBxTu2tTrIIWs+xPvwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFUmpZuQq17GDD0JATYCjbGliZWJtbCB2MC43LjcgKyBsaWJtYXRyb3NrYSB2MC44LjFXQY9BVlNNYXRyb3NrYUZpbGVEiYRFnEAARGGIBc2Lz1QNtgBzpJCy3XZ0KNuKNZS4+fDpFxzUFlSua9iu1teBAXPFhL4G+bmDgQG5gQGIgQFVqoEAnIEAbeeBASMxT4Q/gAAAVe6BAIaFVl9WUDiqgQEj44OEE95DVSK1nIN1bmTgkbCBULqBPJqBAFSwgVBUuoE87EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB9DtnVB4eeBAKC4obaBAAAAkAMAnQEqUAA8AABHCIWFiIWEiAICAAamYnoOC6cfJa8f5Zvda4D+/7YOf//nNefQYACgnKGWgQFNANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQKbANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQPoANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQU1ANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQaDANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQfQANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQkdANEBAAEQEBRgAGFgv9AAIiGAAPuC/rOgnKGWgQprANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQu4ANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQ0FANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQ5TANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQ+gANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgRDtANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgRI7ANEBAAEQEAAYABhYL/QACIhgAPuC/rIcU7trQOC7jLOBALeH94EB8YIUzLuNs4IBTbeH94EB8YIUzLuNs4ICm7eH94EB8YIUzLuNs4ID6LeH94EB8YIUzLuNs4IFNbeH94EB8YIUzLuNs4IGg7eH94EB8YIUzLuNs4IH0LeH94EB8YIUzLuNs4IJHbeH94EB8YIUzLuNs4IKa7eH94EB8YIUzLuNs4ILuLeH94EB8YIUzLuNs4INBbeH94EB8YIUzLuNs4IOU7eH94EB8YIUzLuNs4IPoLeH94EB8YIUzLuNs4IQ7beH94EB8YIUzLuNs4ISO7eH94EB8YIUzBFNm3SPTbuMU6uEH0O2dVOsghTM"],t._eventNames=["loadstart","progress","suspend","abort","error","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],t._initEventNames=[{object:document.body,events:["gesturechange","orientationchange","tap","scrollstart","touchstart","mouseover","keypress","scroll","load","click"]}],t._elementListeners={},t._initDone=!1,t._methodsPromises={},t}return __extends(A,e),Object.defineProperty(A.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"error",{get:function(){return this._element.error},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"name",{get:function(){return"HTMLVideo"},enumerable:!0,configurable:!0}),A.prototype.setElement=function(t){if(this.reset(),this._element=t,this._element)for(var e=0,A=this._eventNames;e<A.length;e++){var r=A[e];this._bindListener(r,this._event.bind(this))}return this},A.prototype._event=function(t){this._dispatch(t.type,t)},A.prototype._tryUntilResolve=function(e,A,r){for(var n=this,i=t.spromise.deffer(),o=t.spromise.rejected(t.base.errors.NotReady),s=function(){var t=A.shift();o=o.catch(function(A){return e.apply(n,[t,r])})};A.length>0;)s();return o.inspect(function(t,e){return e?i.resolve(t):i.reject(t)}),i.promise},A.prototype._pause=function(e,A){var r=this,n=t.spromise.deffer();if(this._element)if(this._element.paused)n.resolve(void 0);else if(e)t.spromise.wrap(this._element.pause()).inspect(function(t,e){return e?n.resolve(t):n.reject(t)}).catch(function(){return setTimeout(function(){r._element?r._element.paused?n.resolve(void 0):n.reject(t.base.errors.NotReady):n.reject(t.base.errors.Disposed)},r._checkDelay)});else var i=setInterval(function(){if(r._element){if(!r._element.paused)return;clearInterval(i),n.resolve(void 0)}else n.reject(t.base.errors.Disposed)},this._checkDelay);else n.reject(t.base.errors.Disposed);return A?t.spromise.timeout(n.promise,A,t.base.errors.Timeout):n.promise},A.prototype._play=function(e,A,r){var n=this,i=t.spromise.deffer();return this._element?A||this._element.paused?(e&&(this._element.src=e),this._element.src?t.spromise.wrap(this._element.play()).inspect(function(t,e){return e?i.resolve(t):i.reject(t)}).catch(function(){return setTimeout(function(){n._element?n._element.paused?i.reject(t.base.errors.NotReady):i.resolve():i.reject(t.base.errors.Disposed)},n._checkDelay)}):i.reject(t.base.errors.NotReady)):this._pause(A).then(function(t){return n._play(e,A)}).inspect(function(t,e){return e?i.resolve(t):i.reject(t)}):i.reject(t.base.errors.Disposed),r?t.spromise.timeout(i.promise,r,t.base.errors.Timeout):i.promise},A.prototype.play=function(t,e){var A=this,r=this._methodsPromises.play;return r=e||!r?this._play(t,e):r.anycase(function(){return A._play(t,e)})},A.prototype.stop=function(){if(this._element)try{this._element.pause(),this._element.src=""}catch(t){}return t.spromise.resolved()},A.prototype.playWhatYouCan=function(t,e){var A=this._tryUntilResolve(this.play,t,e);return this._methodsPromises.playWhatYouCan=A,A},A.prototype._init=function(t,e){var A=this;return this._play(t,e).inspect(function(){A._element.src=""})},A.prototype.init=function(t,e){var A=this,r=this._methodsPromises.init;return r=e||!r?this._init(t,e):r.anycase(function(){return A._init(t,e)})},A.prototype.initWhichYouCan=function(t,e){return this._methodsPromises.initWhichYouCan=this._tryUntilResolve(this.init,t,e)},A.prototype.checkAutoplay=function(e,A){var r="checkAutoplay";return!e&&this._methodsPromises[r]||(this._methodsPromises[r]=this.initWhichYouCan(t.clone(this._testSources),A)),this._methodsPromises[r],this._methodsPromises[r]},A.prototype.initEventHandler=function(t){var e=this,A="initEventHandler";return this._methodsPromises[A]?this._methodsPromises[A]=this._methodsPromises[A].catch(function(){return e.checkAutoplay(!0)}):this._methodsPromises[A]=this.checkAutoplay(),this._methodsPromises[A]},A.prototype.initStart=function(){var e=this,A="initStart";return this._methodsPromises[A]||(this._methodsPromises[A]=this.checkAutoplay().catch(function(A){return t.spromise.promise(function(t,r){for(var n=0,i=0,o=e._initEventNames;i<o.length;i++)!function(i){for(var o=function(s){i.object.removeEventListener(s.type,o),n--,e.initEventHandler(s).then(function(e){return t(e)}),0===n&&r(A)},s=0,a=i.events;s<a.length;s++){var d=a[s];n++,i.object.addEventListener(d,o)}}(o[i]);0===n&&r(A)})}).inspect(function(t,A){e._initDone=!0})),this._methodsPromises[A]},A.prototype.isInitDone=function(){return this._initDone},A.prototype.reset=function(){this._unbindListeners(),this._methodsPromises={},delete this._element,this._resetListeners(),this._initDone=!1},A.prototype.canPlayType=function(t){return""!==this._element.canPlayType(t).replace("no","")},A.prototype._bindListener=function(t,e){this._elementListeners[t]||(this._elementListeners[t]=[]),this._elementListeners[t].push(e),this._element&&this._element.addEventListener(t,e)},A.prototype._unbindListeners=function(t){if(this._element)if(t){for(var e=this._elementListeners[t];e&&e.length>0;){var A=e.pop();this._element.removeEventListener(t,A)}delete this._elementListeners[t]}else{var r=[];for(var n in this._elementListeners)r.push(n),this._unbindListeners(n);this._elementListeners={}}},A.prototype._dispose=function(t){return this.reset(),e.prototype._dispose.call(this,t)},A}(e.AEventDispatcher),A.Controller=r}(advark||(advark={})),function(t){!function(t){var e="children",A="text/xml",r=new DOMParser;t.getFirstElement=function(t){if(t[e])return t[e][0];for(var A=0;A<t.childNodes.length;A++)if(t.childNodes[A].nodeType==document.ELEMENT_NODE)return t.childNodes[A]},t.parseXML=function(t){return r.parseFromString(t,A)},t.textByTag=function(t,e,A){void 0===A&&(A=void 0);var r=t.getElementsByTagName(e);return r&&r[0]?r[0].textContent.trim():A}}(t.XMLUtils||(t.XMLUtils={}))}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.client||(e.client={}),r=function(e){function A(){var t=null!==e&&e.apply(this,arguments)||this;return t._customVideoSlot=!1,t}return __extends(A,e),A.prototype.setSlotDoc=function(t){return this._slotDoc=t,this},Object.defineProperty(A.prototype,"_video",{get:function(){return this._slotVars.advarkController.element},enumerable:!0,configurable:!0}),A.prototype.setSlotVars=function(e){if(!e||!e.slot)throw new Error(t.base.errors.NotPassed);return this._slotVars={slot:e.slot,videoSlot:e.videoSlot,videoSlotCanAutoPlay:e.videoSlotCanAutoPlay,advarkController:e.advarkController},this._slotVars.slot.style&&(this._originalSlotWidth=this._slotVars.slot.style.width,this._originalSlotHeight=this._slotVars.slot.style.height),this.setSlotDoc(this._slotVars.slot.ownerDocument),this._slotVars.videoSlot||(this._customVideoSlot=!0,this._slotVars.videoSlot=this._slotVars.slot.ownerDocument.createElement("video"),this._slotVars.videoSlot.style.width="100%",this._slotVars.videoSlot.style.height="100%",this._slotVars.videoSlot.style.position="absolute",this._slotVars.slot.appendChild(this._slotVars.videoSlot)),this._slotVars.videoSlot.style&&(this._originalVideoSlotWidth=this._slotVars.videoSlot.style.width,this._originalVideoSlotHeight=this._slotVars.videoSlot.style.height),this._originalVideoSlotSibling=this._slotVars.videoSlot.nextSibling,this},A.prototype._getSlotVarsOriginalSize=function(){this._slotVars&&(this._slotVars.slot&&this._slotVars.slot.style&&(this._slotVars.slot.style.width=this._originalSlotWidth,this._slotVars.slot.style.height=this._originalSlotHeight),this._slotVars.videoSlot&&this._slotVars.videoSlot.style&&(this._slotVars.videoSlot.style.width=this._originalVideoSlotWidth,this._slotVars.videoSlot.style.height=this._originalVideoSlotHeight))},A.prototype._removeCustomVideoSlot=function(){this._customVideoSlot&&this._slotVars&&this._slotVars.videoSlot&&this._slotVars.videoSlot.parentNode&&(this._slotVars.videoSlot.parentNode.removeChild(this._slotVars.videoSlot),this._slotVars.videoSlot=void 0)},A.prototype._dispose=function(A){return this._disposed?t.spromise.rejected(t.base.errors.Disposed):(this._getSlotVarsOriginalSize(),this._removeCustomVideoSlot(),delete this._slotDoc,e.prototype._dispose.call(this,A))},Object.defineProperty(A.prototype,"_devstatIsTracker",{get:function(){return!0},enumerable:!0,configurable:!0}),A}(e.AContentDataOwner),A.ASlotVarsOwner=r}(advark||(advark={})),function(t){!function(e){var A=/(https?\:)?\/\/(.*?)(\:[0-9]+)?(?:\/|$)/i;(t.DomainUtils||(t.DomainUtils={})).calcOrigin=function(){var t=window,e=t.location.origin?"null"===t.location.origin?"*":t.location.origin:"";if(!e){var r=A.exec(t.location.href),n=r[1]||t.location.protocol,i=r[2],o=r[3];n&&i&&"file:"!==n?(o||(o=""),e=n+"//"+i+o):e="*"}return e}}()}(advark||(advark={})),function(t){!function(e){e.getElementVisibility=function(e,A){return void 0===A&&(A=window),t.spromise.promise(function(t){var r=e.getBoundingClientRect(),n=r.height||e.clientHeight,i=r.width||e.clientWidth,o=A.innerWidth||A.document.documentElement.clientWidth||A.document.body.clientWidth,s=A.innerHeight||A.document.documentElement.clientHeight||A.document.body.clientHeight,a=Math.max(Math.min(r.right,o)-Math.max(0,r.left),0);t(Math.max(Math.min(r.bottom,s)-Math.max(0,r.top),0)*a/(n*i))})},e.getFrameVisibility=function(e,A){return void 0===e&&(e=window),void 0===A&&(A=500),t.spromise.promise(function(e){var r=0,n=function(){return r>5},i=function(){r++,n()||t.requestAnimationFrame(i)};t.requestAnimationFrame(i),setTimeout(function(){return e(n()?1:0)},A)})},e.createElement=function(t,e,A){void 0===A&&(A=void 0);var r=document.createElement(t);if("object"==typeof e)for(var n in e){if("style"===n)for(var i in e[n])r.style[i]=e[n][i];void 0!==e[n]&&r.setAttribute(n,e[n])}return A&&A.appendChild(r),r},e.addClass=function(t,A){try{return!(!t||!A||e.hasClass(t,A)||(t.setAttribute("class",((t.getAttribute("class")||"")+" "+A).trim()),0))}catch(t){return!1}},e.removeClass=function(t,e){try{if(!t)return!1;if(t.getAttribute("class")){for(var A=t.getAttribute("class").split(" "),r="",n=0;n<A.length;n++)A[n]!==e&&(r+=A[n].trim()+" ");r=r.trim(),t.setAttribute("class",r)}return!0}catch(t){return!1}},e.hasClass=function(t,e){try{return-1!==t.getAttribute("class").split(" ").indexOf(e)}catch(t){return!1}}}(t.DOMUtils||(t.DOMUtils={}))}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.client||(e.client={}),r=function(e){function r(){var A=null!==e&&e.apply(this,arguments)||this;return A._ready=t.spromise.deffer(),A}return __extends(r,e),r.GetInstance=function(){return r._Instance||(r._Instance=new r),r._Instance},r.LoadTokenClient=function(t){return void 0===t&&(t=void 0),r.GetInstance().loadWithToken(t)},Object.defineProperty(r.prototype,"name",{get:function(){return"Loader"},enumerable:!0,configurable:!0}),r.prototype.loadWithToken=function(e){return e&&t.token.tracker.setToken(e),t.spromise.all([t.token.tracker.whenLoad,this.load()]).then(function(){return t.token.tracker.whenLoad})},r.prototype.load=function(){var e,r=this;return void 0!==A.Client?e=t.spromise.resolved():(e=this._ready.promise,this._loading||(this._loading=this._load().then(function(t){return r._ready.resolve()},function(t){return r._ready.reject(t)}))),e},r.prototype._load=function(){var e,A,r=this;return t.spromise.timeout((e=t.spromise.deffer(),(A=function(){return!(!document.head&&!document.body||(document.removeEventListener("readystatechange",A),r._createScript().then(function(t){return e.resolve(t)},function(t){return e.reject(t)}),0))})()||document.addEventListener("readystatechange",A),e.promise),3e3,t.base.errors.Timeout)},r.prototype._createScript=function(){var e=this;return t.spromise.promise(function(A,n){var i=r._Uri,o=function(t){n(t.message||t),e._script&&e._script.parentNode.removeChild(e._script),delete e._script};e._script=document.createElement("script"),e._script.src=i,e._script.async=!0,e._script.charset="utf-8",e._script.type="text/javascript",e._script.addEventListener("load",A),e._script.addEventListener("error",function(t){return o(t.message)}),document.head?document.head.appendChild(e._script):document.body?document.body.appendChild(e._script):o(t.base.errors.NotReady)})},r._Uri="//s3.advarkads.com/modules/advarkclient.js",r}(t.base.ADebugableObject),A.Loader=r}(advark||(advark={})),function(t){var e;(e=t.token||(t.token={})).tracker=(new e.Tracker).setTokenStr(t.meriloToken).build()}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.client||(e.client={}),r=function(A){function r(){var e=null!==A&&A.apply(this,arguments)||this;return e._finalDelay=t.context.timeouts.disposeVpaid,e._volume=t.vpaid.VolumeMax,e._sizeRec={width:void 0,height:void 0,viewMode:void 0},e}return __extends(r,A),r.prototype.getAdLinear=function(){return"linear"===this._breakType},r.prototype.getAdWidth=function(){return t.vpaid.WidthMin},r.prototype.getAdHeight=function(){return t.vpaid.HeightMin},r.prototype.getAdExpanded=function(){return!0},r.prototype.getAdSkippableState=function(){return!1},r.prototype.getAdRemainingTime=function(){return t.vpaid.CodeUnknown},r.prototype.getAdDuration=function(){return t.vpaid.CodeUnknown},r.prototype.getAdVolume=function(){return this._volume},r.prototype.setAdVolume=function(e){this._volume=Math.min(Math.max(e,t.vpaid.VolumeMin),t.vpaid.VolumeMax)},r.prototype.getAdCompanions=function(){return""},r.prototype.getAdIcons=function(){return!0},r.prototype.handshakeVersion=function(t){return"2.0"},r.prototype.initAd=function(t,e,r,n,i,o){return o&&this.setSlotVars(o),i&&this._useCreativeData(i),this.resizeAd(t,e,r),A.prototype.initAd.call(this)},r.prototype.resizeAd=function(e,A,r){this.setSize(e,A,r)&&this._handleEvent(t.vpaid.events.AdSizeChange)},r.prototype.setSize=function(t,e,A){var r=!1;return void 0!==t&&this._sizeRec.width!==t&&(this._sizeRec.width=t,r=!0),void 0!==e&&this._sizeRec.height!==e&&(this._sizeRec.height=e,r=!0),void 0!==A&&this._sizeRec.viewMode!==A&&(this._sizeRec.viewMode=A,r=!0),r},r.prototype.expandAd=function(){this._devstatTransmit("err:notImplemented","expandAd")},r.prototype.collapseAd=function(){this._devstatTransmit("err:notImplemented","collapseAd")},r.prototype.skipAd=function(){this._devstatTransmit("err:notImplemented","skipAd")},r.prototype._dispatch=function(r){for(var n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];switch(r){case t.vpaid.events.AdError:n=A.prototype._dispatch.call(this,r,e.AdError.Build(o[0]).stringLine);break;case t.vpaid.events.AdClickThru:case t.vpaid.events.AdInteraction:case t.vpaid.events.AdLog:n=(i=A.prototype._dispatch).apply.call(i,this,[r].concat(o));break;default:n=A.prototype._dispatch.call(this,r)}return n},r.prototype._handleError=function(A){var r=this;if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);var n=e.AdError.Build(A),i=t.spromise.resolved();return this.dispose(A).anycase(function(){return r._waitFinal()}).anycase(function(){return r._dispatch(t.vpaid.events.AdError,n)}),i},r.prototype._handleStop=function(){var e=this;if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);var A=t.spromise.resolved();return this.dispose(t.base.errors.Stopped).anycase(function(){return e._waitFinal()}).anycase(function(){return e._dispatch(t.vpaid.events.AdStopped)}),A},r.prototype._waitFinal=function(){var e=this;return void 0===this._finalDelay?t.spromise.resolved():t.spromise.promise(function(A,r){0===e._finalDelay?t.setImmediate(function(){return A(t.base.errors.Timeout)}):setTimeout(function(){return A(t.base.errors.Timeout)},e._finalDelay)})},r.prototype._getHandlingEvents=function(){return[t.vpaid.events.AdStopped,t.vpaid.events.AdLoaded,t.vpaid.events.AdSizeChange,t.vpaid.events.AdExpandedChange,t.vpaid.events.AdRemainingTimeChange,t.vpaid.events.AdDurationChange,t.vpaid.events.AdImpression,t.vpaid.events.AdStarted,t.vpaid.events.AdVideoStart,t.vpaid.events.AdVideoFirstQuartile,t.vpaid.events.AdVideoMidpoint,t.vpaid.events.AdVideoThirdQuartile,t.vpaid.events.AdVideoComplete,t.vpaid.events.AdPaused,t.vpaid.events.AdPlaying,t.vpaid.events.AdClickThru,t.vpaid.events.AdUserClose,t.vpaid.events.AdSkipped,t.vpaid.events.AdVolumeChange,t.vpaid.events.AdError]},r.prototype._useCreativeData=function(e){e&&(this._adParametersData=t.StringUtils.parseQueryString(e.AdParameters),this.setContentData(t.converters.adParametersDataToContentData(this._adParametersData)))},r}(A.ASlotVarsOwner),A.AVpaid=r}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.client||(e.client={}),r=function(r){function n(){var t=null!==r&&r.apply(this,arguments)||this;return t._avaliableTypes=["linear","nonlinear"],t}return __extends(n,r),Object.defineProperty(n.prototype,"whenConnect",{get:function(){return this._conPromise},enumerable:!0,configurable:!0}),n.prototype._getHandlingEvents=function(){return r.prototype._getHandlingEvents.call(this).concat([t.events.Empty,t.events.Progress])},Object.defineProperty(n.prototype,"_advarkId",{get:function(){return this._adParametersData&&this._adParametersData.id?this._adParametersData.id:this._contentData&&this._contentData.advarkId?this._contentData.advarkId:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_targetId",{get:function(){return this._adParametersData&&this._adParametersData.target_id?parseInt(this._adParametersData.target_id):1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_typeId",{get:function(){return this._adParametersData&&this._adParametersData.type_id?parseInt(this._adParametersData.type_id):void 0},enumerable:!0,configurable:!0}),n.prototype.setTokenRec=function(t){return this._tokenRec=t,this},n.prototype.setClient=function(t){return this._client=t,this},n.prototype.setBreakType=function(t){return this._breakType=t,this},n.prototype.build=function(){var t=this;return r.prototype.build.call(this),this._conPromise=A.Loader.LoadTokenClient(this._tokenRec).then(function(e){return t._spawn(e)}),this},n.prototype.getAdWidth=function(){var e=t.vpaid.WidthMin;return this._client&&(e=this._client.getSize().width),e},n.prototype.getAdHeight=function(){var e=t.vpaid.HeightMin;return this._client&&(e=this._client.getSize().height),e},n.prototype.getAdRemainingTime=function(){var e=t.vpaid.CodeUnknown;return this._client&&(e=this._client.getRemainingTime()),e},n.prototype.getAdDuration=function(){var e=t.vpaid.CodeUnknown;return this._client&&(e=this._client.getDuration()),e},n.prototype.setAdVolume=function(t){r.prototype.setAdVolume.call(this,t),this._client&&this._client.setVolume(t)},n.prototype.__initAd=function(){var t=this;this.whenConnect.then(function(){return r.prototype.__initAd.call(t)})},n.prototype.resizeAd=function(e,A,r){this.setSize(e,A,r)&&(this._client?this._client.setSize(e,A,r):this._handleEvent(t.vpaid.events.AdSizeChange))},n.prototype._dispose=function(e){return this._disposed?t.spromise.rejected(t.base.errors.Disposed):(this._client&&(this._client.dispose(e),delete this._client),r.prototype._dispose.call(this,e))},n.prototype._spawn=function(t){this._client||(this._client=(new A.Client).setParent(this).setContentData(this._contentData).setSlotVars(this._slotVars).setConfig(this._genConfig(t)).build()),this._subscribeEvents(),this._client.setSize(this._sizeRec.width,this._sizeRec.height,this._sizeRec.viewMode),this._client.setupAd(this._advarkId,this._targetId,this._typeId)},Object.defineProperty(n.prototype,"eventDispatcher",{get:function(){return this._client},enumerable:!0,configurable:!0}),n.prototype._handleEvent=function(A){for(var n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);if(this._states.loading&&A===t.vpaid.events.AdError){var a=o[0],d=e.errors.SeqEmpty();a.breakType&&a.code===d.code&&a.message===d.message&&(this._avaliableTypes=this._avaliableTypes.filter(function(t){return t!==a.breakType}),this._avaliableTypes.length>0&&(n=t.spromise.resolved()))}if(this._states.loaded||this._states.stopped){var c=o[0];c.breakType&&c.breakType!==this._breakType&&(n=t.spromise.resolved())}return n||(i=r.prototype._handleEvent).apply.call(i,this,[A].concat(o))},n.prototype._handleEventEnd=function(A){for(var n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);switch(A){case t.events.Empty:n=this._handleError(e.errors.VmapEmpty());break;case t.events.Progress:var a=o[0];if(a&&a.duration){var d=this._eventParams[A]&&this._eventParams[A][0];d&&d.duration!==a.duration?A=t.vpaid.events.AdDurationChange:n=t.spromise.rejected(t.base.errors.NotAllowed)}break;case t.vpaid.events.AdVolumeChange:var c=o[0];this._volume=c.volume;break;case t.vpaid.events.AdLoaded:c=o[0],this._breakType=c.breakType}return n=n||(i=r.prototype._handleEventEnd).apply.call(i,this,[A].concat(o))},n}(A.AVpaid),A.AClientVpaid=r}(advark||(advark={})),function(t){var e;e=t.module||(t.module={}),function(t){function A(t){var e=[];if(!t)return e;for(var A=0;A<t.length;A++)t[A]instanceof Array?t[A][1]instanceof Array?e.push({Name:t[A][0],Dependencies:t[A][1],Action:t[A][2],Parameters:t[A][3]}):"string"==typeof t[A][1]?e.push({Name:t[A][0],Dependencies:[t[A][1]],Action:t[A][2],Parameters:t[A][3]}):e.push({Name:t[A][0],Dependencies:[],Action:t[A][1],Parameters:t[A][2]}):e.push({Name:t[A].Name,Dependencies:t[A].Dependencies?t[A].Dependencies:[],Action:t[A].Action,Parameters:t[A].Parameters?t[A].Parameters:[]});return e}function r(t){var e=[];if(!t)return e;for(var A=0;A<t.length;A++)if(t[A]instanceof Array)e.push({Name:t[A][0],Access:t[A][1],Constraints:t[A][2]});else if("string"!=typeof t[A])e.push({Name:t[A].Name,Access:t[A].Access?t[A].Access:"r",Constraints:t[A].Constraints?t[A].Constraints:[]});else{var r=t[A];e.push({Name:r,Access:"r",Constraints:[]})}return e}function n(t){var e=[];if(!t)return e;for(var A=0;A<t.length;A++)t[A]instanceof Array?e.push({Name:t[A][0],Attributes:t[A][1]}):"string"!=typeof t[A]?e.push({Name:t[A].Name,Attributes:t[A].Attributes?t[A].Attributes:[]}):e.push({Name:t[A],Attributes:[]});return e}function i(t){var e=[];if(!t)return e;for(var A=0;A<t.length;A++)t[A]instanceof Array?e.push({Name:t[A][0],Selector:t[A][1],Attributes:r(t[A][2]),Events:n(t[A][3])}):e.push({Name:t[A].Name,Selector:t[A].Selector,Attributes:r(t[A].Attributes),Events:n(t[A].Events)});return e}(e.oldapi||(e.oldapi={})).parseConfig=function(t){return t?t instanceof Array?{Actions:A(t[0]),Rules:i(t[1])}:{Actions:A(t.Actions),Rules:i(t.Rules)}:{Actions:[],Rules:[]}}}()}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.platform||(e.platform={}),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"_conveyor",{get:function(){return this._gateway.conveyor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){var t=this;return this._current||(this._current=this._batch().resp(!1),this._conveyor.append(function(){t._current&&(t._current.do(),delete t._current)})),this._current},enumerable:!0,configurable:!0}),e.prototype.setGateway=function(t){return this._gateway=t,this},e.prototype.setChain=function(t){return this._chain=t,this},e.prototype._query=function(){for(var t,e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];for(var r=0,n=this._chain.concat(e);r<n.length;r++){var i=n[r];t=t?t.select(i):this._gateway.select(i)}return t},e.prototype._batch=function(){return this._gateway.batch()},e.prototype._append=function(t){for(var e=[],A=1;A<arguments.length;A++)e[A-1]=arguments[A];for(var r=0,n=this._chain.concat(e);r<n.length;r++){var i=n[r];t.select(i)}return t},e}(t.base.factory.ABuildableItem),A.AMasterWrapper=r}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.platform||(e.platform={}),r=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends(r,e),Object.defineProperty(r.prototype,"linear",{get:function(){return this._linear},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nonlinear",{get:function(){return this._nonlinear},enumerable:!0,configurable:!0}),r.prototype.build=function(){return e.prototype.build.call(this),this._linear=(new A.PlayerWrapper).setParent(this).setGateway(this._gateway).setChain(this._chain.concat(["linear"])).build(),this._nonlinear=(new A.PlayerWrapper).setParent(this).setGateway(this._gateway).setChain(this._chain.concat(["nonlinear"])).build(),this},r.prototype.connect=function(e){var A=this,r=t.spromise.deffer();return this._conveyor.append(function(){for(var t in A.current.resp(!0),A._append(A.current,"config").get(),A._append(A.current,"interactiveTypes").get(),A._append(A.current,"getSize").call(),e)A._append(A.current,"registerCallback").call(t,e[t]);A._append(A.current,"connect").call(),A.current.complete.then(function(t){return r.resolve({config:t[0].v,interactiveTypes:t[1].v,sizeRec:t[2].v})})}),r.promise},r.prototype.event=function(e){for(var A=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=t.spromise.deffer();return this._conveyor.append(function(){return A._append(A.current,"event").apply([e].concat(r))}),i.resolve(),i.promise},r.prototype.track=function(e,A){var r,n=this,i=t.spromise.deffer();return A?r=function(){return i.resolve()}:i.resolve(),this._conveyor.append(function(){return n._append(n.current,"track").call(e,r)}),i.promise},r.prototype.request=function(e,A,r){var n=this,i=t.spromise.deffer();return this._conveyor.append(function(){n._append(n.current,"request").call(e,A,r,function(t){return t.succeed?i.resolve(t):i.reject(t)})}),i.promise},r.prototype.initPalyer=function(t,e,A,r,n){var i=this;this._conveyor.append(function(){var o;switch(t){case"showLinearInteractive":case"showVideo":o="linear";break;case"showBanner":case"showTeaser":o="nonlinear"}i._append(i.current,"buildPalyer").call(t,e,A);for(var s=0,a=n;s<a.length;s++){var d=a[s];i._append(i.current,o,"subscribe").call(r(d),d)}i._append(i.current,o,"initAd").call()})},r}(A.AMasterWrapper),A.ClientWrapper=r}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.platform||(e.platform={}),r=function(e){function A(){return null!==e&&e.apply(this,arguments)||this}return __extends(A,e),A.prototype.initAd=function(){for(var e=this,A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];var n=t.spromise.deffer();return this._conveyor.append(function(){return e._append(e.current,"initAd").apply(A)}),n.resolve(),n.promise},A.prototype.reloadAd=function(){for(var e=this,A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];var n=t.spromise.deffer();return this._conveyor.append(function(){return e._append(e.current,"reloadAd").apply(A)}),n.resolve(),n.promise},A.prototype.startAd=function(){var e=this,A=t.spromise.deffer();return this._conveyor.append(function(){return e._append(e.current,"startAd").call()}),A.resolve(),A.promise},A.prototype.stopAd=function(){var e=this,A=t.spromise.deffer();return this._conveyor.append(function(){return e._append(e.current,"stopAd").call()}),A.resolve(),A.promise},A.prototype.pauseAd=function(){var e=this,A=t.spromise.deffer();return this._conveyor.append(function(){return e._append(e.current,"pauseAd").call()}),A.resolve(),A.promise},A.prototype.resumeAd=function(){var e=this,A=t.spromise.deffer();return this._conveyor.append(function(){return e._append(e.current,"resumeAd").call()}),A.resolve(),A.promise},A.prototype.subscribe=function(e,A){var r=this,n=t.spromise.deffer();return this._conveyor.append(function(){return r._append(r.current,"subscribe").call(e,A)}),n.resolve(),n.promise},A.prototype.unsubscribe=function(e,A){var r=this,n=t.spromise.deffer();return this._conveyor.append(function(){return r._append(r.current,"unsubscribe").call(e,A)}),n.resolve(),n.promise},A.prototype.dispose=function(e){var A=this,r=t.spromise.deffer();return this._conveyor.append(function(){return A._append(A.current,"dispose").call(e)}),r.resolve(),r.promise},A}(A.AMasterWrapper),A.PlayerWrapper=r}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.sand||(e.sand={}),(r=A.EAccess||(A.EAccess={}))[r.all=7]="all",r[r.read=4]="read",r[r.write=2]="write",r[r.call=1]="call",r[r.none=0]="none"}(advark||(advark={})),function(t){var e,A;e=t.module||(t.module={}),(A=e.sand||(e.sand={})).cmdBatch="batch",A.cmdFunc="func",A.cmdInit="init",A.cmdLoad="load",A.cmdBatchDone="batch-done",A.cmdFuncDone="func-done",A.cmdInitDone="init-done",A.cmdLoadDone="load-done"}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.sand||(e.sand={}),r=function(e){function r(){var A=null!==e&&e.apply(this,arguments)||this;return A._remoteFuncs={},A._localFuncs={},A.conveyor=new t.Conveyor,A._whenConnect=t.spromise.deffer(),A}return __extends(r,e),Object.defineProperty(r.prototype,"whenConnect",{get:function(){return this._whenConnect.promise},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return"Gateway"},enumerable:!0,configurable:!0}),r.prototype.setTargetWin=function(t){return this._targetWin=t,this},r.prototype.setOrigin=function(t){return this._origin=t,this},r.prototype.build=function(){return e.prototype.build.call(this),this._onMessageBound=this._onMessage.bind(this),window.addEventListener("message",this._onMessageBound),this},r.prototype._dispose=function(t){return window.removeEventListener("message",this._onMessageBound),delete this._localFuncs,delete this._remoteFuncs,delete this._origin,delete this._targetWin,delete this._onMessageBound,e.prototype._dispose.call(this,t)},r.prototype._send=function(t,e){if(this._disposing);else{var A=JSON.stringify({c:t,d:e});this._targetWin.postMessage(A,this._origin)}},r.prototype._receive=function(t,e){var A=this;this._disposing||this.conveyor.append(function(){return A._handleCommand(t,e)})},r.prototype._handleCommand=function(t,e){switch(t){case A.cmdFunc:this._callLocal(e.i,e.p)}},r.prototype._onMessage=function(t){if(!this._disposing&&("*"===this._origin||this._origin===t.origin)&&t.source===this._targetWin&&t.data){var e=JSON.parse(t.data);e.c&&this._receive(e.c,e.d)}},r.prototype._toRemoteQueryPlans=function(t){var e=[];if(t)for(var A=0,r=t;A<r.length;A++){var n=r[A];e.push({t:n.t,c:n.c,p:this._toRemoteValues(n.p)})}return e},r.prototype._toRemoteValues=function(t){var e=[];if(t)for(var A=0,r=t;A<r.length;A++){var n=r[A];e.push(this._toRemoteValue(n))}return e},r.prototype._toRemoteValue=function(e){var A=this;if("object"==typeof e){var r,n=void 0;return null===e?(n="v",r=null):(n=e instanceof Array?"a":"o",r={},t.each(e,function(t,e){r[e]=A._toRemoteValue(t)})),{t:n,v:r}}return"function"==typeof e?{t:"f",v:this._toRemoteFunc(e)}:"number"==typeof e&&isNaN(e)?{t:"n"}:{t:"v",v:e}},r.prototype._toLocalValues=function(t){var e=[];if(t)for(var A=0,r=t;A<r.length;A++){var n=r[A];e.push(this._toLocalValue(n))}return e},r.prototype._toLocalValue=function(e){var A,r=this;switch(e.t){case"f":return this._toLocalFunc(e.v);case"v":return e.v;case"o":return A={},t.each(e.v,function(t,e){A[e]=r._toLocalValue(t)}),A;case"a":return A=[],t.each(e.v,function(t,e){A[e]=r._toLocalValue(t)}),A;case"n":return NaN}},r.prototype._toLocalFunc=function(t){var e=this;return this._remoteFuncs[t]||(this._remoteFuncs[t]={code:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e._send(A.cmdFunc,{i:t,p:e._toRemoteValues(r)})}}),this._remoteFuncs[t].code},r.prototype._toRemoteFunc=function(e){var A;if(t.each(this._localFuncs,function(t,r){t.code===e&&(A=r)}),!A){var r=0;do{A=Number(new Date).toString()+("0000000"+(r++).toString()).slice(-8)}while(this._localFuncs[A]);this._localFuncs[A]={code:e}}return A},r.prototype._callLocal=function(t,e){this._localFuncs[t].code.apply(window,this._toLocalValues(e))},r}(e.AEventDispatcher),A.AGateway=r}(advark||(advark={})),function(t){var e,A,r,n;e=t.module||(t.module={}),A=e.sand||(e.sand={}),r=A.slave||(A.slave={}),n=function(e){function A(){return null!==e&&e.apply(this,arguments)||this}return __extends(A,e),A.prototype.build=function(){return e.prototype.build.call(this),this._deffer=t.spromise.deffer(),this._sendTime=new Date,this},Object.defineProperty(A.prototype,"sendTime",{get:function(){return this._sendTime},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"promise",{get:function(){return this._deffer.promise},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"accessChain",{get:function(){return this._chain},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"actionType",{get:function(){return this._action},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"args",{get:function(){return this._args},enumerable:!0,configurable:!0}),A.prototype.setChain=function(t){return this._chain=t,this},A.prototype.setAction=function(t){return this._action=t,this},A.prototype.setArgs=function(t){return this._args=t,this},A.prototype.resolve=function(t){return this._deffer.resolve(t)},A.prototype.reject=function(t){throw new Error("Unexpected call")},A}(t.base.factory.ABuildableItem),r.QueryDeffer=n}(advark||(advark={})),function(t){var e,A,r,n;e=t.module||(t.module={}),A=e.sand||(e.sand={}),r=A.slave||(A.slave={}),n=function(e){function A(t,A){var r=e.call(this)||this;return r._resp=!0,r._processor=t,r._chain=A,r}return __extends(A,e),A.prototype.resp=function(t){return this._resp=t,this},A.prototype.select=function(t){return new A(this._processor,this._chain.concat(t)).setParent(this).resp(this._resp)},A.prototype.get=function(){return this._processor("g",this._chain,this._resp).then(function(e){return e[0]?e[0].e?t.spromise.rejected(e[0].m):t.spromise.resolved(e[0].v):t.spromise.resolved(void 0)})},A.prototype.set=function(e){return this._processor("s",this._chain,this._resp,e).then(function(e){return e[0]?e[0].e?t.spromise.rejected(e[0].m):t.spromise.resolved(e[0].v):t.spromise.resolved(void 0)})},A.prototype.call=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];return this._processor.apply(this,["c",this._chain,this._resp].concat(e)).then(function(e){return e[0]?e[0].e?t.spromise.rejected(e[0].m):t.spromise.resolved(e[0].v):t.spromise.resolved(void 0)})},A.prototype.apply=function(t){return this.call.apply(this,t)},A}(t.base.ADebugableObject),r.Query=n}(advark||(advark={})),function(t){var e,A,r,n;e=t.module||(t.module={}),A=e.sand||(e.sand={}),r=A.slave||(A.slave={}),n=function(e){function A(A){var r=e.call(this)||this;return r._recs=[],r._idx=0,r._resp=!0,r._send=t.spromise.deffer(),r._complete=t.spromise.deffer(),r._processor=A,r}return __extends(A,e),Object.defineProperty(A.prototype,"complete",{get:function(){return this._complete.promise},enumerable:!0,configurable:!0}),A.prototype.resp=function(t){return this._resp=t,this},A.prototype.select=function(t){return this._recs[this._idx]?this._recs[this._idx].c.push(t):this._recs[this._idx]={t:void 0,c:[t],p:void 0},this},A.prototype.set=function(t){return this._recs[this._idx].t="s",this._recs[this._idx].p=[t],this._idx++,this},A.prototype.get=function(){return this._recs[this._idx].t="g",this._idx++,this},A.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._recs[this._idx].t="c",this._recs[this._idx].p=t,this._idx++,this},A.prototype.apply=function(t){return this.call.apply(this,t)},A.prototype.do=function(){var e=this;return this._send.resolve().then(function(){try{e._check()}catch(t){throw t}(e._recs.length>0?e._processor(e._recs,e._resp):t.spromise.resolved([])).then(function(t){return e._complete.resolve(t)})}),this.complete},A.prototype._check=function(){if(this._idx!==this._recs.length)throw new Error("Undefined record index: "+this._idx+" / "+this._recs.length);if(this._idx>0){for(var t=0,e=0,A=this._recs;e<A.length;e++){var r=A[e];if(!r.c)throw new Error("Undefined access chain on record "+t);if(!r.t)throw new Error("Undefined action on record "+t);if("s"===r.t&&!r.p)throw new Error("Undefined value on record "+t);t++}if(this._recs.length!==t)throw new Error("Unexpected records serialization")}},A}(t.base.ADebugableObject),r.Batch=n}(advark||(advark={})),function(t){var e,A,r,n;e=t.module||(t.module={}),A=e.sand||(e.sand={}),r=A.slave||(A.slave={}),n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._queries={},e}return __extends(e,t),e.prototype.build=function(){return t.prototype.build.call(this),this.setTargetWin(window.parent),this},e.prototype.select=function(t){return new r.Query(this._processQuery.bind(this),[t]).setParent(this)},e.prototype.batch=function(){return new r.Batch(this._processBatch.bind(this)).setParent(this)},e.prototype._handleCommand=function(e,r){switch(e){case A.cmdInit:this._send(A.cmdInitDone);break;case A.cmdLoad:this._whenConnect.resolve();break;case A.cmdBatchDone:var n=r.i;this._queries[n]&&this._queries[n].resolve(r.r),delete this._queries[n];break;default:t.prototype._handleCommand.call(this,e,r)}},e.prototype._processQuery=function(t,e,A){for(var r=[],n=3;n<arguments.length;n++)r[n-3]=arguments[n];return this._processBatch([{c:e,t:t,p:r}],A)},e.prototype._processBatch=function(t,e){var n=this._newQueryId(),i=(new r.QueryDeffer).setParent(this).build();return this._send(A.cmdBatch,{i:n,b:this._toRemoteQueryPlans(t),n:e}),e?this._queries[n]=i:i.resolve([]),i.promise},e.prototype._newQueryId=function(){var t,e=0;do{t=Number(new Date).toString()+("0000000"+(e++).toString()).slice(-8)}while(this._queries[t]);return t},e}(A.AGateway),r.Gateway=n}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.oldapi||(e.oldapi={}),r=function(t){function e(e){var A=t.call(this)||this;if(A._config=e,!A._config)throw new Error("Passed config has no value");return A}return __extends(e,t),e.prototype._FindAction=function(t){for(var e=0,A=this._config.Actions;e<A.length;e++){var r=A[e];if(r.Name==t)return r}throw new Error("Action not found: "+t)},e.prototype._FindRule=function(t){for(var e=0,A=this._config.Rules;e<A.length;e++){var r=A[e];if(r.Name==t)return r}throw new Error("Rule not found: "+t)},e.prototype._FindRuleEvent=function(t,e){for(var A=0,r=t.Events;A<r.length;A++){var n=r[A];if(n.Name==e)return n}throw new Error("Event not found: "+e+" of rule "+t.Name)},e.prototype._GetAttribute=function(t,e){for(var A=e,r=t.split(".");r.length>0;){var n=r.shift();if("dataset"==n&&"contentEditable"in A&&!A.dataset){var i="data-"+r.shift().replace(/[A-Z]/g,this._ToAttributeLowerCase);A=A.getAttribute(i)}else A="function"==typeof A[n]||A[n]&&A[n].call?A[n]():A[n]}return A},e.prototype._ToAttributeLowerCase=function(t){return"-"+t.toLowerCase()},e.prototype._SetAttribute=function(t,e,A){for(var r=t.split("."),n=A;r.length>1;){var i=r.shift();if("dataset"==i&&"contentEditable"in n&&!n.dataset){var o=r.shift();if(r.length>0)throw new Error("Invalid attribute name");var s="data-"+o.replace(/[A-Z]/g,this._ToAttributeLowerCase);return void n.setAttribute(s,e)}n=n[i]}n[r.shift()]=e},e.prototype._CheckAttributeAccess=function(t,e,A){for(var r=0;r<e.Attributes.length;r++)if(e.Attributes[r].Name==t&&e.Attributes[r].Access==A||"rw"==e.Attributes[r].Access)return!0;return!1},e.prototype._Query=function(t){return""===t?[window]:document.querySelectorAll(t)},e}(t.base.ADebugableObject),A.ACommonClientDocApi=r}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.oldapi||(e.oldapi={}),r=function(e){function A(){return null!==e&&e.apply(this,arguments)||this}return __extends(A,e),A.prototype.WhenReady=function(t,e){"complete"===document.readyState?t.call(e):window.addEventListener("load",t.bind(e))},A.prototype.ContentElement=function(){try{return this._Query(this._FindRule("container").Selector)[0]}catch(t){return document.body}},A.prototype.On=function(t,e,A){var r=/(([^.]+)\.)?([^.]+)/.exec(t),n=4===r.length?r[2]:void 0,i=4===r.length?r[3]:void 0;n=n||void 0,i=i||void 0;var o=this._FindRule(n);this._subscribeRule(o,i,e,A)},A.prototype.Get=function(e,A){var r=this;return t.spromise.promise(function(t,n){try{for(var i=r._FindRule(e),o=[],s=r._Query(i.Selector),a=0;a<s.length;a++){var d=void 0;if("string"==typeof A)r._CheckAttributeAccess(A,i,"r")&&(d=r._GetAttribute(A,s[a]));else{d={};for(var c=0;c<A.length;c++)r._CheckAttributeAccess(A[c],i,"r")&&(d[A[c]]=r._GetAttribute(A[c],s[a]))}o.push(d)}t(o)}catch(t){n(t.message)}})},A.prototype.Run=function(e,A){var r=this;return t.spromise.promise(function(t,n){try{var i=r._FindAction(e),o=[];if(i.Dependencies)for(var s=0,a=i.Dependencies;s<a.length;s++){var d=a[s],c=r._FindRule(d);o.push(c)}i.Action.call(window,o,i.Parameters,A,t,n)}catch(t){n(t.message)}})},A.prototype._subscribeRule=function(t,e,A,r){for(var n=this._Query(t.Selector),i=0;i<n.length;i++)n[i].addEventListener(e,A.bind(r))},A}(A.ACommonClientDocApi),A.NoFrameClientDocApi=r}(advark||(advark={})),function(t){var e,A,r;e=t.module||(t.module={}),A=e.oldapi||(e.oldapi={}),r=function(){function e(t){this._promises={},this._isReady=!1,this._loaded=!1,console.log("IframeApi","constructor()",t),this._origin=t,this._counter=0,this._promises={},this._handlers={},this._onWindowMessageBound=this._OnWindowMessage.bind(this),window.addEventListener("message",this._onWindowMessageBound)}return e.prototype.ContentElement=function(){return document.body},e.prototype.IsReady=function(){return this._isReady},e.prototype.WhenReady=function(t,e){this.IsReady()?t.call(e):window.addEventListener("load",t.bind(e))},e.prototype.IsLoaded=function(){return this._loaded},e.prototype.On=function(t,e,A){var r=this;console.log("IframeApi","On()",t),this._handlers[t]||(this._handlers[t]=[]);var n={h:e,c:A||window};return this._handlers[t].push(n),function(){var e=r._handlers[t].indexOf(n);e>-1&&r._handlers[t].splice(e,1)}},e.prototype.Get=function(e,A){console.log("IframeApi","Get()",e,A);var r=this._GenerateId(),n=t.spromise.deffer();return this._promises[r]=n,this._Send("get",{n:e,a:A,i:r}),n.promise},e.prototype.Set=function(e,A,r){console.log("IframeApi","Set()",e,A,r);var n=this._GenerateId();this._Send("set",{n:e,a:A,i:n,v:r});var i=t.spromise.deffer();return this._promises[n]=i,i.promise},e.prototype._Dispatch=function(t,e){if(console.log("IframeApi","_Dispatch()",t,e),!this._handlers[t])return!0;for(var A=!0,r=0;r<this._handlers[t].length;r++){var n=this._handlers[t][r].h.call(this._handlers[t][r].c,e);"boolean"==typeof n&&(A=A&&n)}return A},e.prototype.Run=function(e,A){console.log("IframeApi","Run()",e,A);var r=this._GenerateId();this._Send("running",{n:e,i:r,p:A});var n=t.spromise.deffer();return this._promises[r]=n,n.promise},e.prototype._Send=function(t,e){console.log("IframeApi","_Send()",t,e);var A=JSON.stringify({c:t,d:e});window.parent.postMessage(A,this._origin)},e.prototype._GenerateId=function(){return Number(new Date).toString()+("0000000"+(this._counter++).toString()).slice(-8)},e.prototype._OnWindowMessage=function(t){console.log("IframeApi","_OnWindowMessage()",t);try{if("*"!=this._origin&&this._origin!=t.origin)throw console.log(this._origin),console.log(t.origin),new Error("Origin mismatch");if(t.source!==window.parent)throw new Error("Source mismatch");var e=JSON.parse(t.data);switch(e.c){case"init":this._isReady=!0,this._Dispatch("ready"),this._Send("onInit");break;case"load":this._Dispatch("load");break;case"event":this._Dispatch(e.d.n,e.d.d);break;case"onGet":case"onSet":case"onRun":this._promises[e.d.i]&&(e.d.e?this._promises[e.d.i].reject(e.d.m):this._promises[e.d.i].resolve(e.d.d),delete this._promises[e.d.i])}}catch(t){console.error(t)}},e}(),A.BaseFrameDocApi=r}(advark||(advark={})),function(t){var e;(function(A){var r="complete"===document.readyState,n=[];r||window.addEventListener("load",function e(){window.removeEventListener("load",e);for(var A=0;A<n.length;A++)t.setImmediate(n[A])});var i=function(A){function i(t,e){var r=A.call(this,t)||this;if(r._iframe=e,!r._iframe)throw new Error("Passed iframe has no value");if(r._iframe&&r._iframe.src){var n=i.ORIGIN_REGEXP.exec(r._iframe.src),o=n[1]||window.location.protocol,s=n[2],a=n[3];a||(a=""),r._origin=o&&s&&"file:"!==o?o+"//"+s+a:"*"}return r}return __extends(i,A),i.prototype.Init=function(){this._onWindowMessageBound=this._onWindowMessage.bind(this),window.addEventListener("message",this._onWindowMessageBound),this._onIframeLoadBound=this._onIframeLoad.bind(this),this._iframe.addEventListener("load",this._onIframeLoadBound),this._listeners=[];for(var t=0;t<this._config.Rules.length;t++)this._AddListeners(this._config.Rules[t]);this._remoteFunctions={},this._functions={};try{this._iframe.contentWindow&&this._iframe.contentWindow.location.origin===this._origin&&this._initIframe()}catch(t){this._initIframe()}},i.prototype.Get=function(t,e){for(var A=this._FindRule(t),r=[],n=this._Query(A.Selector),i=0;i<n.length;i++){var o=void 0;if("string"==typeof e)this._CheckAttributeAccess(e,A,"r")&&(o=this._GetAttribute(e,n[i]));else{o={};for(var s=0;s<e.length;s++)this._CheckAttributeAccess(e[s],A,"r")&&(o[e[s]]=this._GetAttribute(e[s],n[i]))}r.push(o)}return r},i.prototype.Set=function(t,e,A){var r=this._FindRule(t);if(!r||!this._CheckAttributeAccess(e,r,"w"))throw new Error(r?"Access denied":"Unknown rule");for(var n=this._Query(r.Selector),i=0;i<n.length;i++)this._SetAttribute(e,A,n[i])},i.prototype.Run=function(t,e,A,r){var n=this._FindAction(t),i=[];if(n.Dependencies)for(var o=0,s=n.Dependencies;o<s.length;o++){var a=s[o],d=this._FindRule(a);i.push(d)}n.Action.call(window,i,n.Parameters,e,A,r)},i.prototype.Dispose=function(){this.dispose(t.base.errors.Disposing)},i.prototype._dispose=function(e){if(this._disposed)return t.spromise.rejected(t.base.errors.Disposed);for(var r=0;r<this._listeners.length;r++)this._listeners[r]&&this._listeners[r].e&&this._listeners[r].e.removeEventListener&&this._listeners[r].e.removeEventListener(this._listeners[r].n,this._listeners[r].h);return window.removeEventListener("message",this._onWindowMessageBound),A.prototype._dispose.call(this,e)},i.prototype._AddListeners=function(t){var e=this._Query(t.Selector);if(t.Events)for(var A=0;A<t.Events.length;A++)for(var r=0;r<e.length;r++){var n=this._Listener.bind(this,t.Name,t.Events[A]);this._listeners.push({e:e[r],n:t.Events[A].Name,h:n}),e[r].addEventListener(t.Events[A].Name,n)}},i.prototype._Listener=function(t,e,A){try{if(!this._iframeReady)return;var r={};if(e.Attributes)for(var n=0;n<e.Attributes.length;n++){for(var i=A,o=e.Attributes[n].Name.split(".");o.length>0;)i=i[o.shift()];r[e.Attributes[n].Name]=i}this._send("event",{n:t+"."+e.Name,d:r})}catch(t){}},i.prototype._onWindowMessage=function(e){var A,i=this;try{if("*"!=this._origin&&this._origin!=e.origin)return;var o=JSON.parse(e.data);if(e.source==this._iframe.contentWindow)switch(o.c){case"get":try{var s=this.Get(o.d.n,o.d.a);this._send("onGet",{i:o.d.i,d:s})}catch(e){this._send("onGet",{i:o.d.i,e:!0,m:e.message})}break;case"set":try{this.Set(o.d.n,o.d.a,o.d.v),this._send("onSet",{i:o.d.i})}catch(e){this._send("onSet",{i:o.d.i,e:!0,m:e.message})}break;case"running":try{this.Run(o.d.n,o.d.p,function(t){i._send("onRun",{i:o.d.i,d:t})},function(t){i._send("onRun",{i:o.d.i,e:!0,m:t})})}catch(e){this._send("onRun",{i:o.d.i,e:!0,m:e.message})}break;case"onInit":this._iframeReady||(this._iframeReady=!0,this._iframe.removeEventListener("load",this._onIframeLoadBound),A=this._onWindowLoad.bind(this),r?t.setImmediate(A):n.push(A))}}catch(e){}},i.prototype._onWindowLoad=function(){this._send(e.sand.cmdLoad)},i.prototype._initIframe=function(){this._send(e.sand.cmdInit)},i.prototype._onIframeLoad=function(t){this._iframe.removeEventListener("load",this._onIframeLoadBound),this._initIframe()},i.prototype._send=function(t,e){if(!this._disposing){var A=JSON.stringify({c:t,d:e});this._iframe.contentWindow.postMessage(A,this._origin)}},i.ORIGIN_REGEXP=/(https?\:)?\/\/(.*?)(\:[0-9]+)?(?:\/|$)/i,i}(A.ACommonClientDocApi);A.BaseClientDocApi=i})((e=t.module||(t.module={})).oldapi||(e.oldapi={}))}(advark||(advark={})),function(t){var e,A,r,n;e=t.module||(t.module={}),A=e.client||(e.client={}),n=A.jsloader||(A.jsloader={}),(r=n.converters||(n.converters={})).advarkPropsToIntegrationData=function(t){void 0===t&&(t=!0);try{var e=window.advark,A={container:{element:function(){var A;if("string"==typeof e.s.crElement){if(!(A=document.getElementById(e.s.crElement))&&!t)throw new Error("Specified container not found")}else A=e.s.crElement;return A}(),advarkStyle:!0},isInterstitial:t?e.interstitial:t,width:e.s.crWidth,height:e.s.crHeight,mode:e.s.crMode,onShow:e.interstitial?e.onISShow:e.onCRShow,onClose:e.interstitial?e.onISClose:e.onCRClose,onNoAd:e.interstitial?e.onISNoAd:e.onCRNoAd,contentData:{advarkId:e.id,api:e.test?"test":"default",referer:window&&window.location&&window.location.href||void 0,videoPageUrl:window&&window.location&&window.location.href||void 0,labelId:e.interstitial?parseInt(e.s.isLabelId):parseInt(e.s.crLabelId)}};A.contentData.labelId=isNaN(A.contentData.labelId)?0:A.contentData.labelId,A.onShow="function"==typeof A.onShow&&A.onShow,A.onClose="function"==typeof A.onClose&&A.onClose,A.onNoAd="function"==typeof A.onNoAd&&A.onNoAd;var r=!1,n=A.onShow,i=A.onClose,o=A.onNoAd;if(A.onShow=function(){r=!0;try{n&&n()}catch(t){}},A.onClose=function(){try{r?i&&i():o&&o()}catch(t){}},!A.isInterstitial){if(!A.container||!A.container.element)throw new Error("No container passed");if(!function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}}(A.container.element))throw new Error("Bad container passed")}return A}catch(t){throw t}},r.oldApiConfigToIntegrationData=function(t,e,A){return{container:{element:e.ContentElement(),advarkStyle:!1},mode:"halfblock"===A.mode?"halfblock":"default",isInterstitial:!1,onShow:t.Actions[0].Parameters.callback,onClose:t.Actions[1].Parameters.callback,onNoAd:t.Actions[1].Parameters.callback,contentData:{advarkId:A.id,api:A.test?"test":"default",referer:A.referer?A.referer:window.location.href,videoPageUrl:A.videoPageUrl?A.videoPageUrl:window.location.href,labelId:A.labelId?parseInt(A.labelId):0}}},r.oldApiConfigToAdvarkData=function(t,e,A){return{id:A.id,interstitial:!1,test:!!A.test,s:{crElement:e.ContentElement(),crMode:"halfblock"===A.mode?"halfblock":"default",crLabelId:A.labelId?A.labelId:"0"},onCRShow:t.Actions[0].Parameters.callback,onCRClose:t.Actions[1].Parameters.callback,onCRNoAd:t.Actions[1].Parameters.callback}}}(advark||(advark={})),function(t){var e,A,r,n;e=t.module||(t.module={}),A=e.client||(e.client={}),r=A.jsloader||(A.jsloader={}),n=function(A){function n(){return null!==A&&A.apply(this,arguments)||this}return __extends(n,A),Object.defineProperty(n.prototype,"name",{get:function(){return"Loader"},enumerable:!0,configurable:!0}),n.prototype.setOldApiConfig=function(t){return this._oldApiConfig=t,this},n.prototype.setParams=function(t){return this._params=t,this},n.prototype.setIframe=function(t){return this._iframe=t,this._useParams(t.src),this},n.prototype.setIntegrationData=function(t){return this._integrationData=t,this},n.prototype.load=function(){try{window&&window.location&&this._useParams(window.location.href),this._oldApiConfig?(this._oldApi=new e.oldapi.NoFrameClientDocApi(this._oldApiConfig),this._integrationData=this._integrationData?this._integrationData:r.converters.oldApiConfigToIntegrationData(this._oldApiConfig,this._oldApi,this._params)):this._integrationData=this._integrationData?this._integrationData:r.converters.advarkPropsToIntegrationData(!0),this._loadHtml5()}catch(t){this._handleError(t)}},n.prototype._loadHtml5=function(){this._createSlotVars(),this._createIntegration()},n.prototype._prepareIntegrationData=function(){for(var t=this,e=0,A=["onClose","onShow","onNoAd"];e<A.length;e++){var r=A[e];!function(e,A){t._integrationData[A]=function(){try{e&&e()}catch(t){}}}(this._integrationData[r],r)}},n.prototype._createIntegration=function(){var e=this;try{if(this._prepareIntegrationData(),this._integration=this._integrationData.isInterstitial?new r.Interstitial:new r.ContentRoll,this._integration.build(),this._integrationData.isInterstitial&&this._integrationData.container&&this._integrationData.container.element)for(var A=0,n=[t.vpaid.events.AdStopped,t.vpaid.events.AdError];A<n.length;A++){var i=n[A];this._integration.subscribe(function(){return e._integrationData=r.converters.advarkPropsToIntegrationData(!1),e._createIntegration(),t.spromise.resolved()},i,this)}this._integration.setIntegrationData(this._integrationData).setSlotVars(this._slotVars).setParent(this).initAd(void 0,void 0,void 0,void 0)}catch(t){this._handleError(t)}},n.prototype._useParams=function(e){try{var A=t.StringUtils.parseQueryString(e.split("?")[1]);this._params=t.extend(A,this._params)}catch(t){}},n.prototype._createSlotVars=function(){var t=this,A=document.createElement("div");A.style.position="absolute",A.style.height="100%",A.style.width="100%",A.style.top="0",A.style.left="0",A.style.margin="0",A.style.padding="0",A.style.border="0";var r=document.createElement("video");r.style.position="absolute",r.style.height="100%",r.style.width="100%",r.style.left="0",r.style.top="0",r.style.margin="0",r.style.padding="0",r.style.border="0",this._slotVars={slot:A,videoSlot:r,videoSlotCanAutoPlay:void 0,advarkController:(new e.video.Controller).setElement(r).setParent(this)},this._slotVars.advarkController.checkAutoplay().then(function(e){return t._slotVars.videoSlotCanAutoPlay=!0},function(e){return t._slotVars.videoSlotCanAutoPlay=!1}),this._slotVars.advarkController.initStart().then(function(e){return t._slotVars.videoSlotCanAutoPlay=!0},function(e){return t._slotVars.videoSlotCanAutoPlay=!1})},n.prototype._handleError=function(t){this.dispose(t)},n}(t.base.ADebugableObject),r.Loader=n}(advark||(advark={})),function(t){var e,A,r,n;e=t.module||(t.module={}),A=e.client||(e.client={}),r=A.jsloader||(A.jsloader={}),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"_targetId",{get:function(){return 2},enumerable:!0,configurable:!0}),e.prototype.setIntegrationData=function(t){return this._integrationData=t,this.setContentData(this._integrationData.contentData),this},e.prototype.initAd=function(e,A,r,n,i,o){var s=this,a=this._getClientSizeRec();return t.prototype.initAd.call(this,a.width,a.height,a.viewMode,n,i,o).then(function(){return s._preparePage()}).then(function(){return s._slotVars.advarkController.initStart()})},e.prototype._genConfig=function(t){return{autoStart:!1,debug:"test"===this._contentData.api,tokenRec:t,moduleType:6}},e}(A.AClientVpaid),r.AIntegration=n}(advark||(advark={})),function(t){var e,A,r,n;e=t.module||(t.module={}),A=e.client||(e.client={}),r=A.jsloader||(A.jsloader={}),n=function(e){function A(){return null!==e&&e.apply(this,arguments)||this}return __extends(A,e),Object.defineProperty(A.prototype,"name",{get:function(){return"Interstitial"},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_typeId",{get:function(){return 7},enumerable:!0,configurable:!0}),A.prototype._preparePage=function(){return this._styleTag=document.createElement("style"),this._styleTag.textContent=A.CSS,document.head.appendChild(this._styleTag),this._container=document.createElement("div"),this._container.className="advark-is-container",this._container.style.position="fixed",this._container.style.overflow="hidden",this._container.style.background="rgba(0,0,0,.7)",this._container.style.width="0",this._container.style.top="0",this._container.style.left="0",this._container.style.height="0",this._container.style.zIndex="-32000",this._container.style.margin="0",this._container.style.padding="0",this._container.style.border="0",this._videoContainer=document.createElement("div"),this._videoContainer.className="advark-is-video-container",this._videoContainer.style.position="absolute",this._videoContainer.style.left="0px",this._videoContainer.style.right="0px",this._videoContainer.style.top="0px",this._videoContainer.style.bottom="0px",document.body.appendChild(this._container),this._videoContainer.appendChild(this._slotVars.videoSlot),this._container.appendChild(this._videoContainer),this._container.appendChild(this._slotVars.slot),this._onResizeBound=this._updateClientSize.bind(this),window.addEventListener("resize",this._onResizeBound),t.spromise.resolved()},A.prototype._handleEventEnd=function(A){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);switch(A){case t.events.Empty:case t.vpaid.events.AdStopped:case t.vpaid.events.AdError:this._hideAd(),this._states.started?this._integrationData.onClose&&this._integrationData.onClose():this._integrationData.onNoAd&&this._integrationData.onNoAd();break;case t.vpaid.events.AdLoaded:this.startAd(),this._showAd();break;case t.vpaid.events.AdStarted:this._integrationData.onShow&&this._integrationData.onShow()}return(r=e.prototype._handleEventEnd).apply.call(r,this,[A].concat(n))},A.prototype._getClientSizeRec=function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,viewMode:"normal"}},A.prototype._showAd=function(){this._overflow=document.body.style.getPropertyValue("overflow"),this._overflowPriority=document.body.style.getPropertyPriority("overflow"),document.body.style.setProperty("overflow","hidden",""),this._container.style.width="100%",this._container.style.height="100%",this._container.style.zIndex="32000"},A.prototype._hideAd=function(){try{window.removeEventListener("resize",this._onResizeBound),document.body.style.setProperty("overflow",this._overflow,this._overflowPriority),this._container&&this._container.parentNode&&this._container.parentNode.removeChild(this._container),this._slotVars.slot.parentNode&&this._slotVars.slot.parentNode.removeChild(this._slotVars.slot),this._slotVars.videoSlot.parentNode&&this._slotVars.videoSlot.parentNode.removeChild(this._slotVars.videoSlot),this._videoContainer.parentNode&&this._videoContainer.parentNode.removeChild(this._videoContainer),this._styleTag.parentNode&&this._styleTag.parentNode.removeChild(this._styleTag)}catch(t){}this._handleStop()},A.prototype._updateClientSize=function(){var t=this._getClientSizeRec();this._client.setSize(t.width,t.height,t.viewMode)},A.CSS=".advark-is-container>.advark-is-video-container>.advark-videoslot{background-color:transparent}.advark-is-container>.advark-controls .advark-video .advark-timer{right:auto;font-size:12pt;font-family:'Roboto Regular',Tahoma;text-align:center;width:100%;margin:32px 0;top:0}.advark-is-container>.advark-controls .advark-vpaid .advark-timer{bottom:auto;right:auto;left:auto;top:0;font-size:12pt;font-family:'Roboto Regular',Tahoma;text-align:center;width:100%;margin:32px 0}.advark-is-container>.advark-controls .advark-video .advark-volume{display:none}.advark-is-container>.advark-controls .advark-video .advark-skip,.advark-is-container>.advark-controls .advark-video .advark-skip:hover{font-size:12pt;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAQAAABKIxwrAAAAvUlEQVR4AZXU1UEGMRgF0Yut94s71eD2iFsjWBnzO+SDG2TzlpxZM1GwwBMLFCgzRuZ+YMQmo+2QIosPx2ZTXIILDIZLsQYuMBjWRMFJMrFHEfBesnZCIXxgMQqHDMHMdzziPthz1yR88O4wkr8wjyOPQbxwy0XNS4JfqFGez/xn70XELsjhdx94vEfn73u452HRzSl5Z+JCEoR3JodtIJa/7iGMuLNlceOxDW7ETsQ2OB+bHVGw/Mc/wTJFD3FFAFJoeGLVAAAAAElFTkSuQmCC) no-repeat 100% 50%;padding:0;right:auto;width:187px;left:50%;transform:translate(-50%);height:24px;border:29px solid transparent;bottom:0;box-sizing:content-box}.advark-is-container>.advark-controls .advark-vpaid .advark-skip{font-size:12pt;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAQAAABKIxwrAAAAvUlEQVR4AZXU1UEGMRgF0Yut94s71eD2iFsjWBnzO+SDG2TzlpxZM1GwwBMLFCgzRuZ+YMQmo+2QIosPx2ZTXIILDIZLsQYuMBjWRMFJMrFHEfBesnZCIXxgMQqHDMHMdzziPthz1yR88O4wkr8wjyOPQbxwy0XNS4JfqFGez/xn70XELsjhdx94vEfn73u452HRzSl5Z+JCEoR3JodtIJa/7iGMuLNlceOxDW7ETsQ2OB+bHVGw/Mc/wTJFD3FFAFJoeGLVAAAAAElFTkSuQmCC) no-repeat 100% 50%;padding:0;right:auto;width:187px;left:50%;transform:translate(-50%);height:24px;bottom:29px;box-sizing:content-box;margin-left:auto}.advark-is-container>.advark-controls .advark-video .advark-progress-bg{display:none}.advark-is-container>.advark-controls .advark-video .advark-image{left:0;right:0;top:0;bottom:0;width:auto;height:auto}.advark-is-container>.advark-controls .advark-container{top:82px;bottom:82px;left:36px;right:36px;width:auto;height:auto}",A}(r.AIntegration),r.Interstitial=n}(advark||(advark={})),function(t){var e,A,r,n;e=t.module||(t.module={}),A=e.client||(e.client={}),r=A.jsloader||(A.jsloader={}),n=function(e){function A(){return null!==e&&e.apply(this,arguments)||this}return __extends(A,e),Object.defineProperty(A.prototype,"name",{get:function(){return"Content-Roll"},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_typeId",{get:function(){return 6},enumerable:!0,configurable:!0}),A.prototype.setIntegrationData=function(t){return t.contentData.labelId=t.contentData.labelId?t.contentData.labelId:0,t.height=t.height?Math.max(t.height,180):360,t.width=t.width?Math.max(t.width,320):640,e.prototype.setIntegrationData.call(this,t),this},A.prototype._preparePage=function(){return this._container=document.createElement("div"),this._container.id="advark",this._container.style.overflow="hidden",this._container.style.position="absolute",this._container.style.width="100%",this._container.style.height="100%",this._container.style.top="0",this._container.style.left="0",this._container.appendChild(this._slotVars.videoSlot),this._container.appendChild(this._slotVars.slot),this._integrationData.container.advarkStyle&&this._changeContainerStyle(),this._integrationData.container.element.appendChild(this._container),this._onResizeBound=this._onResize.bind(this),this._onScrollBound=this._updateAdState.bind(this),window.addEventListener("resize",this._onResizeBound),window.addEventListener("scroll",this._onScrollBound),t.spromise.resolved()},A.prototype._handleEventEnd=function(A){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(this._disposing)return t.spromise.rejected(t.base.errors.Disposing);switch(A){case t.events.Empty:case t.vpaid.events.AdStopped:case t.vpaid.events.AdError:this._hideAd(),this._states.started?this._integrationData.onClose&&this._integrationData.onClose():this._integrationData.onNoAd&&this._integrationData.onNoAd();break;case t.vpaid.events.AdLoaded:this._updateAdState();break;case t.vpaid.events.AdStarted:this._integrationData.onShow&&this._integrationData.onShow()}return(r=e.prototype._handleEventEnd).apply.call(r,this,[A].concat(n))},A.prototype._getClientSizeRec=function(){return{width:this._integrationData.width,height:this._integrationData.height,viewMode:"normal"}},A.prototype._changeContainerStyle=function(){var t=this._integrationData.container.element.style;t.position="relative",t.height="0",t.width="0",t.paddingLeft="0",t.paddingTop="0",t.paddingRight="0",t.paddingBottom="0",t.marginLeft="0",t.marginTop="20px",t.marginRight="0",t.marginBottom="20px",t.border="0"},A.prototype._onResize=function(){this._prevTop=NaN,this._updateAdState()},A.prototype._updateAdState=function(){!this._states.loaded||this._states.started||this._states.starting||this._canStart()&&(this._showAd(),this.startAd()),!this._states.started||this._states.stopped||this._states.stopping||(this._canPlay()?this.resumeAd():this.pauseAd())},A.prototype._canPlay=function(){var t=this._integrationData.container.element.getBoundingClientRect().top,e=t+this._integrationData.height,A=this._integrationData.container.element.getBoundingClientRect().left,r=A+this._integrationData.width,n=window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,o=Math.max(Math.min(r,n)-Math.max(0,A),0);return Math.max(Math.min(e,i)-Math.max(0,t),0)*o>this._integrationData.height*this._integrationData.width/2},A.prototype._canStart=function(){var t;if("halfblock"===this._integrationData.mode)t=this._canPlay();else{var e=this._integrationData.container.element.getBoundingClientRect().top,A=2*(window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight)/3;t=e>A&&this._prevTop<A||e<A&&this._prevTop>A,this._prevTop=e}return t},A.prototype._showAd=function(){var e=this;this._updateIntervalId=setInterval(function(){return e._updateAdState()},250),this._integrationData.container.element.style.opacity="1",this._integrationData.container.element.style.left="0",this._integrationData.container.element.style.top="0",t.anim.animate(this._integrationData.container.element,{height:this._integrationData.height,width:this._integrationData.width},500,"ease")},A.prototype._hideAd=function(){clearInterval(this._updateIntervalId);try{window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("scroll",this._onScrollBound),t.anim.animate(this._integrationData.container.element,{height:0,width:0},500,"ease"),this._container&&this._container.parentNode&&this._container.parentNode.removeChild(this._container),this._slotVars.slot.parentNode&&this._slotVars.slot.parentNode.removeChild(this._slotVars.slot),this._slotVars.videoSlot.parentNode&&this._slotVars.videoSlot.parentNode.removeChild(this._slotVars.videoSlot)}catch(t){}this._handleStop()},A.prototype._dispose=function(t){return clearInterval(this._updateIntervalId),e.prototype._dispose.call(this,t)},A}(r.AIntegration),r.ContentRoll=n}(advark||(advark={})),function(t){var e;(new((e=t.module||(t.module={})).client||(e.client={})).jsloader.Loader).load()}(advark||(advark={}));
// a847947c
// 2018-02-14 15:22:42