!function(e){!function(e){e.enabled=function(){return!!localStorage},e.read=function(e,t){if(void 0===t&&(t=void 0),!localStorage)return t;try{return localStorage.getItem(e)||t}catch(e){return t}},e.write=function(e,t){if(localStorage)try{localStorage.setItem(e,t)}catch(e){}},e.del=function(e){if(localStorage)try{localStorage.removeItem(e)}catch(e){}}}(e.lstorage||(e.lstorage={}))}(advark||(advark={})),function(e){if(!e.setImmediate){e.setImmediate=function(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];0,new Date;var r=!1,i=!0,n=function(A){r||i||(r=!0,window.removeEventListener("message",s),window.clearTimeout(o),e.apply(void 0,t))},o=window.setTimeout(function(){return n()},0),s=function(e){return n()};window.addEventListener("message",s),window.postMessage({},"*"),i=!1}}}(advark||(advark={})),function(e){for(var t=["ms","moz","webkit","o"],A=0;A<t.length&&!e.requestAnimationFrame;A++)e.requestAnimationFrame=window[t[A]+"RequestAnimationFrame"];if(!e.requestAnimationFrame){var r=0;e.requestAnimationFrame=function(e){var t=(new Date).getTime(),A=Math.max(0,16-(t-r)),i=window.setTimeout(function(){e(t+A)},A);return r=t+A,i}}e.requestAnimationFrame=e.requestAnimationFrame.bind(window)}(advark||(advark={})),function(e){var t,A;t=e.spromise||(e.spromise={}),A=function(){function e(e,t){this._defferPending=e instanceof Function?e:function(A){return A(e,t)}}return e.prototype.then=function(t,A){var r=this;return this._defferPending(function(i,n,o){var s,a=n?A:t;try{var d=a instanceof Function?a.call(void 0,i):void 0===a?i:a;if(d instanceof e){if(d===r)throw"TypeError";s=d.then(function(e){return o?o.resolve(e):e},function(e){return o?o.reject(e):e})}else if(d instanceof Object&&d.then instanceof Function){var l=!1;d.then(function(e){l||(l=!0,i=e,n=!1)},function(e){l||(l=!0,i=e,n=!0)})}else i=d}catch(e){i=e,n=!0}return s||(o?n?o.reject(i):o.resolve(i):new e(i,n))})},e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype.anycase=function(e){return this.then(e,e)},e.prototype.inspect=function(t){var A=function(A,r){return t(A,r),new e(A,!r)};return this.then(function(e){return A(e,!0)},function(e){return A(e,!1)})},e}(),t.Promise=A}(advark||(advark={})),function(e){!function(e){var t,A;(A=t||(t={}))[A.pending=0]="pending",A[A.resolved=1]="resolved",A[A.rejected=2]="rejected";var r=function(){function A(){var r=this;this._state=t.pending,this._recs=[];this.promise=new e.Promise(function(e){if(r._state!==t.pending)return e(r._result,r._state===t.rejected);var i=new A;return r._recs.push({deffer:i,complete:e}),i.promise})}return A.prototype.resolve=function(e){return this._complete(e,!1)},A.prototype.reject=function(e){return this._complete(e,!0)},A.prototype._complete=function(e,A){if(this._state===t.pending){for(var r=0;r<this._recs.length;r++)this._recs[r].complete(e,A,this._recs[r].deffer);this._recs=[],this._state=A?t.rejected:t.resolved,this._result=e}return this.promise},A}();e.Deffer=r}(e.spromise||(e.spromise={}))}(advark||(advark={})),function(e){!function(e){function t(){return new e.Deffer}function A(e){var A=t();return e(function(e){return A.resolve(e)},function(e){return A.reject(e)}),A.promise}function r(t){return new e.Promise(t,!1)}function i(e){if(!(e instanceof Array)||0==e.length)return r();for(var A=t(),i=0;i<e.length;i++)(e[i]&&e[i].then?e[i]:r()).then(function(e){A.resolve(e)},function(e){A.reject(e)});return A.promise}e.deffer=t,e.promise=A,e.resolved=r,e.rejected=function(t){return new e.Promise(t,!0)},e.join=function(e){if(!(e instanceof Array)||0==e.length)return r(e);for(var A=t(),i=e.length,n=[],o=[],s=function(t,r){t.push(r),0==--i&&A.resolve(e)},a=0;a<e.length;a++)(e[a]&&e[a].then?e[a]:r()).then(function(e){s(n,e)},function(e){s(o,e)});return A.promise},e.any=function(e){if(!(e instanceof Array)||0==e.length)return r(e);for(var A=t(),i=e.length,n={resolved:[],rejected:[]},o=0;o<e.length;o++)(e[o]&&e[o].then?e[o]:r()).then(function(e){A.resolve(e)},function(e){n.rejected.push(e),0==--i&&A.reject(n.rejected)});return A.promise},e.all=function(e){var A={resolved:[],rejected:[]};if(!(e instanceof Array)||0==e.length)return r(A);for(var i=t(),n=e.length,o=0;o<e.length;o++)(e[o]&&e[o].then?e[o]:r()).then(function(e){A.resolved.push(e),0==--n&&i.resolve(A)},function(e){i.reject(e)});return i.promise},e.race=i,e.timeout=function(e,t,r){return i([e,A(function(e,A){setTimeout(function(){A(r)},t)})])},e.wrap=function(e){var A=t();return e&&e.then?e.then(function(e){A.resolve(e)},function(e){A.reject(e)}):A.reject("Not a promise"),A.promise}}(e.spromise||(e.spromise={}))}(advark||(advark={})),function(e){!function(t){(e.request||(e.request={})).send=function(t,A,r,i,n,o,s,a){void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===n&&(n=void 0),void 0===o&&(o=void 0),void 0===s&&(s=void 0),void 0===a&&(a=void 0);var d=!1,l=new Date;function p(t){i?e.setImmediate(t):t()}function c(e){if(d||!e)return!0;d=!0,clearTimeout(m);for(var t=0,A=["onload","onerror","ontimeout","onreadystatechange"];t<A.length;t++){var r=A[t];try{e[r]&&(e[r]=void 0,delete e[r])}catch(e){}}return!1}function u(){c(_)||p(function(){return a&&a({uri:A,delay:(new Date).getTime()-l.getTime(),succeed:!0,code:_.status||200,text:_.responseText})})}function h(e){void 0===e&&(e=void 0),c(_)||p(function(){return a&&a({uri:A,delay:(new Date).getTime()-l.getTime(),succeed:!1,code:_.status||400,error:e?e.message:"Request error",text:_.responseText})})}function v(){c(_)||p(function(){return a&&a({uri:A,delay:(new Date).getTime()-l.getTime(),succeed:!1,code:_.status||408,error:"Request timeout",text:_.responseText})})}function f(){4==_.readyState&&(200==_.status||304==_.status?u():h())}var _=new XMLHttpRequest,m=n?setTimeout(v,n):void 0;p(function(){try{if("withCredentials"in _)_.onreadystatechange=f,_.onerror=h,_.ontimeout=v;else{if(!window.XDomainRequest)throw new Error("Unable to create HTTP-request object");(_=new window.XDomainRequest).onload=u,_.onerror=h}if(_.open(t,A,!0),n&&(_.timeout=n),r&&(_.withCredentials=r),o)for(var e in o)_.setRequestHeader(e,o[e]);_.send(s)}catch(e){h(e)}})}}()}(advark||(advark={})),function(e){!function(t){(e.track||(e.track={})).send=function(e,t){!function(e,t){var A=document.createElement("img");A.style.position="absolute",A.style.width="0",A.style.height="0",A.style.border="base",A.style.margin="0",A.style.padding="0",A.src=e;var r=new Date,i=function(i){A.parentNode&&A.parentNode.removeChild(A),t&&t({uri:e,delay:(new Date).getTime()-r.getTime(),succeed:!i.error,code:i.error?404:200,error:i.error})};A.onload=i,A.onerror=i,document.body.appendChild(A)}(e,t)}}()}(advark||(advark={})),function(e){!function(t){var A="//api.advarkads.com/pub/logger/geo",r=200,i="h:5";(e.devstat||(e.devstat={})).send=function(t,n,o,s){!function(t,i,n,o,s){var a=function(e){return encodeURIComponent(btoa(encodeURIComponent(e)))},d={i:a(t?t.substr(0,r):""),g:a(i?i.substr(0,r):""),m:a(n?n.substr(0,r):""),d:o?a(o instanceof Node||o instanceof XMLDocument?(new XMLSerializer).serializeToString(o):"string"==typeof o?o:JSON.stringify(o,void 0,void 0)):void 0,r:Math.random()};if(o)e.request.send("POST",A,!1,!0,void 0,{"Content-Type":"application/json; charset=utf-8"},JSON.stringify(d),s);else{var l=A+"?i=[i]&g=[g]&m=[m]&r=[r]";for(var p in d)l=l.replace("["+p+"]",d[p]);e.track.send(l,s)}}(t=i+(t?":"+t:""),n,o,s)}}()}(advark||(advark={})),function(e){var t,A;t=e.parser||(e.parser={}),A=function(){function e(e){this._source=e,this._parse()}return Object.defineProperty(e.prototype,"protocol",{get:function(){return this._protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this._domain},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this._port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"site",{get:function(){return(this._protocol?this._protocol+":":"")+(this._domain?"//"+this._domain:"")+(this._port?":"+this._port:"")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){for(var e=this.toString().split("/"),t=e.length-1;t>=3;t--)if(e[t])return e[t];return""},enumerable:!0,configurable:!0}),e.prototype.setProtocol=function(e){return this._protocol=e,this},e.prototype.setDomain=function(e){return this._domain=e,this},e.prototype.setPort=function(e){return this._port=e,this},e.prototype.setPath=function(e){return this._path=e,this},e.prototype.setParams=function(e){return this._params=e,this},e.prototype.setAnchor=function(e){return this._anchor=e,this},e.prototype.toString=function(){return(this._protocol?this._protocol+":":"")+(this._domain?"//"+this._domain:"")+(this._port?":"+this._port:"")+(this._path?this._path:"")+(this._params.length>0?"?"+this._params.toString():"")+(this._anchor?"#"+this._anchor:"")},e.prototype._parse=function(){try{var e=/^(([a-z0-9]+)\:)?(\/\/([^:?#\/]+))?(\:([0-9]+))?([^?#]+)?[?]?([^#]+)?[#]?(.+)?$/i.exec(this._source);if(void 0===e)throw new Error("Input string isn't URI.");this._protocol=e[2],this._domain=e[4],this._port=e[6]?Number(e[6]):void 0,this._path=e[7],this._params=new t.UriParams(e[8]),this._anchor=e[9]}catch(e){throw e}},e}(),t.Uri=A}(advark||(advark={})),function(e){var t,A;t=e.parser||(e.parser={}),A=function(){function e(e){this._changed=!1,this._items={},this._source=e,this._parse()}return Object.defineProperty(e.prototype,"length",{get:function(){var e=0;for(var t in this._items)void 0!==this._items[t]&&e++;return e},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this._changed=!0,this._items={}},e.prototype.toString=function(){var e=this._source;if(this._changed){e="";var t=!1;for(var A in this._items)void 0!==this._items[A]&&(e+=(t?"&":"")+A+"="+this._items[A],t=!0)}return e},e.prototype.get=function(e){return this._items[e]},e.prototype.set=function(e,t){this._items[e]!==t&&(this._changed=!0,this._items[e]=t)},e.prototype._parse=function(){this._items=(this._source||"").split("&").reduce(function(e,t){var A=t.split("="),r=A[0],i=A[1];return e[r]=i,e},{})},e}(),t.UriParams=A}(advark||(advark={})),function(e){!function(t){(e.str||(e.str={})).toMap=function(t){if(t){var A={};return e.each(t,function(e,t){return A[t.toString()]=e&&e.toString&&e.toString()}),A}}}()}(advark||(advark={})),function(e){function t(e,t){if(e)if(e.length&&!isNaN(Number(e.length)))for(var A=0;A<e.length;A++)t(e[A],A);else for(var A in e)e.hasOwnProperty(A)&&t(e[A],A)}e.clone=function e(t){switch(Object.prototype.toString.apply(t)){case"[object Array]":for(var A=[],r=0;r<t.length;r++)A[r]=e(t[r]);return A;case"[object Object]":var i={};for(var r in t)i[r]=e(t[r]);return i;default:return t}},e.extend=function(e){for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];return e=e||{},t(A,function(A){return t(A,function(t,A){return e[A]=t})}),e},e.each=t,e.filter=function(e,t){for(var A=[],r=0;r<e.length;r++)t(e[r],r)&&A.push(e[r]);return A}}(advark||(advark={})),function(e){var t=function(){function e(){this._queue=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this._queue.length},enumerable:!0,configurable:!0}),e.prototype.append=function(e){var t=this,A=function(){e&&e(),t._queue.shift(),t._queue[0]&&t._queue[0]()};this._queue.push(A),this._queue[0]===A&&A()},e}();e.Conveyor=t}(advark||(advark={})),function(e){var t;(t=e.vpaid||(e.vpaid={})).VolumeMax=1,t.VolumeMin=0,t.WidthMin=0,t.HeightMin=0,t.CodeNotImplemented=-1,t.CodeUnknown=-2}(advark||(advark={})),function(e){var t,A;t=e.vpaid||(e.vpaid={}),(A=t.events||(t.events={})).AdLoaded="AdLoaded",A.AdStarted="AdStarted",A.AdStopped="AdStopped",A.AdSkipped="AdSkipped",A.AdSkippableStateChange="AdSkippableStateChange",A.AdSizeChange="AdSizeChange",A.AdLinearChange="AdLinearChange",A.AdDurationChange="AdDurationChange",A.AdExpandedChange="AdExpandedChange",A.AdRemainingTimeChange="AdRemainingTimeChange",A.AdVolumeChange="AdVolumeChange",A.AdImpression="AdImpression",A.AdVideoStart="AdVideoStart",A.AdVideoFirstQuartile="AdVideoFirstQuartile",A.AdVideoMidpoint="AdVideoMidpoint",A.AdVideoThirdQuartile="AdVideoThirdQuartile",A.AdVideoComplete="AdVideoComplete",A.AdClickThru="AdClickThru",A.AdInteraction="AdInteraction",A.AdUserAcceptInvitation="AdUserAcceptInvitation",A.AdUserMinimize="AdUserMinimize",A.AdUserClose="AdUserClose",A.AdPaused="AdPaused",A.AdPlaying="AdPlaying",A.AdLog="AdLog",A.AdError="AdError"}(advark||(advark={})),function(e){!function(e){e.getExpectedEvents=function(t){switch(t){case"initAd":return[e.events.AdLoaded];case"startAd":return[e.events.AdStarted];case"stopAd":return[e.events.AdStopped];case"pauseAd":return[e.events.AdPaused];case"resumeAd":return[e.events.AdPlaying];default:return}},e.allowMult=function(e){switch(e){case"AdError":case"AdLoaded":case"AdStarted":case"AdStopped":case"AdSkipped":case"AdVideoStart":case"AdVideoFirstQuartile":case"AdVideoMidpoint":case"AdVideoThirdQuartile":case"AdVideoComplete":return!1;default:return!0}}}(e.vpaid||(e.vpaid={}))}(advark||(advark={})),function(e){var t,A;(t=e.devstat||(e.devstat={})).strUnk="?",t.strEnd=".",t.strTo="->",t.strSuccess="+",t.strFail="-",t.strSelector=":",t.strField=".",t.strComma=",",t.strChildOn="(",t.strChildOff=")",t.strTick="t",t.strAnd="&",t.strOr="|",t.strResolve=t.strSuccess,t.strReject=t.strFail,t.strCreated="new",t.strDisposed="disposed",t.strNewAd="newad",t.strWrapper="wrap",t.strError="err",t.strDispose="dispose",t.strLinear="linear",t.strNonlinear="nonlinear",t.strDelay="delay",t.strClient="cl",t.strPlayer="pl",t.strFrame="fr",t.strChild="ch",t.strCalled=">",t.strDone="#",t.strDispatch="dispatch",t.strErrorData=t.strSelector,t.strErrorPrefix=t.strError+t.strSelector,t.strBreakPrefix="break"+t.strSelector,t.evtSelect="as",t.evtRequest="ar",t.evtVastLoad="vl",t.evtLoaded="al",t.evtWaitUser="wu",t.evtImpression="ai",t.evtImpression2s=t.evtImpression+"2s",t.evtInit="ini",t.evtStart="sta",t.evtStop="stp",t.evtSkip="skip",t.evtUserClose="uclose",t.evtError=t.strError,t.evtPause="pa",t.evtResume="re",t.evtClick="clk",t.evtViewable="av",t.evtVideoStart="vs",t.evtFirstQuartile="fq",t.evtMidpoint="mp",t.evtThridQuartile="tq",t.evtVideoComplete="vc",A="_",t.mthInit=A+t.evtInit,t.mthLoad="_l",t.mthLoadString="_ls",t.mthLoadNode="_ln",t.mthLoadElement="_le",t.mthSubscribe="_sub",t.mthStart=A+t.evtStart,t.mthStop=A+t.evtStop,t.mthPause=A+t.evtPause,t.mthResume=A+t.evtResume,t.msgToRequest=t.evtSelect+t.strTo+t.evtRequest,t.msgToVastLoad=t.evtRequest+t.strTo+t.evtVastLoad,t.msgToLoaded=t.evtVastLoad+t.strTo+t.evtLoaded,t.msgToWaitUser=t.evtLoaded+t.strTo+t.evtWaitUser,t.msgToImpression=t.evtWaitUser+t.strTo+t.evtImpression,t.msgToStarted=t.evtImpression+t.strTo+t.evtStart,t.msgToVideoStart=t.evtStart+t.strTo+t.evtVideoStart,t.msgToFirstQuartile=t.evtVideoStart+t.strTo+t.evtFirstQuartile,t.msgToViewable=t.strChild+t.strTo+t.evtViewable,t.msgToStopped=t.evtStart+t.strTo+t.evtStop,t.msgDelayToStartAd=t.strDelay+t.strSelector+t.evtStart+t.strCalled,t.msgDelayToImpression=t.strDelay+t.strSelector+t.evtImpression,t.msgUid="uid",t.msgUserAgent="user-agent",t.msgSeq="sequence",t.msgVast="vast",t.errLogicBreak=t.strErrorPrefix+"logicbreak",t.errTrack=t.strErrorPrefix+"track",t.errDispatch=t.strErrorPrefix+t.strDispatch,t.errNoUid=t.strErrorPrefix+"nouid",t.errDmpTooLate=t.strErrorPrefix+"dmptoolate",t.errBuilder=t.strErrorPrefix+"builder",t.errPlayerBuild=t.strErrorPrefix+"playerBuild",t.errHandle=t.strErrorPrefix+"handle",t.errXmlParse=t.strErrorPrefix+"xmlParse",t.errPrepr=t.strErrorPrefix+"prepr",t.errDelta=t.strErrorPrefix+"delta",t.errNoToken=t.strErrorPrefix+"notoken",t.errPrefixMethod=t.strErrorPrefix+"method"+t.strSelector,t.errViewUnd=t.strErrorPrefix+"viewUnd",t.errVastHead=t.strErrorPrefix+"vastHead",t.errCall=t.strErrorPrefix+t.strCalled}(advark||(advark={})),function(e){!function(t){var A=/\[((?:[a-z0-9]+\:)*)([a-zA-Z_][a-zA-Z0-9_]*)\]/gi;function r(t,r){void 0===r&&(r=void 0);var i,n="";do{(i=A.exec(t))&&(n+=(n.length>0?",":"")+i[0])}while(i);n.length>0&&e.devstat.send(r,e.devstat.errPrepr,"found:"+n,t)}function i(e){return void 0===e&&(e=2147483647),Math.floor(Math.random()*e)}function n(e){var t=function(e){if(0==e)return 45;if(e<11)return e+47;if(e<37)return e+54;if(37==e)return 95;if(e<64)return e+59;throw new RangeError("Allowed range is 0..63")},A="";if("number"==typeof e){var r=Math.round(e/50),i=[];do{i.push(r%64),r=Math.floor(r/64)}while(r>0);for(;i.length>0;)A+=String.fromCharCode(t(i.pop()))}return A}t.checkMissed=r,t.process=function(e,t){for(var i in t)t[i.toLowerCase()]=t[i];var n,o=[];do{if(n=A.exec(e)){var s={entry:n[0],mods:n[1].split(":"),name:n[2].toLowerCase()};o.push(s)}}while(n);for(var i in o){var a=t[(s=o[i]).name];if("function"==typeof a&&(a=a()),"number"==typeof a&&(a=a.toString()),"string"==typeof a){for(var d=s.mods.length-1;d>=0;d--)switch(s.mods[d]){case"e":a=encodeURIComponent(a);break;case"t256":a=a.substr(0,256)}e=e.replace(s.entry,a)}}return r(e,"process"),e},t.def=function(t,A){void 0===A&&(A=void 0);var r,o={random:i(1e8),cachebusting:i(1e8),session:(new Date).getTime()+""+i(1e8),timestamp:(new Date).toISOString()},s=(c=1,void 0!==window.screen.deviceXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.deviceXDPI>window.screen.logicalXDPI&&(c=window.screen.deviceXDPI/window.screen.logicalXDPI),void 0!==window.devicePixelRatio&&(c=window.devicePixelRatio),c),a=screen?screen.width:NaN,d=screen?screen.height:NaN,l=a*s,p=d*s;var c;return o.dpr=s,o.screenWidthPx=isNaN(a)?"":a,o.screenHeightPx=isNaN(d)?"":d,o.screenWidthDip=isNaN(l)?"":l,o.screenHeightDip=isNaN(p)?"":p,t&&(o.autoplay=t.autoplay||"",o.domain=t.referer?new e.parser.Uri(t.referer).domain:"",o.duration=t.duration||"",o.durationRange=t.duration?(v=t.duration,f=15,v=Number(v),isNaN(v)||(f=v<31?0:v<61?1:v<91?2:v<121?3:v<181?4:v<241?5:v<301?6:v<601?7:v<901?8:v<1801?9:v<3601?10:v<5401?11:v<7201?12:13),f):"",o.hashVideoId=t.hashVideoId||"",o.isFlash=t.isFlash||"",o.isHtml=t.isHtml||"",o.mimeTypes=(u=t,h="",1===u.isFlash&&(h+=(""===h?"":",")+"application/x-shockwave-flash",h+=(""===h?"":",")+"video/x-flv"),1===u.isHtml&&(h+=(""===h?"":",")+"application/javascript",h+=(""===h?"":",")+"application/x-javascript",h+=(""===h?"":",")+"video/webm"),h),o.placement=t.advarkId?t.advarkId+"-"+(t.labelId||"0"):"",o.pr=t.pr||Math.floor((new Date).getTime()/1e3)+i(),o.publisher=t.publisher||"",o.referer=t.referer||"",o.site=t.referer?new e.parser.Uri(t.referer).site:"",o.videoId=t.videoId||"",o.videoIdReqd=t.videoId||t.hashVideoId||"",o.videoPageUrl=t.videoPageUrl||t.referer||"",o.videoTitle=t.videoTitle||"",o.videoTitleReqd=t.videoTitle||t.referer?new e.parser.Uri(t.referer).right:"",o.videoUrl=t.videoUrl||t.referer||""),A&&(o.width=A.width||"",o.height=A.height||"",o.fullscreen="fullscreen"===A.viewMode?"1":"0",o.playerSize=function(e){var t=n(e.width),A=n(e.height),r=t.length-A.length;if(0!==r){for(var i=n(0),o="",s=0;s<Math.abs(r);s++)o+=i;r>0?A=o+A:t=o+t}return t+A}(A),o.size=(r=A).width&&r.height?r.width<400&&r.height<225?5:r.width<640&&r.height<360?0:r.width<960&&r.height<540?1:r.width<1280&&r.height<720?2:3:4),o;var u,h;var v,f}}(e.prepr||(e.prepr={}))}(advark||(advark={})),function(e){var t;(function(t){function A(){return[{lsName:"0C376D1A-6F4F-45FD-B6E9-ADFE95065D0C",jsName:"logLevel4",desc:"Включение 4 уровня лога"},{lsName:"C31FA8E4-5C16-4C54-9DDD-DACB24847D02",jsName:"logDispatchingEvents",desc:"Лог отправления событий"},{lsName:"3E5DE066-0B24-4B45-A73D-2BF00670C5A7",jsName:"logBuilders",desc:"Лог строителей объектов"},{lsName:"C8281E7E-9BE9-4F0A-8E61-87F6F2886B11",jsName:"logDebugContainer",desc:"Лог отладочного контейнера"},{lsName:"5AD29AC6-BC20-463D-B9B3-12BAD91DAE0C",jsName:"logDevstat",desc:"Лог отправки статистики разработчика"},{lsName:"A9EDC441-F2C2-40E4-9FED-BE83A8F50265",jsName:"logSand",desc:"Лог взаимодействия фрейм-клиент"},{lsName:"B409D4B8-A2DE-40F8-8997-2FB0AE4995F3",jsName:"logWrapper",desc:"Лог обёрток"},{lsName:"813CCA82-1C2D-4EE4-8A80-80E45F722431",jsName:"client_logClientLoader",desc:"Лог загрузчика AdvarkClient"},{lsName:"CD3CD4A2-5825-4216-91CE-823EBD4837D8",jsName:"client_logVpaid",desc:"Лог VPAID"},{lsName:"9E30643E-6C64-4DB0-A455-39E0A36C5BE7",jsName:"client_logContentRoll",desc:"Лог Content-Roll"},{lsName:"A79B3197-DA5D-4514-979A-6F95AEF137FD",jsName:"client_logSpruto",desc:"Лог Spruto Plugin"},{lsName:"0D71D29E-2041-4670-A3B0-61B0EBA0BAD0",jsName:"client_logAdvarkClient",desc:"Лог AdvarkClient"},{lsName:"C9A72BDB-5DE2-4DE8-BD58-80604EEB1D25",jsName:"client_logFlashWrapper",desc:"Лог FlashWrapper"},{lsName:"7F3CCD25-177A-4E95-B2DF-A9A0D61E5991",jsName:"client_logPlayer",desc:"Лог проигрывателя рекламы"},{lsName:"8B8B6DCC-D9B3-40C6-9E35-6D69DAE3E81B",jsName:"client_logVideo",desc:"Лог событий элемента video"}]}t.secretKeysGetInfo=A,t.secretKeysLoad=function(){for(var t={},A=0,r=[{lsName:"0C376D1A-6F4F-45FD-B6E9-ADFE95065D0C",jsName:"logLevel4",desc:"Включение 4 уровня лога"},{lsName:"C31FA8E4-5C16-4C54-9DDD-DACB24847D02",jsName:"logDispatchingEvents",desc:"Лог отправления событий"},{lsName:"3E5DE066-0B24-4B45-A73D-2BF00670C5A7",jsName:"logBuilders",desc:"Лог строителей объектов"},{lsName:"C8281E7E-9BE9-4F0A-8E61-87F6F2886B11",jsName:"logDebugContainer",desc:"Лог отладочного контейнера"},{lsName:"5AD29AC6-BC20-463D-B9B3-12BAD91DAE0C",jsName:"logDevstat",desc:"Лог отправки статистики разработчика"},{lsName:"A9EDC441-F2C2-40E4-9FED-BE83A8F50265",jsName:"logSand",desc:"Лог взаимодействия фрейм-клиент"},{lsName:"B409D4B8-A2DE-40F8-8997-2FB0AE4995F3",jsName:"logWrapper",desc:"Лог обёрток"},{lsName:"813CCA82-1C2D-4EE4-8A80-80E45F722431",jsName:"client_logClientLoader",desc:"Лог загрузчика AdvarkClient"},{lsName:"CD3CD4A2-5825-4216-91CE-823EBD4837D8",jsName:"client_logVpaid",desc:"Лог VPAID"},{lsName:"9E30643E-6C64-4DB0-A455-39E0A36C5BE7",jsName:"client_logContentRoll",desc:"Лог Content-Roll"},{lsName:"A79B3197-DA5D-4514-979A-6F95AEF137FD",jsName:"client_logSpruto",desc:"Лог Spruto Plugin"},{lsName:"0D71D29E-2041-4670-A3B0-61B0EBA0BAD0",jsName:"client_logAdvarkClient",desc:"Лог AdvarkClient"},{lsName:"C9A72BDB-5DE2-4DE8-BD58-80604EEB1D25",jsName:"client_logFlashWrapper",desc:"Лог FlashWrapper"},{lsName:"7F3CCD25-177A-4E95-B2DF-A9A0D61E5991",jsName:"client_logPlayer",desc:"Лог проигрывателя рекламы"},{lsName:"8B8B6DCC-D9B3-40C6-9E35-6D69DAE3E81B",jsName:"client_logVideo",desc:"Лог событий элемента video"}];A<r.length;A++){var i=r[A];t[i.jsName]="true"===e.lstorage.read(i.lsName)}return t}})((t=e.context||(e.context={})).utils||(t.utils={}))}(advark||(advark={})),function(e){!function(e){e.secretKeys=e.secretKeys||{};var t=e.utils.secretKeysLoad();for(var A in t)e.secretKeys[A]=t[A];e.settings=e.settings||{},e.timeouts=e.timeouts||{request:2500,initClient:5e3,initSeq:1e4,initAd:3500,startAd:3500,stopAd:3500,pauseAd:2e3,resumeAd:2e3,startVideo:3e3,disposeVpaid:500,vpaidPlayerHideLogo:3e3},e.settings.nodeEnv=e.settings.nodeEnv||"prod",e.settings.debug=e.settings.debug||!1,e.settings.clickTarget=e.settings.clickTarget||"_blank",e.taskFlags=e.taskFlags||{}}(e.context||(e.context={}))}(advark||(advark={})),function(e){var t,A;t=e.vast||(e.vast={}),(A=t.errors||(t.errors={})).XMLParsingError=100,A.VastSchemaError=101,A.VastVersionNotSupported=102,A.AdUnsupported=200,A.AdUnexpectedLinearity=201,A.AdUnexpectedDuration=202,A.AdUnexpectedSize=203,A.WrapperError=300,A.WrapperTimeout=301,A.WrapperLimit=302,A.WrapperNoAd=303,A.LinearError=400,A.LinearFileLoadError=401,A.LinearTimeout=402,A.LinearNoSupportedFile=403,A.LinearFileError=405,A.NonLinearError=500,A.NonLinearInvalidSize=501,A.NonLinearFileLoadError=502,A.NonLinearNoSupportedFile=503,A.CompanionAdsError=600,A.CompanionNoAvailableSpace=601,A.UnableDisplayCompanion=602,A.UnableFetchCompanion=603,A.CompanionResourceUnsuported=604,A.Error=900,A.VpaidError=901}(advark||(advark={})),function(e){var t,A;t=e.vast||(e.vast={}),(A=t.errors||(t.errors={})).DmpError=10001,A.DmpReject=10002,A.DmpBadRequest=10003,A.DmpParseRespError=10004,A.ExternalVpaid=2e4}(advark||(advark={})),function(e){var t,A,r,i,n;t=e.vast||(e.vast={}),A=t.trackings||(t.trackings={}),(r=A.any||(A.any={})).mute="mute",r.unmute="unmute",r.pause="pause",r.resume="resume",r.rewind="rewind",r.skip="skip",r.playerExpand="playerExpand",r.playerCollapse="playerCollapse",(i=A.linear||(A.linear={})).start="start",i.firstQuartile="firstQuartile",i.midpoint="midpoint",i.thirdQuartile="thirdQuartile",i.complete="complete",i.acceptInvitationLinear="acceptInvitationLinear",i.timeSpentViewing="timeSpentViewing",i.otherAdInteraction="otherAdInteraction",i.progress="progress",(n=A.nonlinear||(A.nonlinear={})).creativeView="creativeView",n.acceptInvitation="acceptInvitation",n.adExpand="adExpand",n.adCollapse="adCollapse",n.minimize="minimize",n.close="close",n.overlayViewDuration="overlayViewDuration",n.otherAdInteraction="otherAdInteraction",(A.companion||(A.companion={})).creativeView="creativeView:"}(advark||(advark={})),function(e){!function(e){e.parseInteractiveFile=function(e,t,A){var r={api:e.getAttribute("apiFramework"),type:e.getAttribute("type"),path:e.textContent};for(var i in r)"string"==typeof r[i]&&(r[i]=r[i].trim(),"path"!==i&&(r[i]=r[i].toLowerCase()));if(0===r.path.length)throw new Error("Interactive file has no path");if(t){var n=!1;if(!r.api)throw new Error("Not supported API");for(var o=0,s=t;o<s.length;o++)if(s[o].trim().toLowerCase()===r.api){n=!0;break}if(!n)throw new Error("Not supported API")}if(A){if(n=!1,!r.type)throw new Error("Not supported MIME-type");for(var a=0,d=A;a<d.length;a++)if(d[a].trim().toLowerCase()===r.type){n=!0;break}if(!n)throw new Error("Not supported MIME-type")}return r},e.parseInteractiveFiles=function(t,A,r,i){var n=[];if(t)for(var o=0,s=A;o<s.length;o++)for(var a=s[o],d=t.getElementsByTagName(a),l=0;l<d.length;l++)try{n.push(e.parseInteractiveFile(d[l],r,i))}catch(e){}return n},e.parseVideoFile=function(e,t){var A={type:e.getAttribute("type"),path:e.textContent,width:parseInt(e.getAttribute("width")),height:parseInt(e.getAttribute("height"))};for(var r in A)"string"==typeof A[r]&&(A[r]=A[r].trim(),"path"!==r&&(A[r]=A[r].toLowerCase()));if(0===A.path.length)throw new Error("Media file has no path");if(isNaN(A.width)||isNaN(A.height))throw new Error("Media file has no width/height attribute");if(t){var i=!1;if(!A.type)throw new Error("Not supported MIME-type");for(var n=0,o=t;n<o.length;n++)if(o[n].test(A.type)){i=!0;break}if(!i)throw new Error("Not supported MIME-type")}return A},e.parseVideoFiles=function(t,A,r){var i=[];if(t)for(var n=0,o=A;n<o.length;n++)for(var s=o[n],a=t.getElementsByTagName(s),d=0;d<a.length;d++)try{i.push(e.parseVideoFile(a[d],r))}catch(e){}return i}}(e.vast||(e.vast={}))}(advark||(advark={})),function(e){!function(t){var A,r;t.allowMult=function(t){switch(t){case"NotViewable":case"Viewable":case"ViewUndetermined":return!1}switch(t){case"Preload":case"PreloadError":return!1}switch(t){case"AdClickRedirect":case"Progress":case"TeaserEnd":return!0;case"AdWaitUser":case"Empty":case"VastLoad":return!1}return e.vpaid.allowMult(t)},(A=t.viewability||(t.viewability={})).viewable="Viewable",A.notViewable="NotViewable",A.viewUndetermined="ViewUndetermined",(r=t.flash||(t.flash={})).Preload="Preload",r.PreloadError="PreloadError",t.ClickRedirect="AdClickRedirect",t.Empty="Empty",t.Ready="Ready",t.Progress="Progress",t.TeaserEnd="TeaserEnd",t.VastLoad="VastLoad",t.WaitUser="AdWaitUser"}(e.events||(e.events={}))}(advark||(advark={})),function(e){!function(t){t.EventName=function(A){switch(A){case e.events.WaitUser:return t.evtWaitUser;case e.vpaid.events.AdLoaded:return t.evtLoaded;case e.vpaid.events.AdError:return t.strError;case e.vpaid.events.AdPaused:return t.evtPause;case e.vpaid.events.AdPlaying:return t.evtResume;case e.vpaid.events.AdStopped:return t.evtStop;case e.vpaid.events.AdStarted:return t.evtStart;case e.vpaid.events.AdSkipped:return t.evtSkip;case e.vpaid.events.AdUserClose:return t.evtUserClose;case e.vpaid.events.AdImpression:return t.evtImpression;case e.vpaid.events.AdVideoStart:return t.evtVideoStart;case e.vpaid.events.AdVideoFirstQuartile:return t.evtFirstQuartile;case e.vpaid.events.AdVideoMidpoint:return t.evtMidpoint;case e.vpaid.events.AdVideoThirdQuartile:return t.evtThridQuartile;case e.vpaid.events.AdVideoComplete:return t.evtVideoComplete;default:return}},t.MethodName=function(e){switch(e){case"initAd":return t.mthInit;case"startAd":return t.mthStart;case"stopAd":return t.mthStop;case"pauseAd":return t.mthPause;case"resumeAd":return t.mthResume;default:return}}}(e.devstat||(e.devstat={}))}(advark||(advark={})),function(e){var t;(t=e.integration||(e.integration={})).TypeSpruto=4,t.TypeVpaid=5,t.TypeJavaScript=6}(advark||(advark={})),function(e){(advark||(advark={})).getHosts=function(){var e=window.location.origin?"null"===window.location.origin?[]:[window.location.origin]:[window.location.protocol+"//"+window.location.host];if(window!=window.top)if(window.location.ancestorOrigins){var t=window.location.ancestorOrigins;e.push(t[0]),t.length>1&&e.push(t[t.length-1])}else e.push(document.referrer);return e}}(),function(e){(e.base||(e.base={})).STR_NO_VALUE="<no value>"}(advark||(advark={})),function(e){var t,A;t=e.base||(e.base={}),(A=t.errors||(t.errors={})).AlreadyDone="Something already done",A.AlreadyExist="Object already exist",A.BadFeed="Bad feed",A.Cancelled="Cancelled",A.CantInitVideo="Cannot initialize video element",A.Disposing="Disposing",A.Disposed="Disposed",A.Done="Done",A.Duplicate="Duplicate",A.Empty="Empty",A.InvalidParams="Invalid parameters",A.New="New instance",A.NoError="No error",A.NoListeners="No listeners",A.NoLogger="No logger",A.NoMessage="No message",A.NoNextHandler="No next handler",A.NoSupportedFiles="No supported files",A.NotAllowed="Not allowed",A.NotImplemented="Not implemented",A.NotPassed="Not passed",A.NotReady="Object isn't ready",A.NotSupported="Not supported",A.Reset="Reset",A.Skipped="Skipped",A.StatesLogicBreak="States logic break",A.Stopped="Stopped",A.Timeout="Timeout exceed",A.WrapperLimit="Wrapper limit exceed",A.WrongIndex="Wrong index",A.WrongSize="Wrong data size",A.Undefined="Undefined error",A.Unload="Unload"}(advark||(advark={})),function(e){var t,A;t=e.base||(e.base={}),A=function(){function A(){this._disposing=!1,this._disposed=!1}return A.prototype.dispose=function(A){return this._disposing?e.spromise.rejected(t.errors.Disposing):(this._disposing=!0,this._dispose(A))},A.prototype._dispose=function(A){return this._disposed?e.spromise.rejected(t.errors.Disposed):(this._disposed=!0,e.spromise.resolved())},A}(),t.ADisposableObject=A}(advark||(advark={}));var advark,__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])};return function(t,A){function r(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(r.prototype=A.prototype,new r)}}();!function(e){var t,A;t=e.base||(e.base={}),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._parent?this._parent.level?this._parent.level+1:0:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Object.getPrototypeOf(this).constructor.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathStr",{get:function(){return(this._parent?this._parent.pathStr?this._parent.pathStr:this._parent.name?this._parent.name.substr(0,1).toLowerCase():"":"")+this.name.substr(0,1).toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathList",{get:function(){return(this._parent?this._parent.pathList?this._parent.pathList:this._parent.name?[this._parent.name]:[]:[]).concat(this.name)},enumerable:!0,configurable:!0}),t.prototype.setParent=function(e){return this._parent=e,this},t}(t.ADisposableObject),t.AParentableObject=A}(advark||(advark={})),function(e){var t,A;t=e.base||(e.base={}),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(t.AParentableObject),t.ALogWriter=A}(advark||(advark={})),function(e){var t,A;t=e.base||(e.base={}),A=function(){function t(){this.name="",this.text="",this.level=0,this.multiply=!0,this.count=0,this._tickStr=e.devstat.strTick,this._tickSize=1e3,this._ticksLeft=20,this._ticksEnabled=!1,this._created=new Date}return Object.defineProperty(t.prototype,"started",{get:function(){return""!==this.text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ticks",{get:function(){return this._ticksEnabled},enumerable:!0,configurable:!0}),t.prototype.setLevel=function(t){for(var A=0;A<Math.abs(this.level-t);A++)this.text+=t>this.level?e.devstat.strChildOn:e.devstat.strChildOff;this.level=t},t.prototype.append=function(e,t){if(e&&""!==e){if(this.ticks){var A=this._ticksOver();A>0&&this._append((A>1?A.toString():"")+this._tickStr,this.level)}this._append(e,t)}},t.prototype._append=function(t,A){if(this.level===A){var r=this.text.length,i=this.text[r-1];0===r||i===e.devstat.strChildOff||i===e.devstat.strChildOn||(this.text+=e.devstat.strComma)}else this.setLevel(A);this.text+=t},t.prototype._ticksOver=function(){if(!this.ticks||this._ticksLeft<=0)return 0;var e=new Date,t=e.getTime()-this._ticksLast.getTime();this._ticksLast=e;var A=Math.round(t/this._tickSize);return this._ticksLeft-=A,A},t.prototype.ticksEnable=function(e,t,A){this._tickStr=e||this._tickStr,this._tickSize=t||this._tickSize,this._ticksLeft=A||this._ticksLeft,this._ticksLast=new Date,this._ticksEnabled=!0},t}(),t.ADevstatObject=A}(advark||(advark={})),function(e){var t,A;t=e.base||(e.base={}),A=function(A){function r(){var e=null!==A&&A.apply(this,arguments)||this;return e._devstatObjects={},e}return __extends(r,A),r.prototype._devstatSender=function(){return this.name},Object.defineProperty(r.prototype,"_devstatIsTracker",{get:function(){return!this.parent},enumerable:!0,configurable:!0}),r.prototype.devstatIsStarted=function(e,t){var A;if(this._devstatIsTracker){var r=this._devstatGet(t);A=r&&r.started}else A=this.parent.devstatIsStarted(e,t);return A},r.prototype.devstatWrite=function(e,t,A,r){void 0===r&&(r=void 0);var i=this.parent;i&&!this._devstatIsTracker?i.devstatWrite(e,t,A,r):this._devstatWrite(e,t,A,r)},r.prototype.devstatSend=function(e,t,A,r,i){void 0===A&&(A=void 0),void 0===r&&(r=void 0),void 0===i&&(i=void 0);var n=this.parent;n&&!this._devstatIsTracker?n.devstatSend(e,t,A,r,i):this._devstatSend(e,t,A,r,i)},r.prototype.devstatSendIfStarted=function(e,t,A,r,i){void 0===A&&(A=void 0),void 0===r&&(r=void 0),void 0===i&&(i=void 0),this.devstatIsStarted(e,t)&&this.devstatSend(e,t,A,r,i)},r.prototype._devstatTransmit=function(t,A,r,i){void 0===r&&(r=void 0),void 0===i&&(i=void 0),r=r||this._devstatSender(),e.devstat.send(r,t,A,i)},r.prototype._dispose=function(r){if(this._disposed)return e.spromise.rejected(t.errors.Disposed);for(var i in this._devstatObjects){var n=this._devstatObjects[i];n&&""!==n.text&&(0===n.count||n.multiply)&&(this._devstatTransmit(i+e.devstat.strSelector+n.count,n.text,void 0,n.data),n.text="",n.count++)}return delete this._devstatObjects,A.prototype._dispose.call(this,r)},r.prototype._devstatCreate=function(e,A,r){if(void 0===A&&(A=!1),void 0===r&&(r=!1),this._devstatIsTracker&&!this._devstatObjects[e]){var i=new t.ADevstatObject;return i.name=e,i.multiply=A,r&&i.ticksEnable(),i=this._devstatSet(e,i)}},r.prototype._devstatDelete=function(e){return!!this._devstatIsTracker&&(!!this._devstatObjects[e]&&(delete this._devstatObjects[e],!0))},r.prototype._devstatGet=function(e){if(this._devstatObjects&&this._devstatObjects[e])return this._devstatObjects[e]},r.prototype._devstatSet=function(e,t){return this._devstatObjects[e]=t,this._devstatObjects[e]},r.prototype._devstatWrite=function(e,t,A,r){void 0===r&&(r=void 0);var i=this._devstatGet(t);if(i){var n=e.level-this.level;A&&i.append(A,n),r&&!i.data&&(i.data=r)}},r.prototype._devstatSend=function(t,A,r,i,n){void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===n&&(n=void 0),this._devstatWrite(t,A,r,i);var o=this._devstatGet(A);if(o){var s=t.level-this.level;s>0?o.setLevel(s):(0===o.count||o.multiply)&&(this._devstatTransmit(A+e.devstat.strSelector+o.count,o.text,n,o.data),o.text="",o.count++)}},r}(t.ALogWriter),t.ADevstatWriter=A}(advark||(advark={})),function(e){var t,A;t=e.base||(e.base={}),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype._devstatSender=function(){return this.pathStr},t}(t.ADevstatWriter),t.ADebugableObject=A}(advark||(advark={})),function(e){var t,A,r;t=e.base||(e.base={}),A=t.factory||(t.factory={}),r=function(t){function A(){return null!==t&&t.apply(this,arguments)||this}return __extends(A,t),A.prototype.setItem=function(e,t){return this["_"+e]=t,this},A.prototype.getItem=function(e){return this["_"+e]},A.prototype.setClass=function(e){return this.setItem("class",e)},A.prototype.getClass=function(){return this.getItem("class")},A.prototype.setClassName=function(e){return this.setItem("className",e)},Object.defineProperty(A.prototype,"className",{get:function(){return this.getItem("className")},enumerable:!0,configurable:!0}),A.prototype.setTargetParent=function(e){return this.setItem("targetParent",e)},Object.defineProperty(A.prototype,"targetParent",{get:function(){return this.getItem("targetParent")},enumerable:!0,configurable:!0}),A.prototype.build=function(){try{var t=this._checkCache();return t||(t=this._construct(),this._targetParent&&t.setParent(this._targetParent),this._beforeBuild(t),t.build(),this._afterBuild(t)),t}catch(t){throw this.devstatSend(this,e.devstat.errBuilder,t.message,t.data?JSON.stringify(t.data,void 0,void 0):void 0),t}},A.prototype._checkCache=function(){},A.prototype._beforeBuild=function(e){},A.prototype._afterBuild=function(e){},A}(t.ADebugableObject),A.ABuilder=r}(advark||(advark={})),function(e){var t,A,r;t=e.base||(e.base={}),A=t.factory||(t.factory={}),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._builded=!1,t}return __extends(t,e),t.prototype.build=function(){return this._builded=!0,this},t}(t.ADebugableObject),A.ABuildableItem=r}(advark||(advark={})),function(e){var t,A;t=e.request||(e.request={}),A=function(A){function r(){var t=null!==A&&A.apply(this,arguments)||this;return t._method="GET",t._timeout=e.context.timeouts.request,t._async=!0,t}return __extends(r,A),r.prototype.setMethod=function(e){return this._method=e,this},Object.defineProperty(r.prototype,"method",{get:function(){return this._method},enumerable:!0,configurable:!0}),r.prototype.setUri=function(e){return this._uri=e,this},Object.defineProperty(r.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),r.prototype.setCredentials=function(e){return this._credentrials=e,this},Object.defineProperty(r.prototype,"credentials",{get:function(){return this._credentrials},enumerable:!0,configurable:!0}),r.prototype.setHeaders=function(e){return this._headers=e,this},Object.defineProperty(r.prototype,"headers",{get:function(){return this._headers},enumerable:!0,configurable:!0}),r.prototype.setTimeout=function(e){return this._timeout=e,this},Object.defineProperty(r.prototype,"timeout",{get:function(){return this._timeout},enumerable:!0,configurable:!0}),r.prototype.setAsync=function(e){return this._async=e,this},Object.defineProperty(r.prototype,"async",{get:function(){return this._async},enumerable:!0,configurable:!0}),r.prototype.send=function(){var t=e.spromise.deffer();return this._send(function(e){e.succeed?t.resolve(e):t.reject(e)}),t.promise},r.prototype._send=function(e){t.send(this._method,this._uri,this._credentrials,this._async,this._timeout,this._headers,this._data,e)},r}(e.base.factory.ABuildableItem),t.Request=A}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),(A=t.errors||(t.errors={})).SeqEmpty=function(A,r){return new t.AdError("Sequence is empty",e.vast.errors.WrapperNoAd,A,r)},A.AdLinearFeedError=function(A,r){return new t.AdError(A?A.message||A:"Feed load error",e.vast.errors.LinearFileLoadError,A,r)},A.AdNonLinearFeedError=function(A,r){return new t.AdError(A?A.message||A:"Feed load error",e.vast.errors.NonLinearFileLoadError,A,r)},A.ExternalVpaid=function(A,r){return new t.AdError(A?A.message||A:"External VPAID Error",e.vast.errors.ExternalVpaid+(A&A.code||e.vast.errors.Error),A,r)},A.ClientInitTimeout=function(A,r){return new t.AdError("Client init timeout",e.vast.errors.Error,A,r)},A.VmapEmpty=function(A,r){return new t.AdError("Unable to find suitable ad",e.vast.errors.Error,A,r)},A.PlayerBuild=function(A,r){return new t.AdError(A?A.message||A:"Player building error",e.vast.errors.VpaidError,A,r)},A.VideoElementError=function(A,r){return new t.AdError("Video element error",e.vast.errors.LinearFileError,A,r)},A.VideoFileLoadTimeout=function(A,r){return new t.AdError(A?A.message||A:"Video file playing timeout",e.vast.errors.LinearFileLoadError,A,r)},A.BannerFileLoadError=function(A,r){return new t.AdError(A?A.message||A:"Unable to load banner image",e.vast.errors.NonLinearFileLoadError,A,r)},A.UserActionTimeout=function(A,r){return new t.AdError("Waiting user timeout",e.vast.errors.LinearTimeout,A,r)}}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),A=function(){function t(t,A,r,i){void 0===A&&(A=e.vast.errors.Error),void 0===r&&(r=void 0),void 0===i&&(i=void 0),this.name="AdError",this.message=t,this.code="string"==typeof A?parseInt(A):A,this.previous=r,this.data=i}return t.Build=function(A,r,i,n){void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===n&&(n=void 0);try{if(A instanceof Array&&(A=A.pop()),A instanceof t)return n&&(A.data=e.extend(A.data,n)),A;if(!A)throw new Error("Undefined error passed to builder");var o="string"==typeof A?/^(\d+)\s+(.+)$/i.exec(A):void 0,s=e.base.errors.Undefined,a=e.vast.errors.Error;return new t(A?"string"==typeof A?o&&o[2]?o[2]:A:A.message?A.message:A.data&&A.data.message?A.data.message:s:i?"string"==typeof i?i:i.message?i.message:s:s,A?"string"==typeof A&&o&&o[1]?parseInt(o[1]):A.code?A.code:A.data&&A.data.code?A.data.code:a:i&&i.code?i.code:a,A instanceof Error?A:i instanceof Error?i:void 0,n||(A&&A.data?A.data:void 0))}catch(A){return new t("Undefined error",e.vast.errors.Error,A)}},Object.defineProperty(t.prototype,"stringLine",{get:function(){return this.code+" "+this.message},enumerable:!0,configurable:!0}),t}(),t.AdError=A}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),A=function(t){function A(){var e=null!==t&&t.apply(this,arguments)||this;return e._listenerRecs={},e}return __extends(A,t),A.prototype.subscribe=function(e,t,A){void 0===A&&(A=void 0),this._disposing||(this._listenerRecs[t]||(this._listenerRecs[t]=[]),this._listenerRecs[t].push({listener:e,scope:A||window}))},A.prototype.unsubscribe=function(e,t){if(!this._disposing){var A=this._listenerRecs[t];if(A)for(var r=0;A&&A.length>r;)A[r].listener===e?A.splice(r,1):r++}},A.prototype._resetListeners=function(){this._listenerRecs={}},A.prototype._dispatch=function(t){for(var A=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var n=this._listenerRecs[t];if(!n||0===n.length)return e.spromise.resolved(e.base.errors.NoListeners);for(var o=e.spromise.resolved(),s=0;s<n.length;){var a=n.length;o=o.then(function(){return A._callListener(t,n[s],r)}),a===n.length&&s++}return o=o.catch(function(){return e.spromise.resolved()})},A.prototype._callListener=function(t,A,r){var i;try{i=A.listener.apply(A.scope,r)||e.spromise.resolved()}catch(o){var n={name:this.name,path:this.pathStr,args:r,listener:A.listener.toString()};this._devstatTransmit(e.devstat.errDispatch+e.devstat.strSelector+t,o.message||o,void 0,n),i=e.spromise.resolved()}return i},A}(e.base.factory.ABuildableItem),t.AEventDispatcher=A}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),A=function(t){function A(){var e=null!==t&&t.apply(this,arguments)||this;return e._eventTimeoutIds={},e._eventTimes={},e._eventParams={},e._eventHandlers={},e}return __extends(A,t),A.prototype._getHandlingEvents=function(){return[]},Object.defineProperty(A.prototype,"eventDispatcher",{get:function(){},enumerable:!0,configurable:!0}),A.prototype._clearEventTimeout=function(e){this._eventTimeoutIds[e]&&(clearTimeout(this._eventTimeoutIds[e]),delete this._eventTimeoutIds[e])},A.prototype._subscribeEvents=function(t){void 0===t&&(t=void 0);for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];for(var i=0,n=this._getHandlingEvents();i<n.length;i++){var o=n[i];this._subscribeEvent.apply(this,[o,t].concat(A))}return e.spromise.resolved()},A.prototype._unsubscribeEvents=function(){for(var t=0,A=this._getHandlingEvents();t<A.length;t++){var r=A[t];this._unsubscribeEvent(r)}return e.spromise.resolved()},A.prototype._handleEvent=function(t){for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];return this._disposing?e.spromise.rejected(e.base.errors.Disposing):this._handleEventEnd.apply(this,[t].concat(A))},A.prototype._handleEventEnd=function(t){for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];return this._disposing?e.spromise.rejected(e.base.errors.Disposing):(this._clearEventTimeout(t),this._eventTimes[t]=new Date,this._eventParams[t]=A,this._dispatch.apply(this,[t].concat(A)))},A.prototype._dispose=function(A){if(this._disposed)return e.spromise.rejected(e.base.errors.Disposed);for(var r in this._unsubscribeEvents(),this._eventTimeoutIds)this._clearEventTimeout(r);return delete this._eventTimeoutIds,t.prototype._dispose.call(this,A)},A.prototype._createEventHandler=function(e){for(var t=this,A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];return this._eventHandlers[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t._handleEvent.apply(t,[e].concat(A).concat(r))},this._eventHandlers[e]},A.prototype._deleteEventHandler=function(e){this._eventHandlers[e]=void 0},A.prototype._subscribeEvent=function(e,t){for(var A=[],r=2;r<arguments.length;r++)A[r-2]=arguments[r];(t=t||this.eventDispatcher)&&t.subscribe(this._createEventHandler.apply(this,[e].concat(A)),e)},A.prototype._unsubscribeEvent=function(e){this.eventDispatcher&&this.eventDispatcher.unsubscribe(this._eventHandlers[e],e)},A}(t.AEventDispatcher),t.AEventReceiver=A}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A="Wrong sequence for state: ",r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._strict=!0,t._loaded=!1,t._started=!1,t._stopped=!1,t._resumed=!1,t._paused=!1,t._loading=!1,t._starting=!1,t._stopping=!1,t._resuming=!1,t._pausing=!1,t}return __extends(t,e),t.prototype.setStrict=function(e){return this._strict=e,this},Object.defineProperty(t.prototype,"strict",{get:function(){return this._strict},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loaded",{get:function(){return this._loaded},set:function(e){if(this._check("loaded",e),this._strict&&!this._loading)throw new Error(A+"loaded");this._loading=!1,this._loaded=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"started",{get:function(){return this._started},set:function(e){if(this._check("started",e),this._strict&&!this._starting)throw new Error(A+"started");this._starting=!1,this._started=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stopped",{get:function(){return this._stopped},set:function(e){this._check("stopped",e),this._loading=!1,this._pausing=!1,this._resuming=!1,this._starting=!1,this._stopping=!1,this._stopped=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumed",{get:function(){return this._resumed},set:function(e){if(this._check("resumed",e),this._strict&&!this._started)throw new Error(A+"resumed");this._resuming=!1,this._pausing=!1,this._resumed=!0,this._paused=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},set:function(e){if(this._check("paused",e),!this._started)throw new Error(A+"paused");this._resuming=!1,this._pausing=!1,this._resumed=!1,this._paused=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(e){this._check("loading",e),this._loading=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"starting",{get:function(){return this._starting},set:function(e){if(this._check("starting",e),this._strict&&!this._loaded)throw new Error(A+"starting");this._starting=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stopping",{get:function(){return this._stopping},set:function(e){this._check("stopping",e),this._loading=!1,this._pausing=!1,this._resuming=!1,this._starting=!1,this._stopping=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resuming",{get:function(){return this._resuming},set:function(e){if(this._check("resuming",e),this._strict&&(!this._started||!this._paused))throw new Error(A+"resuming");this._resuming=!0,this._pausing=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pausing",{get:function(){return this._pausing},set:function(e){if(this._check("pausing",e),this._strict&&(!this._started||this._paused))throw new Error(A+"pausing");this._resuming=!1,this._pausing=!0},enumerable:!0,configurable:!0}),t.prototype._check=function(e,t){if(this._strict){if(!0!==t)throw new Error("Manual state switching to false is not allowed for state: "+e);if(this["_"+e])throw new Error("Duplicate state switching is not allowed for state: "+e);if(this._stopped||this._stopping&&"stopped"!==e)throw new Error("Trying to change state while stopping or stopped: "+e)}},t.prototype.reset=function(){this._loaded=!1,this._started=!1,this._stopped=!1,this._resumed=!1,this._paused=!1,this._loading=!1,this._starting=!1,this._stopping=!1,this._resuming=!1,this._pausing=!1},t}(e.base.factory.ABuildableItem),t.AdStates=r}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),A=function(A){function r(){return null!==A&&A.apply(this,arguments)||this}return __extends(r,A),r.prototype.build=function(){return A.prototype.build.call(this),this._states=(new t.AdStates).setParent(this).build(),this},r.prototype.initAd=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];return this._disposing?e.spromise.rejected(e.base.errors.Disposing):this._states.loading||this._states.loaded?e.spromise.rejected(e.base.errors.AlreadyDone):(this._states.loading=!0,e.spromise.resolved())},r.prototype.startAd=function(){return this._disposing||!this._states.loaded?e.spromise.rejected(e.base.errors.NotReady):this._states.starting||this._states.started?e.spromise.rejected(e.base.errors.AlreadyDone):(this._states.starting=!0,e.spromise.resolved())},r.prototype.stopAd=function(){return this._disposing||!this._states.started?e.spromise.rejected(e.base.errors.NotReady):this._states.stopping||this._states.stopped?e.spromise.rejected(e.base.errors.AlreadyDone):(this._states.stopping=!0,e.spromise.resolved())},r.prototype.pauseAd=function(){return this._disposing||!this._states.started?e.spromise.rejected(e.base.errors.NotReady):this._states.pausing||this._states.paused?e.spromise.rejected(e.base.errors.AlreadyDone):(this._states.pausing=!0,e.spromise.resolved())},r.prototype.resumeAd=function(){return this._disposing||!this._states.started?e.spromise.rejected(e.base.errors.NotReady):(this._states.resuming||this._states.resumed||(this._states.resuming=!0),e.spromise.resolved())},r.prototype._handleEvent=function(t){for(var r,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];switch(t){case e.vpaid.events.AdLoaded:this._states.loaded=!0;break;case e.vpaid.events.AdStarted:this._states.started=!0;break;case e.vpaid.events.AdError:case e.vpaid.events.AdStopped:this._states.stopped=!0;break;case e.vpaid.events.AdPaused:this._states.paused=!0;break;case e.vpaid.events.AdPlaying:this._states.resumed=!0}return(r=A.prototype._handleEvent).apply.call(r,this,[t].concat(i))},r.prototype._handleEventEnd=function(t){for(var r,i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);switch(t){case e.vpaid.events.AdStopped:r=this._handleStop.apply(this,n);break;case e.vpaid.events.AdError:r=this._handleError.apply(this,n)}return r||(i=A.prototype._handleEventEnd).apply.call(i,this,[t].concat(n))},r.prototype._handleError=function(A){for(var r=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);var o=t.AdError.Build(A),s=this._dispatch.apply(this,[e.vpaid.events.AdError,o].concat(i));return s=s.inspect(function(){return r._states.strict?r.dispose(o):void 0}).catch(function(){return e.spromise.resolved()})},r.prototype._handleStop=function(){for(var t=this,A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);var i=this._dispatch.apply(this,[e.vpaid.events.AdStopped].concat(A));return i=i.inspect(function(){return t._states.strict?t.dispose(e.base.errors.Stopped):void 0}).catch(function(){return e.spromise.resolved()})},r}(t.AEventReceiver),t.AManager=A}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),A=function(t){function A(){var e=null!==t&&t.apply(this,arguments)||this;return e._awaitRecs=[],e._awaitPromises={},e}return __extends(A,t),A.prototype.initAd=function(){for(var A=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var n,o="initAd";return this._states.loaded?e.spromise.resolved():this._states.loading?this._awaitPromises[o]:(this._awaitPromises[o]=this._waitEvents([e.vpaid.events.AdLoaded],[e.vpaid.events.AdError],o),(n=t.prototype.initAd).apply.call(n,this,r).then(function(){return A.__initAd.apply(A,r)}),this._awaitPromises[o])},A.prototype.startAd=function(){var A=this,r="startAd";return this._states.started?e.spromise.resolved():this._states.starting?this._awaitPromises[r]:(this._awaitPromises[r]=this._waitEvents([e.vpaid.events.AdStarted,e.events.WaitUser],[e.vpaid.events.AdError],r).catch(function(t){return A._handleEvent(e.vpaid.events.AdError,t).then(function(){return e.spromise.rejected(t)})}),t.prototype.startAd.call(this).then(function(){return A.__startAd()}),this._awaitPromises[r])},A.prototype.stopAd=function(){var A=this,r="stopAd";return this._states.stopped?e.spromise.resolved():this._states.stopping?this._awaitPromises[r]:(this._awaitPromises[r]=this._waitEvents([e.vpaid.events.AdStopped],[e.vpaid.events.AdError],r).catch(function(t){return A._handleEvent(e.vpaid.events.AdError,t).then(function(){return e.spromise.rejected(t)})}),t.prototype.stopAd.call(this).then(function(){return A.__stopAd()}),this._awaitPromises[r])},A.prototype.pauseAd=function(){var A=this,r="pauseAd";return this._states.paused?e.spromise.resolved():this._states.pausing?this._awaitPromises[r]:(this._awaitPromises[r]=this._waitEvents([e.vpaid.events.AdPaused],[e.vpaid.events.AdError],r).catch(function(t){return A._handleEvent(e.vpaid.events.AdError,t).then(function(){return e.spromise.rejected(t)})}),t.prototype.pauseAd.call(this).then(function(){return A.__pauseAd()}),this._awaitPromises[r])},A.prototype.resumeAd=function(){var A=this,r="resumeAd";return this._states.paused?this._states.resumed?e.spromise.resolved():this._states.resuming?this._awaitPromises[r]:(this._awaitPromises[r]=this._waitEvents([e.vpaid.events.AdPlaying],[e.vpaid.events.AdError],r).catch(function(t){return A._handleEvent(e.vpaid.events.AdError,t).then(function(){return e.spromise.rejected(t)})}),t.prototype.resumeAd.call(this).then(function(){return A.__resumeAd()}),this._awaitPromises[r]):e.spromise.resolved()},A.prototype.__initAd=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];var r=this.eventDispatcher;r?r.initAd.apply(r,t):this._handleEvent(e.vpaid.events.AdLoaded)},A.prototype.__startAd=function(){var t=this.eventDispatcher;t?t.startAd():this._handleEvent(e.vpaid.events.AdStarted)},A.prototype.__stopAd=function(){var t=this.eventDispatcher;t?t.stopAd():this._handleEvent(e.vpaid.events.AdStopped)},A.prototype.__pauseAd=function(){var t=this.eventDispatcher;t?t.pauseAd():this._handleEvent(e.vpaid.events.AdPaused)},A.prototype.__resumeAd=function(){var t=this.eventDispatcher;t?t.resumeAd():this._handleEvent(e.vpaid.events.AdPlaying)},A.prototype._handleEvent=function(A){for(var r,i=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);var s=this._awaitIdx(A);if(s<0)r=e.spromise.resolved();else{var a=this._awaitRecs[s][A];this._awaitRecs.splice(s,1),r=a.apply(this,n)}return r.then(function(){return(e=t.prototype._handleEvent).apply.call(e,i,[A].concat(n));var e})},A.prototype._waitEvents=function(t,A){for(var r=this,i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o=e.spromise.deffer(),s={};this._awaitRecs[this._freeAwaitIdx()]=s;for(var a=function(e){s[e]=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];return o.resolve(e)}},d=0,l=t;d<l.length;d++){a(u=l[d])}for(var p=0,c=A;p<c.length;p++){var u=c[p];s[u]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.reject(e[0])}}return o.promise.inspect(function(t,A){return A?void 0:r._handleEvent(e.vpaid.events.AdError,t)})},A.prototype._freeAwaitIdx=function(){for(var e=0;this._awaitRecs[e];)e++;return e},A.prototype._awaitIdx=function(e){for(var t=this._awaitRecs.length;t>=0&&(t--,!this._awaitRecs[t]||!this._awaitRecs[t][e]););return t},A}(t.AManager),t.AEventAwaiter=A}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),A=function(t){function A(){var e=null!==t&&t.apply(this,arguments)||this;return e._reducingRecs=[],e}return __extends(A,t),A.prototype._handleEvent=function(A){for(var r,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return this._disposing?e.spromise.rejected(e.base.errors.Disposing):this._reduceIdx([A])<0?(r=t.prototype._handleEvent).apply.call(r,this,[A].concat(i)):e.spromise.resolved()},A.prototype._reduceEvents=function(e,t){for(var A=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n=this._reduceNew();return this._reducingRecs[n]=e,t().inspect(function(t,r){A._reducingRecs.splice(A._reduceIdx(e),1)})},A.prototype._reduceNew=function(){for(var e=0;this._reducingRecs[e];)e++;return e},A.prototype._reduceIdx=function(e){for(var t=this._reducingRecs.length;t>=0;)if(t--,this._reducingRecs[t]){var A=this._reducingRecs[t],r=A.length>0;if(!r)continue;for(var i=0,n=e;i<n.length;i++){var o=n[i];if(-1===A.indexOf(o)){r=!1;break}}if(!r)continue;break}return t},A}(t.AEventAwaiter),t.AEventReducer=A}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),A=function(t){function A(){return null!==t&&t.apply(this,arguments)||this}return __extends(A,t),A.prototype.setContentData=function(e){return this._contentData=e,this},Object.defineProperty(A.prototype,"_refererDomain",{get:function(){return this._contentData&&this._contentData.referer?new e.parser.Uri(this._contentData.referer).domain:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_videoPageDomain",{get:function(){return this._contentData&&this._contentData.videoPageUrl?new e.parser.Uri(this._contentData.videoPageUrl).domain:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_advarkId",{get:function(){return this._contentData&&this._contentData.advarkId?this._contentData.advarkId:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_labelId",{get:function(){return this._contentData&&this._contentData.labelId?this._contentData.labelId:0},enumerable:!0,configurable:!0}),A.prototype._devstatSender=function(){var e=this._advarkId?this._advarkId:"",A=this._videoPageDomain?this._videoPageDomain:"";return t.prototype._devstatSender.call(this)+":"+e+":"+A},A}(t.AEventReducer),t.AContentDataOwner=A}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.platform||(t.platform={}),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._callbacks={setupAd:void 0,initAd:void 0,startAd:void 0,stopAd:void 0,pauseAd:void 0,resumeAd:void 0},t}return __extends(t,e),t.prototype.setGateway=function(e){return this._gateway=e,this},t.prototype.registerCallback=function(e,t){this._callbacks[e]=t},t.prototype.setupAd=function(e,t,A,r){return this._callbacks.setupAd(e,t,A,r)},t.prototype.initAd=function(e,t){return this._callbacks.initAd(e,t)},t.prototype.startAd=function(){return this._callbacks.startAd()},t.prototype.stopAd=function(){return this._callbacks.stopAd()},t.prototype.pauseAd=function(){return this._callbacks.pauseAd()},t.prototype.resumeAd=function(){return this._callbacks.resumeAd()},t}(e.base.factory.ABuildableItem),A.FrameWrapper=r}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.sand||(t.sand={}),(r=A.EAccess||(A.EAccess={}))[r.all=7]="all",r[r.read=4]="read",r[r.write=2]="write",r[r.call=1]="call",r[r.none=0]="none"}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),(A=t.sand||(t.sand={})).cmdBatch="batch",A.cmdFunc="func",A.cmdInit="init",A.cmdLoad="load",A.cmdBatchDone="batch-done",A.cmdFuncDone="func-done",A.cmdInitDone="init-done",A.cmdLoadDone="load-done"}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.sand||(t.sand={}),r=function(t){function r(){var A=null!==t&&t.apply(this,arguments)||this;return A._remoteFuncs={},A._localFuncs={},A.conveyor=new e.Conveyor,A._whenConnect=e.spromise.deffer(),A}return __extends(r,t),Object.defineProperty(r.prototype,"whenConnect",{get:function(){return this._whenConnect.promise},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return"Gateway"},enumerable:!0,configurable:!0}),r.prototype.setTargetWin=function(e){return this._targetWin=e,this},r.prototype.setOrigin=function(e){return this._origin=e,this},r.prototype.build=function(){return t.prototype.build.call(this),this._onMessageBound=this._onMessage.bind(this),window.addEventListener("message",this._onMessageBound),this},r.prototype._dispose=function(e){return window.removeEventListener("message",this._onMessageBound),delete this._localFuncs,delete this._remoteFuncs,delete this._origin,delete this._targetWin,delete this._onMessageBound,t.prototype._dispose.call(this,e)},r.prototype._send=function(e,t){if(this._disposing);else{var A=JSON.stringify({c:e,d:t});this._targetWin.postMessage(A,this._origin)}},r.prototype._receive=function(e,t){var A=this;this._disposing||this.conveyor.append(function(){return A._handleCommand(e,t)})},r.prototype._handleCommand=function(e,t){switch(e){case A.cmdFunc:this._callLocal(t.i,t.p)}},r.prototype._onMessage=function(e){if(!this._disposing&&("*"===this._origin||this._origin===e.origin)&&e.source===this._targetWin&&e.data){var t=JSON.parse(e.data);t.c&&this._receive(t.c,t.d)}},r.prototype._toRemoteQueryPlans=function(e){var t=[];if(e)for(var A=0,r=e;A<r.length;A++){var i=r[A];t.push({t:i.t,c:i.c,p:this._toRemoteValues(i.p)})}return t},r.prototype._toRemoteValues=function(e){var t=[];if(e)for(var A=0,r=e;A<r.length;A++){var i=r[A];t.push(this._toRemoteValue(i))}return t},r.prototype._toRemoteValue=function(t){var A=this;if("object"==typeof t){var r,i=void 0;return null===t?(i="v",r=null):(i=t instanceof Array?"a":"o",r={},e.each(t,function(e,t){r[t]=A._toRemoteValue(e)})),{t:i,v:r}}return"function"==typeof t?{t:"f",v:this._toRemoteFunc(t)}:"number"==typeof t&&isNaN(t)?{t:"n"}:{t:"v",v:t}},r.prototype._toLocalValues=function(e){var t=[];if(e)for(var A=0,r=e;A<r.length;A++){var i=r[A];t.push(this._toLocalValue(i))}return t},r.prototype._toLocalValue=function(t){var A,r=this;switch(t.t){case"f":return this._toLocalFunc(t.v);case"v":return t.v;case"o":return A={},e.each(t.v,function(e,t){A[t]=r._toLocalValue(e)}),A;case"a":return A=[],e.each(t.v,function(e,t){A[t]=r._toLocalValue(e)}),A;case"n":return NaN}},r.prototype._toLocalFunc=function(e){var t=this;return this._remoteFuncs[e]||(this._remoteFuncs[e]={code:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t._send(A.cmdFunc,{i:e,p:t._toRemoteValues(r)})}}),this._remoteFuncs[e].code},r.prototype._toRemoteFunc=function(t){var A;if(e.each(this._localFuncs,function(e,r){e.code===t&&(A=r)}),!A){var r=0;do{A=Number(new Date).toString()+("0000000"+(r++).toString()).slice(-8)}while(this._localFuncs[A]);this._localFuncs[A]={code:t}}return A},r.prototype._callLocal=function(e,t){this._localFuncs[e].code.apply(window,this._toLocalValues(t))},r}(t.AEventDispatcher),A.AGateway=r}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.sand||(t.sand={}),r=A.master||(A.master={}),i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.setFrame=function(e){return this._frame=e,this},i.prototype.setRules=function(e){return this._rules=e,this},i.prototype.setRawRules=function(e){return this._rules=r.parseConfig(e),this},i.prototype.build=function(){var e=this;if(t.prototype.build.call(this),!this._frame)throw new Error("No frame passed");if(!this._frame.contentWindow)throw new Error("No passed frame.contentWindow");this.setTargetWin(this._frame.contentWindow);var i=this._calcOrigin();return i&&this.setOrigin(i),r.whenFrameLoaded(this._frame).then(function(){return e._send(A.cmdInit)}),this},i.prototype._handleCommand=function(e,r){switch(e){case A.cmdInitDone:this._send(A.cmdLoad),this._whenConnect.resolve();break;case A.cmdBatch:var i={i:r.i};i.r=this._processBatch(r.b),r.n&&this._send(A.cmdBatchDone,i);break;default:t.prototype._handleCommand.call(this,e,r)}},i.prototype._processBatch=function(e){for(var t=[],A=0,r=e;A<r.length;A++){var i=r[A];t.push(this._processQuery(i))}return t},i.prototype._processQuery=function(t){var A;try{if(this._disposing)throw new Error(e.base.errors.Disposing);switch(t.t){case"g":A={v:this._remoteGet(t.c)};break;case"s":A={v:this._remoteSet(t.c,t.p[0])};break;case"c":A={v:this._remoteCall(t.c,t.p)}}}catch(e){A={v:void 0,e:!0,m:e.message}}return A},i.prototype._remoteGet=function(e){return this._toLocalProp(e,A.EAccess.read)},i.prototype._remoteSet=function(e,t){var r=this._toLocalValue(t);this._toLocalProp(e,A.EAccess.write)[e[e.length-1]]=r},i.prototype._remoteCall=function(e,t){var r=this._toLocalValues(t),i=this._toLocalProp(e,A.EAccess.call);return(i&&i[e[e.length-1]]).apply(i,r)},i.prototype._toLocalProp=function(e,t){for(var r=this._checkAccess(e,t),i=t===A.EAccess.read?e.length:e.length-1,n=1;n<i;n++)r=r[e[n]];return r},i.prototype._checkAccess=function(t,A){var r;if(e.each(this._rules,function(e){e.name===t[0]&&(r=e)}),!r)throw new Error("No access for target: "+t[0]);for(var i=r.target,n=r.access,o=function(A){if(r)if(r.props){var i=!1;if(e.each(r.props,function(e){e.name===t[A]&&(r=e,i=!0)}),!i)throw new Error("Access denied: "+t.join("."));n&=r.access}else r=void 0},s=1;s<t.length;s++)o(s);if(!(n&A))throw new Error("Access denied: "+t.join("."));return i},i.prototype._calcOrigin=function(){var e=/(https?\:)?\/\/(.*?)(\:[0-9]+)?(?:\/|$)/i.exec(this._frame.src),t=e[1]||window.location.protocol,A=e[2],r=e[3];return r||(r=""),t&&A&&"file:"!==t?t+"//"+A+r:"*"},i}(A.AGateway),r.Gateway=i}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),A=t.sand||(t.sand={}),function(t){function r(e){return(e.indexOf("r")>=0?A.EAccess.read:A.EAccess.none)+(e.indexOf("w")>=0?A.EAccess.write:A.EAccess.none)+(e.indexOf("x")>=0?A.EAccess.call:A.EAccess.none)}(A.master||(A.master={})).parseConfig=function(t){var A=[];return t&&e.each(t,function(t){var i={name:t[0],target:t[1],access:r(t[2]),props:function t(A){var i;return A&&(i=[],e.each(A,function(e){var A={name:e[0],access:r(e[1]),props:t(e[2])};i.push(A)})),i}(t[3])};A.push(i)}),A}}()}(advark||(advark={})),function(e){var t,A;t=e.module||(e.module={}),((A=t.sand||(t.sand={})).master||(A.master={})).whenFrameLoaded=function(t){var A=function(){t.removeEventListener("load",r),t.removeEventListener("error",i)},r=function(e){A(),n.resolve(e)},i=function(e){A(),n.reject(e&&e.message?e.message:e)},n=e.spromise.deffer(),o=n.promise;return t.addEventListener("load",r),t.addEventListener("error",i),o}}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.client||(t.client={}),r=function(t){function A(){var e=null!==t&&t.apply(this,arguments)||this;return e._customVideoSlot=!1,e}return __extends(A,t),A.prototype.setSlotDoc=function(e){return this._slotDoc=e,this},Object.defineProperty(A.prototype,"_video",{get:function(){return this._slotVars.advarkController.element},enumerable:!0,configurable:!0}),A.prototype.setSlotVars=function(t){if(!t||!t.slot)throw new Error(e.base.errors.NotPassed);return this._slotVars={slot:t.slot,videoSlot:t.videoSlot,videoSlotCanAutoPlay:t.videoSlotCanAutoPlay,advarkController:t.advarkController},this._slotVars.slot.style&&(this._originalSlotWidth=this._slotVars.slot.style.width,this._originalSlotHeight=this._slotVars.slot.style.height),this.setSlotDoc(this._slotVars.slot.ownerDocument),this._slotVars.videoSlot||(this._customVideoSlot=!0,this._slotVars.videoSlot=this._slotVars.slot.ownerDocument.createElement("video"),this._slotVars.videoSlot.style.width="100%",this._slotVars.videoSlot.style.height="100%",this._slotVars.videoSlot.style.position="absolute",this._slotVars.slot.appendChild(this._slotVars.videoSlot)),this._slotVars.videoSlot.style&&(this._originalVideoSlotWidth=this._slotVars.videoSlot.style.width,this._originalVideoSlotHeight=this._slotVars.videoSlot.style.height),this._originalVideoSlotSibling=this._slotVars.videoSlot.nextSibling,this},A.prototype._getSlotVarsOriginalSize=function(){this._slotVars&&(this._slotVars.slot&&this._slotVars.slot.style&&(this._slotVars.slot.style.width=this._originalSlotWidth,this._slotVars.slot.style.height=this._originalSlotHeight),this._slotVars.videoSlot&&this._slotVars.videoSlot.style&&(this._slotVars.videoSlot.style.width=this._originalVideoSlotWidth,this._slotVars.videoSlot.style.height=this._originalVideoSlotHeight))},A.prototype._removeCustomVideoSlot=function(){this._customVideoSlot&&this._slotVars&&this._slotVars.videoSlot&&this._slotVars.videoSlot.parentNode&&(this._slotVars.videoSlot.parentNode.removeChild(this._slotVars.videoSlot),this._slotVars.videoSlot=void 0)},A.prototype._dispose=function(A){return this._disposed?e.spromise.rejected(e.base.errors.Disposed):(this._getSlotVarsOriginalSize(),this._removeCustomVideoSlot(),delete this._slotDoc,t.prototype._dispose.call(this,A))},Object.defineProperty(A.prototype,"_devstatIsTracker",{get:function(){return!0},enumerable:!0,configurable:!0}),A}(t.AContentDataOwner),A.ASlotVarsOwner=r}(advark||(advark={})),function(e){!function(e){var t=/(?:https?:)?\/\/(.*?)(?:\:[0-9]*?)?(?:\/|$)/i;e.getDomain=function(e){var A=t.exec(e);return A?A[1]:""},e.formatTime=function(e,t,A){void 0===t&&(t=":"),void 0===A&&(A=!1);var r=Math.floor(e%60),i=Math.floor(e/60)%60,n=Math.floor(e/3600),o=r.toString(),s=i.toString(),a="";return r<10&&(o="0"+o),i<10&&(s="0"+s),(n>0||A)&&(a=n.toString()+t,n<10&&(a="0"+a)),a+s+t+o},e.parseTime=function(e){try{for(var t=e.split("."),A=t[0].split(":"),r=Number(t[1]),i=0,n=0;n<A.length;n++)i*=60,i+=Number(A[n]);return 1e3*i+(isNaN(r)?0:r)}catch(e){return NaN}},e.parseQueryString=function(e){var t={};if(e)for(var A=e.trim().split("&"),r=0;r<A.length;r++){var i=A[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t},e.toQueryString=function(e){var t="";for(var A in e)t+=e[A]?(""===t?"":"&")+encodeURIComponent(A)+"="+encodeURIComponent(e[A]):"";return t}}(e.StringUtils||(e.StringUtils={}))}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.viewability||(A.viewability={}),i=function(t){function A(){return null!==t&&t.apply(this,arguments)||this}return __extends(A,t),A.prototype.setTargetElement=function(e){return this._targetElement=e,this},A.prototype.setCallback=function(e){return this._callback=e,this},A.prototype.build=function(){return t.prototype.build.call(this),this._intersectionInit={threshold:[0,.25,.5,.75,1]},this._start(),this},A.prototype._start=function(){if("undefined"==typeof IntersectionObserver){if(void 0===e.requestAnimationFrame)throw new Error(e.base.errors.NotImplemented);this._getVisibility()}else this._intersectionObserver=new IntersectionObserver(this._onRatioChange.bind(this),this._intersectionInit),this._intersectionObserver.observe(this._targetElement)},A.prototype._onRatioChange=function(e,t){var A=e[0].intersectionRatio;this._callback(A)},A.prototype._getVisibility=function(){var t=this;return e.spromise.all([e.DOMUtils.getElementVisibility(this._targetElement),e.DOMUtils.getFrameVisibility(window,500)]).then(function(e){if(!t._disposing){for(var A=1,r=0,i=e.resolved;r<i.length;r++){var n=i[r];A=Math.min(A,n)}return t._rate!==A&&(t._rate=A,t._callback(A)),t._getVisibility()}})},A.prototype._stop=function(){this._intersectionObserver&&(this._intersectionObserver.unobserve(this._targetElement),this._intersectionObserver.disconnect(),this._intersectionObserver=void 0)},A.prototype._dispose=function(e){return this._stop(),t.prototype._dispose.call(this,e)},A}(e.base.factory.ABuildableItem),r.Observer=i}(advark||(advark={})),function(e){var t,A,r,i,n;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.viewability||(A.viewability={}),i="Change",n=function(t){function A(){var A=null!==t&&t.apply(this,arguments)||this;return A._deffer=e.spromise.deffer(),A}return __extends(A,t),Object.defineProperty(A.prototype,"viewable",{get:function(){return this._deffer.promise},enumerable:!0,configurable:!0}),A.prototype.setTarget=function(e){return this._target=e,this},A.prototype.build=function(){var e=this;t.prototype.build.call(this);try{this._observer=(new r.Observer).setParent(this).setTargetElement(this._target).setCallback(function(t){t>.5?e._eventTimeoutIds[i]=e._eventTimeoutIds[i]||setTimeout(function(){return e._deffer.resolve()},2e3):e._clearEventTimeout(i)}).build()}catch(e){this._deffer.reject(e)}return this},A.prototype._dispose=function(e){return this._observer&&(this._observer.dispose(e),delete this._observer),t.prototype._dispose.call(this,e)},A}(t.AEventReceiver),r.Genereator=n}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.video||(t.video={}),r=function(t){function A(){var e=null!==t&&t.apply(this,arguments)||this;return e._checkDelay=100,e._testSources=["data:video/mp4;base64,AAAAFGZ0eXBNU05WAAACAE1TTlYAAAOUbW9vdgAAAGxtdmhkAAAAAM9ghv7PYIb+AAACWAAACu8AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAnh0cmFrAAAAXHRraGQAAAAHz2CG/s9ghv4AAAABAAAAAAAACu8AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAFAAAAA4AAAAAAHgbWRpYQAAACBtZGhkAAAAAM9ghv7PYIb+AAALuAAANq8AAAAAAAAAIWhkbHIAAAAAbWhscnZpZGVBVlMgAAAAAAABAB4AAAABl21pbmYAAAAUdm1oZAAAAAAAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAVdzdGJsAAAAp3N0c2QAAAAAAAAAAQAAAJdhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAFAAOABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAEmNvbHJuY2xjAAEAAQABAAAAL2F2Y0MBTUAz/+EAGGdNQDOadCk/LgIgAAADACAAAAMA0eMGVAEABGjuPIAAAAAYc3R0cwAAAAAAAAABAAAADgAAA+gAAAAUc3RzcwAAAAAAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAADgAAAAEAAABMc3RzegAAAAAAAAAAAAAADgAAAE8AAAAOAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA4AAAAOAAAAFHN0Y28AAAAAAAAAAQAAA7AAAAA0dXVpZFVTTVQh0k/Ou4hpXPrJx0AAAAAcTVREVAABABIAAAAKVcQAAAAAAAEAAAAAAAAAqHV1aWRVU01UIdJPzruIaVz6ycdAAAAAkE1URFQABAAMAAAAC1XEAAACHAAeAAAABBXHAAEAQQBWAFMAIABNAGUAZABpAGEAAAAqAAAAASoOAAEAZABlAHQAZQBjAHQAXwBhAHUAdABvAHAAbABhAHkAAAAyAAAAA1XEAAEAMgAwADAANQBtAGUALwAwADcALwAwADYAMAA2ACAAMwA6ADUAOgAwAAABA21kYXQAAAAYZ01AM5p0KT8uAiAAAAMAIAAAAwDR4wZUAAAABGjuPIAAAAAnZYiAIAAR//eBLT+oL1eA2Nlb/edvwWZflzEVLlhlXtJvSAEGRA3ZAAAACkGaAQCyJ/8AFBAAAAAJQZoCATP/AOmBAAAACUGaAwGz/wDpgAAAAAlBmgQCM/8A6YEAAAAJQZoFArP/AOmBAAAACUGaBgMz/wDpgQAAAAlBmgcDs/8A6YEAAAAJQZoIBDP/AOmAAAAACUGaCQSz/wDpgAAAAAlBmgoFM/8A6YEAAAAJQZoLBbP/AOmAAAAACkGaDAYyJ/8AFBAAAAAKQZoNBrIv/4cMeQ==","data:video/webm;base64,GkXfo49CgoR3ZWJtQoeBAUKFgQEYU4BnAQAAAAAAF60RTZt0vE27jFOrhBVJqWZTrIIQA027jFOrhBZUrmtTrIIQbE27jFOrhBFNm3RTrIIXmU27jFOrhBxTu2tTrIIWs+xPvwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFUmpZuQq17GDD0JATYCjbGliZWJtbCB2MC43LjcgKyBsaWJtYXRyb3NrYSB2MC44LjFXQY9BVlNNYXRyb3NrYUZpbGVEiYRFnEAARGGIBc2Lz1QNtgBzpJCy3XZ0KNuKNZS4+fDpFxzUFlSua9iu1teBAXPFhL4G+bmDgQG5gQGIgQFVqoEAnIEAbeeBASMxT4Q/gAAAVe6BAIaFVl9WUDiqgQEj44OEE95DVSK1nIN1bmTgkbCBULqBPJqBAFSwgVBUuoE87EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB9DtnVB4eeBAKC4obaBAAAAkAMAnQEqUAA8AABHCIWFiIWEiAICAAamYnoOC6cfJa8f5Zvda4D+/7YOf//nNefQYACgnKGWgQFNANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQKbANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQPoANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQU1ANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQaDANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQfQANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQkdANEBAAEQEBRgAGFgv9AAIiGAAPuC/rOgnKGWgQprANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQu4ANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQ0FANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgQ5TANEBAAEQEAAYABhYL/QACIhgAPuC/rKgnKGWgQ+gANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgRDtANEBAAEQEAAYABhYL/QACIhgAPuC/rOgnKGWgRI7ANEBAAEQEAAYABhYL/QACIhgAPuC/rIcU7trQOC7jLOBALeH94EB8YIUzLuNs4IBTbeH94EB8YIUzLuNs4ICm7eH94EB8YIUzLuNs4ID6LeH94EB8YIUzLuNs4IFNbeH94EB8YIUzLuNs4IGg7eH94EB8YIUzLuNs4IH0LeH94EB8YIUzLuNs4IJHbeH94EB8YIUzLuNs4IKa7eH94EB8YIUzLuNs4ILuLeH94EB8YIUzLuNs4INBbeH94EB8YIUzLuNs4IOU7eH94EB8YIUzLuNs4IPoLeH94EB8YIUzLuNs4IQ7beH94EB8YIUzLuNs4ISO7eH94EB8YIUzBFNm3SPTbuMU6uEH0O2dVOsghTM"],e._eventNames=["loadstart","progress","suspend","abort","error","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],e._initEventNames=[{object:document.body,events:["gesturechange","orientationchange","tap","scrollstart","touchstart","mouseover","keypress","scroll","load","click"]}],e._elementListeners={},e._initDone=!1,e._methodsPromises={},e}return __extends(A,t),Object.defineProperty(A.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"error",{get:function(){return this._element.error},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"name",{get:function(){return"HTMLVideo"},enumerable:!0,configurable:!0}),A.prototype.setElement=function(e){if(this.reset(),this._element=e,this._element)for(var t=0,A=this._eventNames;t<A.length;t++){var r=A[t];this._bindListener(r,this._event.bind(this))}return this},A.prototype._event=function(e){this._dispatch(e.type,e)},A.prototype._tryUntilResolve=function(t,A,r){for(var i=this,n=e.spromise.deffer(),o=e.spromise.rejected(e.base.errors.NotReady),s=function(){var e=A.shift();o=o.catch(function(A){return t.apply(i,[e,r])})};A.length>0;)s();return o.inspect(function(e,t){return t?n.resolve(e):n.reject(e)}),n.promise},A.prototype._pause=function(t,A){var r=this,i=e.spromise.deffer();if(this._element)if(this._element.paused)i.resolve(void 0);else if(t)e.spromise.wrap(this._element.pause()).inspect(function(e,t){return t?i.resolve(e):i.reject(e)}).catch(function(){return setTimeout(function(){r._element?r._element.paused?i.resolve(void 0):i.reject(e.base.errors.NotReady):i.reject(e.base.errors.Disposed)},r._checkDelay)});else var n=setInterval(function(){if(r._element){if(!r._element.paused)return;clearInterval(n),i.resolve(void 0)}else i.reject(e.base.errors.Disposed)},this._checkDelay);else i.reject(e.base.errors.Disposed);return A?e.spromise.timeout(i.promise,A,e.base.errors.Timeout):i.promise},A.prototype._play=function(t,A,r){var i=this,n=e.spromise.deffer();return this._element?A||this._element.paused?(t&&(this._element.src=t),this._element.src?e.spromise.wrap(this._element.play()).inspect(function(e,t){return t?n.resolve(e):n.reject(e)}).catch(function(){return setTimeout(function(){i._element?i._element.paused?n.reject(e.base.errors.NotReady):n.resolve():n.reject(e.base.errors.Disposed)},i._checkDelay)}):n.reject(e.base.errors.NotReady)):this._pause(A).then(function(e){return i._play(t,A)}).inspect(function(e,t){return t?n.resolve(e):n.reject(e)}):n.reject(e.base.errors.Disposed),r?e.spromise.timeout(n.promise,r,e.base.errors.Timeout):n.promise},A.prototype.play=function(e,t){var A=this,r=this._methodsPromises.play;return r=t||!r?this._play(e,t):r.anycase(function(){return A._play(e,t)})},A.prototype.stop=function(){if(this._element)try{this._element.pause(),this._element.src=""}catch(e){}return e.spromise.resolved()},A.prototype.playWhatYouCan=function(e,t){var A=this._tryUntilResolve(this.play,e,t);return this._methodsPromises.playWhatYouCan=A,A},A.prototype._init=function(e,t){var A=this;return this._play(e,t).inspect(function(){A._element.src=""})},A.prototype.init=function(e,t){var A=this,r=this._methodsPromises.init;return r=t||!r?this._init(e,t):r.anycase(function(){return A._init(e,t)})},A.prototype.initWhichYouCan=function(e,t){return this._methodsPromises.initWhichYouCan=this._tryUntilResolve(this.init,e,t)},A.prototype.checkAutoplay=function(t,A){var r="checkAutoplay";return!t&&this._methodsPromises[r]||(this._methodsPromises[r]=this.initWhichYouCan(e.clone(this._testSources),A)),this._methodsPromises[r],this._methodsPromises[r]},A.prototype.initEventHandler=function(e){var t=this,A="initEventHandler";return this._methodsPromises[A]?this._methodsPromises[A]=this._methodsPromises[A].catch(function(){return t.checkAutoplay(!0)}):this._methodsPromises[A]=this.checkAutoplay(),this._methodsPromises[A]},A.prototype.initStart=function(){var t=this,A="initStart";return this._methodsPromises[A]||(this._methodsPromises[A]=this.checkAutoplay().catch(function(A){return e.spromise.promise(function(e,r){for(var i=0,n=0,o=t._initEventNames;n<o.length;n++)!function(n){for(var o=function(s){n.object.removeEventListener(s.type,o),i--,t.initEventHandler(s).then(function(t){return e(t)}),0===i&&r(A)},s=0,a=n.events;s<a.length;s++){var d=a[s];i++,n.object.addEventListener(d,o)}}(o[n]);0===i&&r(A)})}).inspect(function(e,A){t._initDone=!0})),this._methodsPromises[A]},A.prototype.isInitDone=function(){return this._initDone},A.prototype.reset=function(){this._unbindListeners(),this._methodsPromises={},delete this._element,this._resetListeners(),this._initDone=!1},A.prototype.canPlayType=function(e){return""!==this._element.canPlayType(e).replace("no","")},A.prototype._bindListener=function(e,t){this._elementListeners[e]||(this._elementListeners[e]=[]),this._elementListeners[e].push(t),this._element&&this._element.addEventListener(e,t)},A.prototype._unbindListeners=function(e){if(this._element)if(e){for(var t=this._elementListeners[e];t&&t.length>0;){var A=t.pop();this._element.removeEventListener(e,A)}delete this._elementListeners[e]}else{var r=[];for(var i in this._elementListeners)r.push(i),this._unbindListeners(i);this._elementListeners={}}},A.prototype._dispose=function(e){return this.reset(),t.prototype._dispose.call(this,e)},A}(t.AEventDispatcher),A.Controller=r}(advark||(advark={})),function(e){!function(t){function A(e){switch(typeof e){case"undefined":return;case"string":if("true"===(e=e.trim().toLowerCase()))return!0;if("false"===e)return!1;if("1"===e)return 1;if("0"===e)return 0}for(var t=0,A=[!0,!1,0,1];t<A.length;t++){if(A[t]===e)return e}}function r(e){switch(e=A(e)){case!0:e=1;break;case!1:e=0}for(var t=0,r=[0,1];t<r.length;t++){if(r[t]===e)return e}}function i(e){switch(typeof e){case"string":return parseInt(e);case"number":return e}}function n(e){switch(typeof e){case"string":return parseInt(e);case"number":return e}return 0}function o(e){switch(typeof e){case"string":return parseInt(e);case"number":return e}}t.toWideAutoplay=A,t.toAutoplay=r,t.toCategoryId=i,t.toLabelId=n,t.toDuration=o,t.clientContantDataToContentData=function(t,A,s,a){return e.extend(t,{advarkId:a,isFlash:A?1:0,isHtml:s?1:0,isFrame:window?window!==window.parent:void 0,autoplay:r(t.autoplay),categoryId:i(t.categoryId),labelId:n(t.labelId),duration:o(t.duration)})},t.adParametersDataToContentData=function(e){return{autoplay:r(e.autoplay),duration:o(e.duration),labelId:n(e.label_id),categoryId:i(e.category_id),advarkId:e.id,api:e.test?"test":"default",videoId:e.video_id,videoTitle:e.video_title,videoUrl:e.video_url||window&&window.location&&window.location.href,videoPageUrl:e.video_page_url||window&&window.location&&window.location.href,referer:e.referer||window&&window.location&&window.location.href,publisher:e.publisher}}}(e.converters||(e.converters={}))}(advark||(advark={})),function(e){!function(t){var A=/(https?\:)?\/\/(.*?)(\:[0-9]+)?(?:\/|$)/i;(e.DomainUtils||(e.DomainUtils={})).calcOrigin=function(){var e=window,t=e.location.origin?"null"===e.location.origin?"*":e.location.origin:"";if(!t){var r=A.exec(e.location.href),i=r[1]||e.location.protocol,n=r[2],o=r[3];i&&n&&"file:"!==i?(o||(o=""),t=i+"//"+n+o):t="*"}return t}}()}(advark||(advark={})),function(e){!function(t){t.getElementVisibility=function(t,A){return void 0===A&&(A=window),e.spromise.promise(function(e){var r=t.getBoundingClientRect(),i=r.height||t.clientHeight,n=r.width||t.clientWidth,o=A.innerWidth||A.document.documentElement.clientWidth||A.document.body.clientWidth,s=A.innerHeight||A.document.documentElement.clientHeight||A.document.body.clientHeight,a=Math.max(Math.min(r.right,o)-Math.max(0,r.left),0);e(Math.max(Math.min(r.bottom,s)-Math.max(0,r.top),0)*a/(i*n))})},t.getFrameVisibility=function(t,A){return void 0===t&&(t=window),void 0===A&&(A=500),e.spromise.promise(function(t){var r=0,i=function(){return r>5},n=function(){r++,i()||e.requestAnimationFrame(n)};e.requestAnimationFrame(n),setTimeout(function(){return t(i()?1:0)},A)})},t.createElement=function(e,t,A){void 0===A&&(A=void 0);var r=document.createElement(e);if("object"==typeof t)for(var i in t){if("style"===i)for(var n in t[i])r.style[n]=t[i][n];void 0!==t[i]&&r.setAttribute(i,t[i])}return A&&A.appendChild(r),r},t.addClass=function(e,A){try{return!(!e||!A||t.hasClass(e,A)||(e.setAttribute("class",((e.getAttribute("class")||"")+" "+A).trim()),0))}catch(e){return!1}},t.removeClass=function(e,t){try{if(!e)return!1;if(e.getAttribute("class")){for(var A=e.getAttribute("class").split(" "),r="",i=0;i<A.length;i++)A[i]!==t&&(r+=A[i].trim()+" ");r=r.trim(),e.setAttribute("class",r)}return!0}catch(e){return!1}},t.hasClass=function(e,t){try{return-1!==e.getAttribute("class").split(" ").indexOf(t)}catch(e){return!1}}}(e.DOMUtils||(e.DOMUtils={}))}(advark||(advark={})),function(e){e.mobileOs={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return!this.Android()&&navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}},e.detectFlash=function(){var e,t=[0,0,0];try{if(navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"]){var A="application/x-shockwave-flash",r=navigator.mimeTypes;r&&r[A]&&r[A].enabledPlugin&&(e=navigator.plugins["Shockwave Flash"].description.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),t=[parseInt(e.replace(/^(.*)\..*$/,"$1"),10),parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0])}else if(window.ActiveXObject){var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(!i.activeXError&&(e=i.GetVariable("$version"))){var n=e.split(" ")[1].split(",");t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]}}}catch(e){t=[0,0,0]}return 10==t[0]&&t[1]>=3||t[0]>10},e.detectHtml5=function(){return"function"==typeof document.createElement("video").canPlayType}}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.client||(t.client={}),r=function(r){function i(){var t=null!==r&&r.apply(this,arguments)||this;return t._volume=e.vpaid.VolumeMax,t}return __extends(i,r),i.prototype.setSlotDoc=function(e){return r.prototype.setSlotDoc.call(this,e),this._styleTag=this._slotDoc.createElement("style"),this._styleTag.textContent=i._CssStyles,this._slotDoc.head.appendChild(this._styleTag),this},i.prototype.setSlotVars=function(A){return r.prototype.setSlotVars.call(this,A),this._slotVars.advarkController=this._slotVars.advarkController||(new t.video.Controller).setElement(this._slotVars.videoSlot).setParent(this).build(),this._allowedWidth=this._slotVars.slot.clientWidth,this._allowedHeight=this._slotVars.slot.clientHeight,this._viewMode="normal",e.DOMUtils.addClass(this._slotVars.videoSlot,"advark-videoslot"),e.DOMUtils.addClass(this._slotVars.slot,"advark-controls"),this},i.prototype.setAutoplay=function(e){this._slotVars.videoSlotCanAutoPlay=e},i.prototype.getAutoplay=function(){return this._slotVars.videoSlotCanAutoPlay},i.prototype.getVolume=function(){return this._volume},i.prototype.setVolume=function(e){this._volume=Math.min(Math.max(e,0),1),this.linear&&this.linear.setVolume(this._volume),this.nonlinear&&this.nonlinear.setVolume(this._volume)},i.prototype.getRemainingTime=function(){return this.linear?this.linear.getRemainingTime():this.nonlinear?this.nonlinear.getRemainingTime():e.vpaid.CodeUnknown},i.prototype.getDuration=function(){return this.linear?this.linear.getDuration():this.nonlinear?this.nonlinear.getDuration():e.vpaid.CodeUnknown},i.prototype.getLinear=function(){return!!this.linear},i.prototype.getSize=function(){return{width:this._allowedWidth,height:this._allowedHeight,viewMode:this._viewMode}},Object.defineProperty(i.prototype,"interactiveTypes",{get:function(){return A.TypesController.GetInteractiveTypes()},enumerable:!0,configurable:!0}),i.prototype.setSize=function(e,t,A){this._slotVars&&this._slotVars.slot&&this._slotVars.slot.style&&(this._slotVars.slot.style.width=this._originalSlotWidth,this._slotVars.slot.style.height=this._originalSlotHeight,this._allowedWidth=e||this._slotVars.slot.clientWidth,this._allowedHeight=t||this._slotVars.slot.clientHeight,this._viewMode=A,this._slotVars.slot.style.width=this._allowedWidth+"px",this._slotVars.slot.style.height=this._allowedHeight+"px"),this.linear&&this.linear.resizeAd(this._allowedWidth,this._allowedHeight,A),this.nonlinear&&this.nonlinear.resizeAd(this._allowedWidth,this._allowedHeight,A)},i.prototype._dispose=function(t){return this._disposed?e.spromise.rejected(e.base.errors.Disposed):(this._styleTag&&this._styleTag.parentNode&&this._styleTag.parentNode.removeChild(this._styleTag),this._styleTag=void 0,this._removePlayer("linear",t),this._removePlayer("nonlinear",t),this._slotVars&&(this._getSlotVarsOriginalSize(),e.DOMUtils.removeClass(this._slotVars.slot,"advark-controls"),e.DOMUtils.removeClass(this._slotVars.videoSlot,"advark-videoslot"),this._slotVars.advarkController&&this._slotVars.advarkController.dispose(t)),r.prototype._dispose.call(this,t))},i.prototype.build=function(){return r.prototype.build.call(this),this._states.setStrict(!1),this},i.prototype._removePlayer=function(t,A){var r=this,i=this[t]?this[t].dispose(A):e.spromise.resolved();return i=i.anycase(function(){delete r[t]})},i.prototype.buildPalyer=function(t,r,i){var n,o=(new A.player.Builder).setParent(this).setTargetParent(this).setSlotVars(this._slotVars).setContentData(this._contentData).setFiles(r).setSettings(i);switch(t){case"showBanner":n="nonlinear",o.setClass(A.player.Banner);break;case"showTeaser":n="nonlinear",o.setClass(A.player.Teaser);break;case"showLinearInteractive":n="linear",o.setClass(A.player.Vpaid);break;case"showVideo":n="linear",o.setClass(A.player.Video)}this._removePlayer(n,e.base.errors.New),this[n]=o.build(),this[n].resizeAd(this._allowedWidth,this._allowedHeight,this._viewMode),this[n].setVolume(this._volume)},i.prototype._handleEventEnd=function(t){for(var A,i,n=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);switch(t){case e.vpaid.events.AdVolumeChange:var a=o[0];this._volume=a.volume;break;case e.vpaid.events.AdStopped:case e.vpaid.events.AdError:var d=o[0];A=(d.breakType?this._removePlayer(d.breakType,d.message||e.base.errors.Stopped):e.spromise.resolved()).anycase(function(){return n._dispatch.apply(n,[t].concat(o))})}return A=A||(i=r.prototype._handleEventEnd).apply.call(i,this,[t].concat(o))},i.prototype.devstatSend=function(e,t,A,r,i){void 0===A&&(A=void 0),void 0===r&&(r=void 0),void 0===i&&(i=void 0),i=this._devstatSender()+(i?":"+i:""),this._devstatTransmit(t,A,i,r)},i._CssStyles=".advark-controls{font-size:16px!important;font-family:Tahoma!important;color:#fff!important;width:100%;height:100%;position:absolute;top:0;left:0}.advark-controls *{box-sizing:border-box}.advark-controls a{text-decoration:none}.advark-controls .advark-video *,.advark-controls .advark-vpaid *{position:absolute;color:#fff}.advark-controls .advark-hidden{display:none}.advark-controls.advark-extra-small .advark-skip,.advark-controls.advark-extra-small .advark-skip-message{display:none}.advark-controls .advark-tl{left:10px;top:10px}.advark-controls .advark-tc{left:50%;top:10px}.advark-controls .advark-tr{right:10px;top:10px}.advark-controls .advark-bl{left:10px;bottom:11px}.advark-controls .advark-bc{left:50%;bottom:11px}.advark-controls .advark-br{right:10px;bottom:11px}.advark-videoslot{background-color:#000}.advark-controls .advark-container{width:100%;height:100%;position:absolute;top:0;left:0;border:0}.advark-controls .advark-teaser{overflow:hidden;cursor:pointer;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;background:linear-gradient(to bottom,rgba(0,0,0,.34),rgba(212,212,212,.34));-moz-transition:width linear .15s,height linear .15s,left linear .15s,right linear .15s;-o-transition:width linear .15s,height linear .15s,left linear .15s,right linear .15s;-webkit-transition:width linear .15s,height linear .15s,left linear .15s,right linear .15s;transition:width linear .15s,height linear .15s,left linear .15s,right linear .15s;border:1px solid transparent;background-repeat:no-repeat;text-align:left;z-index:1}.advark-controls .advark-teaser:hover{border:1px solid #565656;background:rgba(0,0,0,.74)}.advark-controls .advark-teaser.advark-normal{height:65px;left:10px;right:10px;bottom:10px;position:absolute}.advark-controls .advark-teaser.advark-normal .advark-image{width:55px;height:55px;position:absolute;left:4px;top:4px}.advark-controls .advark-teaser.advark-normal .advark-text{top:4px;left:70px;right:20px;position:absolute;font-size:12px;overflow:hidden;height:55px}.advark-controls .advark-teaser.advark-minimized{height:25px;left:0;right:0;bottom:0;position:absolute}.advark-controls .advark-teaser.advark-minimized .advark-image{display:none}.advark-controls .advark-teaser.advark-minimized .advark-text{top:4px;left:4px;right:20px;position:absolute;font-size:12px;overflow:hidden;height:16px}.advark-controls .advark-banner .advark-close,.advark-controls .advark-teaser .advark-close{position:absolute;width:20px;height:20px;top:4px;right:4px;background-size:contain;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAQAAACR313BAAABDUlEQVR4AXWRA2wkURiA54TYFs4IzlYsnG0zOgs1ro7KZdywFr7aFoK1hdh9o3Cbb+bpl6SXW34c/n0qFT8OShulH4eHCxYqUtGd8W2n9PP8siFJKibLfhxWxHHiLIpfx6ms46p4yRDDwknxxxRGuISZmC5eMESZ5CVXsBBlkKvcoZYoY6p4zhAiyipfhKCCG7yhizghXTxrCBIkzCrfeMEHuokRFAzpYh8CxvhDOr+oR7nr4imDFy/d3OWzWDO4jxGvYEAXu+jiuhIzpOVQhYt+VTxhcGLlhRAGceJlmU8YcNKriscMdvwov4KboMCuiY93Fg1WDFZM1IhVY7RKXltyf+2THm9ff2I3Nq0BhOcfBTQ+LmgAAAAASUVORK5CYII=)}.advark-controls .advark-banner{position:absolute;cursor:pointer;z-index:1}.advark-controls .advark-banner .advark-banner-image{position:absolute;width:100%;height:100%}.advark-controls .advark-banner.advark-bottom{bottom:10px;left:50%}.advark-controls .advark-banner.advark-corner{bottom:10px;right:10px}.advark-controls .advark-linear{width:100%;height:100%;font-size:16px!important;font-family:tahoma!important;cursor:pointer}.advark-controls .advark-video{position:absolute}.advark-controls .advark-video .advark-skip-message.advark-top{top:22px;right:74px;font-size:12px}.advark-controls .advark-video .advark-skip-message.advark-bottom{bottom:30px;right:74px;font-size:12px}.advark-controls .advark-linear .advark-play:hover{width:100%;height:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAACNCAMAAAC5ddmqAAAAM1BMVEUAAAD///////////////////////////////////////////////////////////////+3leKCAAAAEHRSTlMAP+8Pf7/fHy9fn2/Pr0+PS/cV4wAABRlJREFUeAG81YexxDAIBFBAOdn0X+2ffOGfEsZ+FezsSCzIIVrrnOc33jlrEeFpWHLlgZoLwkNiap4X+JbiA2Eqb6i3RjKDMINIBu6RPIv4BDcoxGJUQJexxJeQNYppCvFlVLQSoWcVHkFBcKzGBc1nrICKfjn6FamWQ+4N3VmRybOBshjhS0Q7m7dsZHEqD+RiRgci80CVBIrEPTVHmIq5cg9F2JX6zSAswn5LCfYU7mgHbDgadxTYYfm3M8CmcPJv9nI7JPsYJpO8ocHbaQGEQhO+oUEcj/qTnORxLFxkpYGQ/6sRLouV/0PRGWygogkOo/GyVqUvwRsYcvyNENTg//IdjJzSqZGP4gl9x/8+A6gKnr8d0GNI3o68ITLQ4eRxxIEGT6iI48gDDZYskCCOyi+jsHSuDrjJsXJwcfARtZ0Lu+HVRkIwHX54y+eHPBYQGMxSmp0ehBHkinAFTo7QH7PmlV0hDAPRIyPTy/53m/+LObzJOIWvVLhPXWOSwfN+u2voGUJJ89Bb7x+vLN08RgOxFMZn5q5zL4+hKAK2fnYzz2mVKfZcoKbPP1w5v93qn8svysEqGNtQdNangjeo5oHzc+hioOGhFq5yMI6nZyDURGwis8BjOW3GVtW2W/3WklbST7GJ7tKXRm+jbj/5QKEUeFzFobQyTIhm8NhOQ0S37n1qPLj2cCI67q29KM3HV3NHNnkG+aHw+IL3xdRmTG0Kj++0k86hC2efR2r7t6cvJPR5lFmtsgIlw8fnEWY1PD4JmBqP77STAb2z+vg8yqw2saUyoHwere2zQvN7n0eb1SpmMg7VPo82qx3oGIwnjcd3Wv4Gj9D2E/nENdnn0Wa1E/UG33bg0Wa1+BseOu3Pedj2/56Hs9rf84zxr3jyz/2FsijzHD6P2jYS47Jfn71ZqH+/8GbFCzz+vOHN0hXzV08efUHkfMr1K0wefRfjesOFoytPSW2Dr5QYLp9HE2AWiitJwG48Y8iKS95u7fNoquuO8KV6GD6PInDi6VNDgvF5BNV+4XpDD+4+jyJvHAzn29nOYPDIpz4DxKeGhreZPJI8trQE6FF3WHSSD4/WdrwC0uDZwzlRWZunXynyGPLz1paaUVZFHkOex7EkvCj01Oh6fMFh+ZQNFGJ3eDEPtbmCX8g8dfJfKymPh/O7wGOc6e4o6sg7JYKC3aHD238T6pKiiof/7iaD5MD9pRoU7A7+C62BrUPSfUPvDrhmZgQfIIV0sOQYwdyeA6vksUB3sL1VG/YTBtfQuwP//y0+VuWFrRhP+3UtdnZcX8Wc12LsIAxEsSRMN/r/n01u8pSmLHiUu+d122w3RmeYNj5CzAGhr4yMitqhfalr0/DdvporomvvRAYmw6Ep8WwFBwIBcWRjWr0FZ9rOxHqijfBOGgalrYF1ne6DtDsHfw3W6zYFwLYvbfQUXEj9hmrC3T5bgXHRLZOQT+iEhQVP3bFTPpDIXbcyhCtKgFk5GXlxAMvSCAQcfwmB0mc+HYsHinFnGdNs3jkb76r81j0l4LfiAzQPXg5zTNIPIL9pHNWC1izUNEktIuNHcR8Zkh6EkaE2FTg0sIjmG8fHjPobDTORbHqVcvDHJEVsrRvXlHioO4OfX+fg2FSSonObA0whdYKKU3mLuiCeB5owlYMjeSjEyMGZVElvQjWFPyC1qjeozSONffhgAB2gAFxyLoeR6z81kEXSB1As+fkNbR7tbGCDXY0fqHB73StxU86QEAnJwgAAAABJRU5ErkJggg==) 50% 50% no-repeat}.advark-controls .advark-linear .advark-play{width:100%;height:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAACNCAMAAAC5ddmqAAAAM1BMVEUAAAD///////////////////////////////////////////////////////////////+3leKCAAAAEXRSTlMAvy+zC1+PpxcjR3dTm4M7a1agxm4AAAUaSURBVHgBvNWFscQwDARQgZmS/qv9wwf/TIqSV8HOjq0FOSJrnfP4xjtnLRE8jUquOFBzIXhITM3jAt9SfCBMxQ311khmEGYQycA9kkcRn+AGhVGMC+gylvEStkYxTWG8jItWIvKowhMoCA7VuKD5jBVw0S9HvyLVcti94TsrMnk2UJYifIlkZ/OWjSxOxYFczOhAZByokkCRsafmCFMxV+zhCLtSvxmCRdRvKcGegh3tgA1Hw44COyz+dgbYFE78zV5uh2Ufw2SWNzR4Oy2AUGjCNzSI40l/kpM8joWLrDQQ4X81wmWx4n8kOoMNVDTBYTRe1qr0JXgDQw6/MYEa+l++g5FTOjXyUTyh7/jfZwBVweO3A3oMy9uRN8QGOpw8jjjQ4AkVcRx5oMGSBRbEUfllHJbO1QE3OVYOLg0+orZzYTe82kgIpsMPb/n8kMcCAoNZSrPTQzBCWAmuoMkR+iPWzJYlBYEgGlFauKP//7XzftCw8yYx9tNd8TSV1JJ0vouHy11jTwklt+c9Wnx7w9ovYtggpsL4bbvL0iliTIqALT8vZgStPB8xJqj59zc3nH8u9c/pF+lgEzbbcHS2p4Q3itvD4OfYZYPGh1y4yWKcTm+DkBMxiSwSjxG0BVPV/b6VPw1pQ/pHbGa4tKHRn6jvn1yRKAUe13EY7k4Y1azyGEGDou/WPjUevI5wFB1taR+U4uO7uROLPEVeHR7d8L54tKmp3eHRg3YyOAzh4vNIZb95+kpCn0fp1QozUFI+Po/Qq+HxScD0ePSgnRT0wezj8yi92sySSkH5PFrZZ4bm9z6P1qsV9GRsqn0erVerqBjQk8mjBy3/B49Q9hPniWOyz6P1aifyDb7twyP0avEND4P2OQ/L/vc87NW+56GsP+bJ7+PFtCjyVJdHLxuJdtnPz14v1L9eeL3iBR6/3/B66YL+qz+PNCCiP+X4FT6POIthvOHA0ZdnSG2CL7QYLo9HN2BWmisJQItHN6g2pEMu7fHorusB+dI9DINHNzj59Lm1YBwe3bVfOd4wgofDo9sbFXJu73ZGm0e49RlpPrUG0G7wyPbY2sqHAjoMHtk+rHfT8QZIg+cI50Zlu739SpHHsJ/3e6sZaVXkMex5XEsiikJNjb7XF2iWT6ys87A6iNtDb27ALwQe4/rrhPoeL+cPgce40z2Q1HnuBAVFWx0s9TDPVG7dO4/92U2IpGJ9KQcFq4P/gdbg1KH4voHqoL8Wngg+QJJ0IOW4Ym77wCJFLFgd3GiVt/0jMHn06oD/f9PHv2LOa7F1GIahoknK2tb/f21fervZSAZ7c16zEDt2NADUHcPWcV6udq1qD9WWfkIiAaGvWEaVbNG+1DU3fLef5orS2pnIgDMccolnSzggCJCjG271FpxpO471xBvinWIYnLYM6zTdjbQ7g78Gx+s2A4BtP7TRU3Ah9RtRE+n2agXGxbeShHJCCxYWMmk3nWJcZNZQBw9ccQKSlcghkgmkLA1BwPhLGQx95tOxeKAYb5aBmM0/zia7UX7rnRJwr/gAz0OWxRyT6QPIPU0iWfBcerM0mSyi4KO4jwxND8ToIJsKDA0s4jzEPE2RfqNhSSSbXrUc8lFJUTvWjceUZJA7Q/zrHJ7YVJKic5sDTGFygkvwQJRcUM+BJkyV4EgeBDFycCZVpptwTeEPSK3SDWpzUmMMHwyAAQrEpeeyGL3+UwNZZHoAx5Kf1dDm384GNNjV+IEKt9e9AM9bNszIA5eUAAAAAElFTkSuQmCC) 50% 50% no-repeat}@-moz-keyframes show{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes show{0%{opacity:0}100%{opacity:1}}@keyframes show{0%{opacity:0}100%{opacity:1}}.advark-controls div.advark-vpaid{position:absolute;pointer-events:none;z-index:32000}.advark-controls .advark-video .advark-image{width:100%;height:100%}.advark-controls .advark-video .advark-overlay{width:100%;height:100%}.advark-controls div.advark-vpaid *{pointer-events:all}.advark-controls .advark-linear .advark-timer{font-size:18px;cursor:default}.advark-controls .advark-linear .advark-timer.advark-bl,.advark-controls .advark-linear .advark-timer.advark-tl{text-align:left}.advark-controls .advark-linear .advark-timer.advark-br,.advark-controls .advark-linear .advark-timer.advark-tr{text-align:right}.advark-controls .advark-logo{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAaCAQAAAAZf2TLAAAA7klEQVR4AY2SqbaGIBRG7XY63f53uw9Ap9vtdLqdBzgvuC/reJfjcWA7uxk/mq3Q4fTeN++FQKbFI3TvcqpaIiBMn+RKRChf5USouDe5R/7pyIQndUBWAgVhvFNHZMdA1nvBv6iVWL95AqmSCUrELWHIBb8PS1m+kA05GXNqG36Wel46zbW/jrdYYTNprswn2Rmq0z9zY4/VzuCbPNlypl2VlqjjXx3dPisTueJU6JiXnvBrr8RVTIhBz7DmitPORwpiMjPuUqXXDt+YqmoFblBw26KXF9UfsjdaN5Zzv6pW+3FVLxXCbrJFN/yu/AF6NyCszDn7iAAAAABJRU5ErkJggg==);width:22px;height:26px}.advark-controls .advark-logo:hover:before{left:28px;opacity:1;transition:opacity .5s,left .5s}.advark-controls .advark-logo:hover:after{display:none}.advark-controls .advark-logo:before{content:'';background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAAAUCAMAAAC54OMXAAAAM1BMVEX///8AAAD///////////////////////////////////////////////////////////+Q8lQ3AAAAEXRSTlOyAFksC6abbyFChTeQZE0Weq3WdUoAAAIfSURBVHgBbZQLluQ6CEMx+O/89r/aeVSkY/qdaKa7SdlwQXZK0k/50qsnKOtPw+xOrtvM/iwOpOhK1FLXMrMEXaojJ1dXD0Gq8p9u7Dll68wpNQ9QtBd/8Gh6oEi5ZevpP5CHw6PhKSW9pCGuC2kqQROrR9o7H0eKqyDFJGqxiHKjLJAeYTGStlrK4nIn9nzctL5IJW9Srh6c6SVl7OiB1FTnIS40smAzBjlgVSBVVW10h6QTxiShJSCTJIaz8Gi9s9GKxoCjgjS3vSShhUzS9Cf/+T/pxLEWLl6c7kSKjEiiP5Mk9w5eCS+O8aNIogWNiw/N8wpXpX0kucTF1LabETRaU6VDH6TFi0Tz3r5+de6PmQ6kHtwPkj+f6WS7H6RU3kILK9i8cPqRdEX3QCXpfq3pOIIPEuxzAM4LBhRU2nfvEdBJKvcmXRimePY3CW1gesw2cP1vkLaOHGZam+Tp08ymE79IHOLE9BhxmJ20jySCAql0krpEjU8SfBs0r0hQjSQMHW9EySCdEvV8kWjfxNOSP+ogHaaszFTljE6q8kc5ksK7yW03zYtD8O7lwqHY5CO8lLI8bOZS1OX3nj5gM5M3zYNirgX7QEoXuyHpLnylBK+/6w6vwpYmLvL4B23mF62BxNGfYLwxTQpvHLfdJO0hUJPtPttTzE8SC9smodpKwuESm1X/Q9Urk7RYLO9jx00p/gfn09AeavGTkv8BIn4PP40csxEAAAAASUVORK5CYII=);padding:0;width:105px;height:20px;position:absolute;top:3px;left:-120px;opacity:0}.advark-controls .advark-logo:after{content:'РЕКЛАМА';padding:6px;left:26px;top:1px;pointer-events:none;position:absolute;color:rgba(255,255,255,.7);font-family:tahoma,sans-serif;font-size:11px}.advark-controls .advark-progress{width:100%;height:6px;overflow:hidden;background:#333;bottom:0;left:0}.advark-controls .advark-progress *{height:100%;background:#0daec0;-moz-transition-property:width;-o-transition-property:width;-webkit-transition-property:width;transition-property:width;-moz-transition-duration:.3s;-o-transition-duration:.3s;-webkit-transition-duration:.3s;transition-duration:.3s;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;-webkit-transition-timing-function:linear;transition-timing-function:linear}.advark-controls .advark-linear .advark-close{font-size:0;border-radius:2px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAAhUlEQVR4AW3QaQGDMBAFYRxEChIqoRKQUAlIQAISKmWlRMLLAbln/3B9hDBbGjl9Nxjt2supk0k6gHj5xApRZjMp93WqzQVE8unG3bF7Je++RoYkMxPMQMr2mTBDUthnQCeQYbvQDcnAoMt/ykvpIC+nm5iOkUBeS5e/QrCbyZXFC5lZJgEHcXSAMYstvQAAAABJRU5ErkJggg==) no-repeat 12px 50%;background-color:rgba(66,66,66,.7);width:43px;height:43px;-moz-animation-name:show;-o-animation-name:show;-webkit-animation-name:show;animation-name:show;-moz-animation-duration:.5s;-o-animation-duration:.5s;-webkit-animation-duration:.5s;animation-duration:.5s;-moz-animation-iteration-count:1;-o-animation-iteration-count:1;-webkit-animation-iteration-count:1;animation-iteration-count:1}.advark-controls .advark-linear .advark-close.advark-br:hover,.advark-controls .advark-linear .advark-close.advark-tr:hover{background-color:rgba(0,0,0,.7);width:130px;background-position:99px 50%}.advark-controls .advark-linear .advark-close.advark-bl:hover,.advark-controls .advark-linear .advark-close.advark-tl:hover{background-color:rgba(0,0,0,.7);width:130px;background-position:12px 50%}.advark-controls .advark-linear .advark-close.advark-br:hover:before,.advark-controls .advark-linear .advark-close.advark-tr:hover:before{content:'Закрыть';position:absolute;color:#fff;top:10px;left:15px;font-size:18px}.advark-controls .advark-linear .advark-close.advark-bl:hover:before,.advark-controls .advark-linear .advark-close.advark-tl:hover:before{content:'Закрыть';position:absolute;color:#fff;top:10px;right:15px;font-size:18px}.advark-controls .advark-skip{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAQCAQAAABT0/yuAAAAYklEQVR4AWPABf7b/1//v56BGABUCALzESL4TP1PvOJ4qOJ+UhTHk6QY5qp6PPA8XPF/+f9EApCZRAKQA/LxOmA9kYH2X///exopPE9IoTxM4X9+QkrnwxUSjiegqfuRFQIAKXDyi7/ctMgAAAAASUVORK5CYII=) 97% 50% no-repeat rgba(66,66,66,.7);font-size:18px;padding:10px 30px 11px 5px;border-radius:3px;width:210px;-moz-animation-name:show;-o-animation-name:show;-webkit-animation-name:show;animation-name:show;-moz-animation-duration:.5s;-o-animation-duration:.5s;-webkit-animation-duration:.5s;animation-duration:.5s;-moz-animation-iteration-count:1;-o-animation-iteration-count:1;-webkit-animation-iteration-count:1;animation-iteration-count:1}.advark-controls .advark-skip:hover{background-color:rgba(0,0,0,.7)}.advark-controls .advark-skip.advark-bc,.advark-controls .advark-skip.advark-tc{margin-left:-105px}.advark-controls .advark-volume{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAABYCAMAAAC56eXkAAAATlBMVEVCQkJBQUEAAABCQkJ/f3/29vaxsbFiYmKZmZlTU1Pt7e1xcXG8vLyMjIzS0tKmpqbHx8c+Pj5BQUHb29vk5ORBQUFAQEBAQEBCQkL///+keCy+AAAAGXRSTlOyhQBZxfrYu8629cDdyubT4iF66/A3byxNK+ugMQAAAOJJREFUeAHt1WVyw0AYg2EZlihMuv9By9yvMyrT6veT2DHkxXo/STsdxxH6Dq/BQ8e/CofFLGPvqOI5kyIOW1LEyZN3OLyEg78YkHmPi6s2Xl4JgPc4OXI2sXuO0ciViWlg7Oh0XMki40bOMo6vwZVMMs7cQcWVXJrYO+umuGTg++V7jLBr0oP0/kfUXMs6Fl4r4YUV9qW4482IzaBuPf6jdnfc2w213QY22i1gZ+FaAMQo1Wqma4h0ScFYkiuyQMK4oIwQcSRd0UO/utDqD4ziDzQundFuvbDZxr3dHf+Cdp8DBgMxrsD6jfMAAAAASUVORK5CYII=);width:44px;height:44px;cursor:pointer}.advark-controls .advark-volume.advark-mute{background-position:0 100%}.advark-controls .advark-video .advark-redirect{width:200px;text-align:center;font-size:12px;padding:7px;border-radius:3px;background:rgba(66,66,66,.7);margin-left:-100px}.advark-controls .advark-video .advark-redirect:hover{background:rgba(0,0,0,.7)}.advark-controls.advark-extra-small .advark-redirect,.advark-controls.advark-extra-small.advark-skippable .advark-redirect,.advark-controls.advark-small.advark-skippable .advark-redirect,.advark-controls.advark-very-small.advark-no-volume .advark-redirect,.advark-controls.advark-very-small.advark-skippable .advark-redirect{display:none}.advark-controls .advark-vpaid .advark-label{cursor:default}",i}(A.ASlotVarsOwner),A.APlayersOwner=r}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.client||(t.client={}),r=function(A){function r(){return null!==A&&A.apply(this,arguments)||this}return __extends(r,A),r.prototype.registerCallback=function(e,t){this._frame.registerCallback(e,t)},r.prototype._createGateway=function(A){var r=new e.parser.Uri(A),i=this._frameRequestParams,n=this._gatewayRules;for(var o in r.params.reset(),r.params.set("origin",encodeURIComponent(e.DomainUtils.calcOrigin())),i)r.params.set(o,i[o]);this._frameElement=e.DOMUtils.createElement("iframe",{style:e.invisibleIframeStyle(),src:r.toString()},document.body),this._gateway=(new t.sand.master.Gateway).setParent(this).setRawRules(n).setFrame(this._frameElement).build(),this._frame=(new t.platform.FrameWrapper).setGateway(this._gateway).build()},r.prototype._dispose=function(t){return this._disposed?e.spromise.rejected(e.base.errors.Disposed):(this._frameElement&&(this._frameElement.parentNode&&this._frameElement.parentNode.removeChild(this._frameElement),delete this._frameElement),this._gateway&&(this._gateway.dispose(t),delete this._gateway),A.prototype._dispose.call(this,t))},r}(A.APlayersOwner),A.AGatewayOwner=r}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.client||(t.client={}),r=function(A){function r(){var t=null!==A&&A.apply(this,arguments)||this;return t._connected=e.spromise.deffer(),t}return __extends(r,A),Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),r.prototype.setConfig=function(e){return this._config=e,this},Object.defineProperty(r.prototype,"name",{get:function(){return"Client"},enumerable:!0,configurable:!0}),r.prototype.build=function(){var i=this;A.prototype.build.call(this);var n=r._FrameSrc;return this._connecting=e.spromise.timeout(this._connected.promise,e.context.timeouts.initClient,t.errors.ClientInitTimeout(void 0,navigator.userAgent)).catch(function(t){return i._handleEvent(e.vpaid.events.AdError,t).then(function(){return e.spromise.rejected(t)})}),this._createGateway(n),this},r.prototype.connect=function(){this._connected.resolve()},r.prototype.setupAd=function(t,A,r){var i=this;return void 0===r&&(r=void 0),this._configuring=this._connecting.then(function(){return i._frame.setupAd(i._contentData,t,A,r)}).then(function(){return i._dispatch(e.events.Ready)}),this._configuring},r.prototype.initAd=function(e,t){var A=this;return void 0===e&&(e=void 0),void 0===t&&(t=void 0),this._configuring.then(function(){return A._frame.initAd(e,t)})},r.prototype.startAd=function(){return this._frame.startAd()},r.prototype.stopAd=function(){return this._frame.stopAd()},r.prototype.pauseAd=function(){return this._frame.pauseAd()},r.prototype.resumeAd=function(){return this._frame.resumeAd()},r.prototype.event=function(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];this._handleEvent.apply(this,[e].concat(t))},r.prototype.track=function(t,A){for(var r=e.spromise.deffer(),i=t.length,n=!0,o=function(e){i--,n=n&&e.succeed,0===i&&(A&&A(),n?r.reject():r.resolve())},s=0,a=t;s<a.length;s++){var d=a[s];e.track.send(d,o)}return r.promise},r.prototype.request=function(t,A,r,i){return(new e.request.Request).setMethod("GET").setUri(t).setCredentials(A).setHeaders(r).send().inspect(function(e){return i&&i(e)})},Object.defineProperty(r.prototype,"_frameRequestParams",{get:function(){return e.str.toMap({token:this._config.tokenRec.token?encodeURIComponent(this._config.tokenRec.token):"",delta:this._config.tokenRec.delta,module:this._config.moduleType,debug:this._config.debug?"true":""})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_gatewayRules",{get:function(){return[["advark",this,"rwx",[["buildPalyer","x"],["registerCallback","x"],["connect","x"],["event","x"],["getSize","x"],["request","x"],["track","x"],["config","r"],["interactiveTypes","r"],["linear","rwx"],["nonlinear","rwx"]]]]},enumerable:!0,configurable:!0}),r.prototype._handleError=function(r){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o,s=t.AdError.Build(r),a=t.errors.ClientInitTimeout();return s.code===a.code&&s.message===a.message&&this._devstatTransmit(e.devstat.strError,s.message,void 0,s.data),(o=A.prototype._handleError).apply.call(o,this,[r].concat(i))},r._FrameSrc="//s3.advarkads.com/modules/advarkmanager.html",r}(A.AGatewayOwner),A.Client=r}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.client||(t.client={}),r=function(t){function A(r,i,n){var o=t.call(this)||this;o._url=r,o._slot=i,o._volumeMode=n,o._loadState="loading";do{o._index=Math.floor(1e8*Math.random())}while(window["advark"+o._index+"ready"]);window["advark"+o._index+"ready"]=o._readyCallback.bind(o),window["advark"+o._index+"event"]=o._eventCallback.bind(o),window["advark"+o._index+"error"]=o._errorCallback.bind(o);var s=A._WrapperUrl+"?"+e.StringUtils.toQueryString({errorCallback:"advark"+o._index+"error",readyCallback:"advark"+o._index+"ready",eventCallback:"advark"+o._index+"event",url:o._url,volumeMode:o._volumeMode});return o._wrapper=document.createElement("object"),o._wrapper.setAttribute("data",s),o._wrapper.style.width="100%",o._wrapper.style.height="100%",o._wrapper.innerHTML='<param name="movie" value="'+s+'" /><param name="allowScriptAccess" value="always" /><param name="wmode" value="opaque" />',o._slot.appendChild(o._wrapper),o}return __extends(A,t),A.prototype.getAdLinear=function(){return this._wrapper.getAdLinear()},A.prototype.getAdWidth=function(){return this._wrapper.getAdWidth()},A.prototype.getAdHeight=function(){return this._wrapper.getAdHeight()},A.prototype.getAdExpanded=function(){return this._wrapper.getAdExpanded()},A.prototype.getAdSkippableState=function(){return this._wrapper.getAdSkippableState()},A.prototype.getAdRemainingTime=function(){return this._wrapper.getAdRemainingTime()},A.prototype.getAdDuration=function(){return this._wrapper.getAdDuration()},A.prototype.getAdVolume=function(){return this._wrapper.getAdVolume()},A.prototype.setAdVolume=function(e){this._wrapper.setAdVolume(e)},A.prototype.getAdCompanions=function(){return this._wrapper.getAdCompanions()},A.prototype.getAdIcons=function(){return this._wrapper.getAdIcons()},A.prototype.handshakeVersion=function(e){return this._wrapper.handshakeVersion(e)},A.prototype.initAd=function(e,t,A,r,i,n){void 0===i&&(i=void 0),void 0===n&&(n=void 0),this._wrapper.initAd(e,t,A,r,i?i.AdParameters:void 0)},A.prototype.resizeAd=function(e,t,A){this._wrapper&&this._wrapper.resizeAd&&this._wrapper.resizeAd(e,t,A)},A.prototype.startAd=function(){this._wrapper.startAd()},A.prototype.stopAd=function(){this._disposeTimeoutId=setTimeout(this.dispose.bind(this),3e3),this._wrapper.stopAd()},A.prototype.pauseAd=function(){this._wrapper.pauseAd()},A.prototype.resumeAd=function(){this._wrapper.resumeAd()},A.prototype.expandAd=function(){this._wrapper.expandAd()},A.prototype.collapseAd=function(){this._wrapper.collapseAd()},A.prototype.skipAd=function(){this._wrapper.skipAd()},A.prototype.isLoaded=function(){return"loaded"==this._loadState},A.prototype.isError=function(){return"error"==this._loadState},A.prototype._dispose=function(e){return clearTimeout(this._disposeTimeoutId),this._wrapper.parent&&this._wrapper.parent.removeChild(this._wrapper),window["advark"+this._index+"ready"]=void 0,window["advark"+this._index+"event"]=void 0,window["advark"+this._index+"error"]=void 0,t.prototype._dispose.call(this,e)},A.prototype._readyCallback=function(){this._loadState="loaded",this._dispatch(e.events.flash.Preload)},A.prototype._errorCallback=function(){this._loadState="error",this._dispatch(e.events.flash.PreloadError),this.dispose(e.events.flash.PreloadError)},A.prototype._eventCallback=function(t,A){var r=A?JSON.parse(A):void 0;switch(this._dispatch(t,r),t){case e.vpaid.events.AdError:case e.vpaid.events.AdStopped:this.dispose(e.base.errors.Stopped)}},A._WrapperUrl="//s3.advarkads.com/modules/flashwrapper.swf",A}(t.AEventDispatcher),A.FlashVpaidWrapper=r}(advark||(advark={})),function(e){var t,A,r;t=e.module||(e.module={}),A=t.client||(t.client={}),r=function(){function e(){}return e.GetInteractiveTypes=function(){return e._InteractiveTypes||(e._InteractiveTypes=[].concat(A.player.Vpaid.GetSupportedTypes())),e._InteractiveTypes},e.CanPlay=function(t){return-1!==e.GetInteractiveTypes().indexOf(t)},e}(),A.TypesController=r}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(A){function i(){return null!==A&&A.apply(this,arguments)||this}return __extends(i,A),i.prototype.setSlotVars=function(e){return this.setItem("slotVars",e)},i.prototype.getSlotVars=function(){return this.getItem("slotVars")},i.prototype.setFiles=function(e){return this.setItem("files",e)},i.prototype.getFiles=function(){return this.getItem("files")},i.prototype.setSettings=function(e){return this.setItem("settings",e)},i.prototype.getSettings=function(){return this.getItem("settings")},i.prototype.setContentData=function(e){return this.setItem("contentData",e)},i.prototype.getContentData=function(){return this.getItem("contentData")},i.prototype._construct=function(){var A=this;if(this._class)switch(this._class){case r.Video:var i=e.filter(this._files,function(e){return 0===e.type.indexOf("video/")}),n=e.filter(this._files,function(e){return 0===e.type.indexOf("image/")}),o=e.filter(this._files,function(e){return A._slotVars.advarkController.canPlayType(e.type)});if(o&&o.length>0)return this._files=o,new r.Video;if(n&&n.length>0)return this._files=n,new r.Image;if(i&&i.length>0)return this._files=i,new r.Video;throw t.AdError.Build("Matching source not found",e.vast.errors.LinearNoSupportedFile);case r.Vpaid:return new r.Vpaid;case r.Banner:return new r.Banner;case r.Teaser:return new r.Teaser;default:throw new Error("Unknown class: "+this._class)}throw new Error("Unknown build method")},i.prototype._beforeBuild=function(e){e.setSlotVars(this._slotVars),e.setFiles(this._files),e.setSettings(this._settings),e.setContentData(this._contentData)},i}(e.base.factory.ABuilder),r.Builder=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(A){function r(){return null!==A&&A.apply(this,arguments)||this}return __extends(r,A),r.prototype.setFiles=function(e){return this._files=this._sortFiles(e),this},r.prototype.setSettings=function(e){return this._settings=e,this},r.prototype.build=function(){try{if(A.prototype.build.call(this),!this._slotVars)throw new Error("No slotVars specified");if(!this._files)throw new Error("No files specified")}catch(A){var e={name:this.name,path:this.pathStr,files:this._files,settings:this._settings};throw t.errors.PlayerBuild(A.message,A.data||e)}return this},r.prototype.reloadAd=function(){return e.spromise.resolved()},r.prototype.getVolume=function(){return e.vpaid.CodeNotImplemented},r.prototype.setVolume=function(e){},r.prototype.resizeAd=function(e,t,A){},r.prototype.getWidth=function(){return e.vpaid.WidthMin},r.prototype.getHeight=function(){return e.vpaid.HeightMin},r.prototype.getAdExpanded=function(){return!1},r.prototype._sortFiles=function(e){return e},r}(A.ASlotVarsOwner),r.APlayer=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function A(){return null!==t&&t.apply(this,arguments)||this}return __extends(A,t),A.GetSupportedTypes=function(){return[]},A.prototype.setFiles=function(e){return t.prototype.setFiles.call(this,e),this._fileIdx=0,this._file=this._files[this._fileIdx],this},A.prototype.getAdExpanded=function(){return this._expanded},A.prototype.resizeAd=function(t,A,r){var i=this;this._width=t,this._height=A,this._viewMode=r,e.spromise.timeout(this._waitEvents([e.vpaid.events.AdSizeChange],[],"resizeAd()"),500,e.base.errors.Timeout).catch(function(){return i._handleEvent(e.vpaid.events.AdSizeChange,{width:i._width,height:i._height,viewMode:i._viewMode})})},A.prototype.getWidth=function(){return this._width},A.prototype.getHeight=function(){return this._height},A.prototype._handleEventEnd=function(A){for(var r,i,n=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);switch(A){case e.vpaid.events.AdStarted:var a=this._file&&this._file.path;a&&(o[0]=o[0]||{assetUri:encodeURIComponent(a)});break;case e.vpaid.events.AdSizeChange:var d=o[0]||{width:this.getWidth(),height:this.getHeight(),viewMode:this._viewMode},l=this._eventParams[A]&&this._eventParams[A][0];l&&l.width===d.width&&l.height===d.height&&l.viewMode===d.viewMode?r=e.spromise.rejected(e.base.errors.Duplicate):o[0]=d;break;case e.vpaid.events.AdClickThru:var p="object"==typeof o[0]?o[0]:{url:o[0],Id:o[1],playerHandles:o[2]};switch(p.url&&p.playerHandles&&(window.open(p.url,e.context.settings.clickTarget),p.playerHandles=!1),this._settings&&this._settings.onClickThru){case"pause":this.pauseAd();break;case"end":this.stopAd()}o=[p]}switch(r=r||(i=t.prototype._handleEventEnd).apply.call(i,this,[A].concat(o)),A){case e.vpaid.events.AdSkipped:case e.vpaid.events.AdUserClose:r=r.then(function(){return n.stopAd()})}return r},A}(r.APlayer),r.ABase=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function r(){var A=null!==t&&t.apply(this,arguments)||this;return A._viewableImpressionDeffer=e.spromise.deffer(),A}return __extends(r,t),r.prototype._getViewableImpressionTarget=function(){return this._slotVars.advarkController.element},r.prototype._dispatch=function(A){for(var r,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];switch(A){case e.vpaid.events.AdStarted:case e.vpaid.events.AdPlaying:this._waitViewableImpression();break;case e.vpaid.events.AdPaused:this._unwaitViewableImpression();break;case e.vpaid.events.AdStopped:case e.vpaid.events.AdError:this._tryViewabilityEvent(e.events.viewability.notViewable)}return(r=t.prototype._dispatch).apply.call(r,this,[A].concat(i))},r.prototype._dispose=function(A){return this._tryViewabilityEvent(e.events.viewability.notViewable),t.prototype._dispose.call(this,A)},r.prototype._tryViewabilityEvent=function(e){var t=this;this._viewableImpressionGenerator&&this._viewableImpressionDeffer.resolve().then(function(){return t._dispatch(e)}).then(function(){return t._unwaitViewableImpression()})},r.prototype._waitViewableImpression=function(){var t=this;this._viewableImpressionGenerator||(this._viewableImpressionGenerator=(new A.viewability.Genereator).setParent(this).setTarget(this._getViewableImpressionTarget()).build(),this._viewableImpressionGenerator.viewable.inspect(function(A,r){return r?t._tryViewabilityEvent(e.events.viewability.viewable):t._tryViewabilityEvent(e.events.viewability.viewUndetermined)}))},r.prototype._unwaitViewableImpression=function(){this._viewableImpressionGenerator&&(this._viewableImpressionGenerator.dispose(e.base.errors.Done),delete this._viewableImpressionGenerator)},r}(r.ABase),r.AViewable=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function A(){var e=null!==t&&t.apply(this,arguments)||this;return e._volume=A._DefaultVolume,e}return __extends(A,t),A._GenVolume=function(t){return"number"==typeof t&&!isNaN(t)&&(t>=e.vpaid.VolumeMin&&t<=e.vpaid.VolumeMax||t===e.vpaid.CodeNotImplemented||t===e.vpaid.CodeUnknown)?t:e.vpaid.CodeNotImplemented},Object.defineProperty(A.prototype,"muted",{get:function(){return this._muted},enumerable:!0,configurable:!0}),A.prototype._muteEnable=function(){this._setVolume(e.vpaid.VolumeMin),this._muted=!0},A.prototype._muteDisable=function(){this._setVolume(this._volume),this._muted=!1},A.prototype._muteToggle=function(){this.muted?this._muteDisable():this._muteEnable()},A.prototype.getVolume=function(){var e=this._getVolume();return A._GenVolume(e)},A.prototype.setVolume=function(t){var r=A._GenVolume(t);r===e.vpaid.VolumeMin?this._muteEnable():this.muted?this._muteDisable():this._setVolume(r)},A.prototype._getVolume=function(){return this.muted?e.vpaid.VolumeMin:this._volume},A.prototype._setVolume=function(t){var A=this;this._getVolume()!==t&&(t!==e.vpaid.VolumeMin&&(this._volume=t),e.spromise.timeout(this._waitEvents([e.vpaid.events.AdVolumeChange],[],"_setVolume()"),500,e.base.errors.Timeout).catch(function(){return A._handleEvent(e.vpaid.events.AdVolumeChange,{volume:A.getVolume()})}))},A.prototype._handleEventEnd=function(A){for(var r,i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);switch(A){case e.vpaid.events.AdVolumeChange:var s=n[0]||{volume:this.getVolume()},a=this._eventParams[A]&&this._eventParams[A][0];a&&a.volume===s.volume?r=e.spromise.rejected(e.base.errors.Duplicate):n[0]=s}return r=r||(i=t.prototype._handleEventEnd).apply.call(i,this,[A].concat(n))},A._DefaultVolume=.4,A}(r.AViewable),r.AVolumeable=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(r.AViewable),r.ANonLinear=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(A){function r(){return null!==A&&A.apply(this,arguments)||this}return __extends(r,A),r._GetSize=function(e){return"number"==typeof e?e+"px":e.match(/(?:%|in|cm|mm|em|ex|pt|pc|px)$/)?e:e+"px"},Object.defineProperty(r.prototype,"name",{get:function(){return"Banner"},enumerable:!0,configurable:!0}),r.prototype.build=function(){return A.prototype.build.call(this),(this._file.duration<0||isNaN(this._file.duration))&&(this._file.duration=NaN),this._file.closeTimeout=this._file.closeTimeout||r._CloseTimeout,this._expanded=!1,this},r.prototype.__initAd=function(){for(var r,i=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];this._element=document.createElement("div"),this._element.className="advark-banner",this._element.onclick=function(t){t.target!==i._closeButton&&i._handleEvent(e.vpaid.events.AdClickThru,{url:i._file.link,playerHandles:!0})},this._banner=document.createElement("img"),this._banner.onload=function(e){return i._onBannerLoad()},this._banner.onerror=function(A){return i._handleEvent(e.vpaid.events.AdError,t.errors.BannerFileLoadError(A.message))},this._closeButton=document.createElement("div"),this._closeButton.className="advark-close",this._closeButton.onclick=function(){return i._handleEvent(e.vpaid.events.AdUserClose)},(r=A.prototype.__initAd).apply.call(r,this,n)},r.prototype.__startAd=function(){this._slotVars.slot.appendChild(this._element),this._banner.src=this._file.image},r.prototype.__stopAd=function(){clearInterval(this._timeChangeIntervalId),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element),A.prototype.__stopAd.call(this)},r.prototype.__pauseAd=function(){clearInterval(this._timeChangeIntervalId),this._onTimeChange(),this._element.parentNode&&this._element.parentNode.removeChild(this._element),A.prototype.__pauseAd.call(this)},r.prototype.__resumeAd=function(){var e=this;this._lastTime=(new Date).getTime(),this._timeChangeIntervalId=setInterval(function(){return e._onTimeChange()},100),this._slotVars.slot.appendChild(this._element),A.prototype.__resumeAd.call(this)},r.prototype._dispose=function(e){return this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element),A.prototype._dispose.call(this,e)},r.prototype.getRemainingTime=function(){return this._file.duration?Math.max((this._file.duration-this._time)/1e3,0):e.vpaid.CodeUnknown},r.prototype.getDuration=function(){return this._file.duration?this._file.duration/1e3:e.vpaid.CodeUnknown},r.prototype.resizeAd=function(e,t,i){if(A.prototype.resizeAd.call(this,e,t,i),this._element){var n=this._bannerWidth,o=this._bannerHeight;n>.9*this._width&&(o*=(n=.9*this._width)/this._bannerWidth),o>.9*this._height&&(n*=(o=.9*this._height)/this._bannerHeight),this._element.style.width=r._GetSize(n),this._element.style.height=r._GetSize(o)}},r.prototype._onTimeChange=function(){var t=(new Date).getTime(),A=t-this._lastTime;this._time+=A,this._lastTime=t,this._time>this._file.closeTimeout&&!this._closeButton.parentNode&&this._element.appendChild(this._closeButton),this._file.duration&&this._time>this._file.duration?this._handleEvent(e.vpaid.events.AdStopped):this._handleEvent(e.vpaid.events.AdRemainingTimeChange)},r.prototype._onBannerLoad=function(){var t=this;this._time=0,this._lastTime=(new Date).getTime(),this._timeChangeIntervalId=setInterval(function(){return t._onTimeChange()},100),this._banner.className="advark-banner-image",this._file.width&&this._file.height?(this._bannerWidth=this._file.width,this._bannerHeight=this._file.height):(this._bannerWidth=this._banner.width,this._bannerHeight=this._banner.height);var A=this._bannerWidth,i=this._bannerHeight;A>.9*this._width&&(i*=(A=.9*this._width)/this._bannerWidth),i>.9*this._height&&(A*=(i=.9*this._height)/this._bannerHeight),this._element.style.width=r._GetSize(A),this._element.style.height=r._GetSize(i),this._element.appendChild(this._banner),this._file.closeTimeout||this._element.appendChild(this._closeButton),this._bannerHeight<100?(e.DOMUtils.addClass(this._element,"advark-bottom"),this._element.style.marginLeft="-"+Math.floor(A/2)+"px"):e.DOMUtils.addClass(this._element,"advark-corner"),this._handleEvent(e.vpaid.events.AdImpression),this._handleEvent(e.vpaid.events.AdStarted)},r._CloseTimeout=3e3,r}(r.ANonLinear),r.Banner=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function A(){return null!==t&&t.apply(this,arguments)||this}return __extends(A,t),Object.defineProperty(A.prototype,"name",{get:function(){return"Teaser"},enumerable:!0,configurable:!0}),A.prototype.build=function(){return t.prototype.build.call(this),this._expanded=!1,this},A.prototype.reload=function(e){this.setFiles(e),this._states.started&&!this._states.paused&&this._refresh()},A.prototype.__initAd=function(){for(var A,r=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];this._element=document.createElement("div"),this._element.className="advark-teaser advark-normal",this._element.onmouseover=function(){r._expanded&&r._expandTimeout&&clearTimeout(r._expandTimeout)},this._element.onmouseout=function(){r._resetCollapse()},this._element.onmousemove=function(){r._expanded||r._expandTimeout||(r._expandTimeout=setTimeout(function(){r._expandTimeout=NaN,r._expand()},1e3))},this._element.onclick=function(t){t.target!==r._closeButton&&r._handleEvent(e.vpaid.events.AdClickThru,{url:r._files[r._fileIdx].link,playerHandles:!0})},this._picture=document.createElement("img"),this._picture.className="advark-image",this._element.appendChild(this._picture),this._text=document.createElement("div"),this._text.className="advark-text",this._element.appendChild(this._text),this._closeButton=document.createElement("div"),this._closeButton.className="advark-close",this._closeButton.onclick=function(){return r._handleEvent(e.vpaid.events.AdUserClose)},(A=t.prototype.__initAd).apply.call(A,this,i)},A.prototype.__startAd=function(){var e=this;this._expanded=!0,this._slotVars.slot.appendChild(this._element),this._refresh(),this._expand(),this._resetCollapse(),this._settings.closeTimeout?this._closeTimeout=setTimeout(function(){e._element.appendChild(e._closeButton)},this._settings.closeTimeout):this._element.appendChild(this._closeButton),this._resetNext(),t.prototype.__startAd.call(this)},A.prototype.__stopAd=function(){this._hideElement(),this._unbindHandlers(),t.prototype.__stopAd.call(this)},A.prototype.__pauseAd=function(){this._hideElement(),t.prototype.__pauseAd.call(this)},A.prototype.__resumeAd=function(){var e=this;this._slotVars.slot.appendChild(this._element),this._closeButton.parentNode||(this._closeTimeout=setTimeout(function(){return e._element.appendChild(e._closeButton)},this._settings.closeTimeout)),this._expanded&&this._resetCollapse(),this._resetNext(),t.prototype.__resumeAd.call(this)},A.prototype._hideElement=function(){clearTimeout(this._closeTimeout),clearTimeout(this._expandTimeout),clearTimeout(this._nextTimeoutId),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element)},A.prototype._unbindHandlers=function(){this._element&&(this._element.onmousemove=void 0,this._element.onmouseover=void 0,this._element.onmouseout=void 0,this._element.onclick=void 0),this._closeButton&&(this._closeButton.onclick=void 0)},A.prototype._dispose=function(e){return this._hideElement(),this._unbindHandlers(),t.prototype._dispose.call(this,e)},A.prototype.getRemainingTime=function(){return e.vpaid.CodeUnknown},A.prototype.getDuration=function(){return e.vpaid.CodeUnknown},A.prototype._collapse=function(){this._expanded=!1,this._resetNext(),e.DOMUtils.removeClass(this._element,"advark-normal"),e.DOMUtils.addClass(this._element,"advark-minimized"),this._refresh(),this._dispatch(e.vpaid.events.AdExpandedChange)},A.prototype._expand=function(){this._expanded=!0,this._resetNext(),e.DOMUtils.removeClass(this._element,"advark-minimized"),e.DOMUtils.addClass(this._element,"advark-normal"),this._refresh(),this._dispatch(e.vpaid.events.AdExpandedChange)},A.prototype._resetCollapse=function(){var e=this;this._expanded&&(clearTimeout(this._expandTimeout),this._expandTimeout=setTimeout(function(){e._expandTimeout=NaN,e._collapse()},14e3))},A.prototype._resetNext=function(){var e=this;clearTimeout(this._nextTimeoutId),this._nextTimeoutId=setTimeout(function(){e._next()},6e3)},A.prototype._next=function(){this._fileIdx++,this._fileIdx>=this._files.length&&(this._settings.repeat?this._fileIdx=0:this._dispatch(e.events.TeaserEnd)),this._refresh(),this._resetNext()},A.prototype._refresh=function(){this._picture.src=this._files[this._fileIdx].image,this._expanded?this._files[this._fileIdx].title?this._text.innerHTML=this._files[this._fileIdx].title+"<br/><br/>"+this._files[this._fileIdx].description:this._text.innerHTML=this._files[this._fileIdx].description:"title"===this._settings.minimizedText?this._text.innerHTML=this._files[this._fileIdx].title||this._files[this._fileIdx].description:"description"===this._settings.minimizedText&&(this._text.innerHTML=this._files[this._fileIdx].description||this._files[this._fileIdx].title)},A}(r.ANonLinear),r.Teaser=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(r.AVolumeable),r.ALinear=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function A(){var A=null!==t&&t.apply(this,arguments)||this;return A._currentTime=0,A._progressEvents=[{event:e.vpaid.events.AdVideoStart,frac:0},{event:e.vpaid.events.AdVideoFirstQuartile,frac:.25},{event:e.vpaid.events.AdVideoMidpoint,frac:.5},{event:e.vpaid.events.AdVideoThirdQuartile,frac:.75},{event:e.vpaid.events.AdVideoComplete,frac:1}],A}return __extends(A,t),A.prototype.getCurrentTime=function(){return this._currentTime},A.prototype.getDuration=function(){var t=this._settings&&this._settings.duration/1e3;return t="number"==typeof t&&!isNaN(t)&&t>0?t:e.vpaid.CodeUnknown},A.prototype.getRemainingTime=function(){var t=this.getDuration(),A=this.getCurrentTime();return A>=0&&t>=A?t-A:e.vpaid.CodeUnknown},A.prototype._getProgress=function(){var t=this.getDuration(),A=this.getCurrentTime();return{time:A,remainingTime:A>=0&&t>=A?t-A:e.vpaid.CodeUnknown,duration:t}},A.prototype._handleEventEnd=function(r){for(var i,n,o=this,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);switch(r){case e.vpaid.events.AdStopped:case e.vpaid.events.AdPaused:this._updateCurrentTime(),clearInterval(this._currentTimeUpdateIntervalId);break;case e.events.Progress:case e.vpaid.events.AdRemainingTimeChange:case e.vpaid.events.AdDurationChange:r=e.events.Progress;var d=s[0]||this._getProgress(),l=this._eventParams[r]&&this._eventParams[r][0];if(l&&l.duration===d.duration&&d.time-l.time<1&&(i=e.spromise.rejected(e.base.errors.Duplicate)),!this._states.started){var p=1e3*d.duration;this._settings.duration!==p?this._settings.duration=p:i=e.spromise.rejected(e.base.errors.NotReady)}s[0]=d}switch(i=i||(n=t.prototype._handleEventEnd).apply.call(n,this,[r].concat(s)),r){case e.vpaid.events.AdStarted:case e.vpaid.events.AdPlaying:i=i.inspect(function(){o._updateCurrentTime(),clearInterval(o._currentTimeUpdateIntervalId),o._currentTimeUpdateIntervalId=setInterval(o._updateCurrentTime.bind(o),A._UpdateTime)});break;case e.events.Progress:var c=s[0];if(this._states.started&&!this._states.stopped&&this._progressEvents.length>0&&c.duration>0&&c.time>=0)for(var u=c.time/c.duration,h=function(e){!v._eventTimes[e.event]&&u>=e.frac&&(v._eventTimes[e.event]=new Date,i=i.anycase(function(){return o._handleEvent(e.event)}))},v=this,f=0,_=this._progressEvents;f<_.length;f++)h(_[f])}return i},A.prototype._dispose=function(A){return this._disposed?e.spromise.rejected(e.base.errors.Disposed):(clearInterval(this._currentTimeUpdateIntervalId),delete this._currentTimeUpdateIntervalId,t.prototype._dispose.call(this,A))},A.prototype._updateCurrentTime=function(){var t=new Date;!this._states.started||this._states.stopped||this._states.paused||(this._currentTimeUpdateLastDate&&(this._currentTime+=(t.getTime()-this._currentTimeUpdateLastDate.getTime())/1e3),this._handleEvent(e.events.Progress,this._getProgress())),this._currentTimeUpdateLastDate=t},A._UpdateTime=250,A}(r.ALinear),r.AProgressable=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function A(){return null!==t&&t.apply(this,arguments)||this}return __extends(A,t),Object.defineProperty(A.prototype,"_controlsReady",{get:function(){for(var t=[],A=0,r=this._controlsList;A<r.length;A++){var i=r[A];t.push(i.ready)}return e.spromise.join(t)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_controlsList",{get:function(){var e=[];for(var t in this._controls)this._controls[t]&&e.push(this._controls[t]);return e},enumerable:!0,configurable:!0}),A.prototype._setTimerText=function(t){var A=this._controls.timer.element;A&&(A.textContent=t>=0?this._settings.timerTextTemplate.replace("{0}",e.StringUtils.formatTime(t)).replace("{s}",Math.floor(t).toString()):"")},A.prototype._controlDefaultPos=function(e){switch(e){case"skip":return"br";case"close":return"tr";case"volume":return"bl";case"timer":return"tr";case"label":case"logo":return"tl";case"redirect":return"bc";default:return}},A.prototype._controlEnabled=function(e){if("0"===this._settings.controls[e])return!1;switch(e){case"close":return"number"==typeof this._settings.closeTimeout&&!isNaN(this._settings.closeTimeout);case"skip":return"number"==typeof this._settings.skipTimeout&&!isNaN(this._settings.skipTimeout);case"redirect":return!(!this._settings.redirectText||!this._settings.redirectUrl);case"logo":return this._settings.showLogo}return!0},A.prototype._controlsCalculate=function(){this._settings.controls=this._settings.controls||{};for(var e=["bl","tr","br","bc","tc","tl"],t=0,A=["volume","timer","skip","redirect","close","label","logo"];t<A.length;t++){var r=A[t],i=this._settings.controls[r];if(i&&"-1"!=i||(i="0"),"1"===(i=this._controlEnabled(r)?i:"0")&&(i=this._controlDefaultPos(r)||"1"),"0"!==i)if(-1!==e.indexOf(i))e.splice(e.indexOf(i),1);else{switch(r){case"skip":case"close":var n=this._settings.controls.timer,o="skip"===r?"close":"skip",s=this._settings.controls[o];i="0"!==n&&s!==n?n:"1"}switch(r){case"logo":break;default:i="1"===i?e.length>0?e.shift():"0":i}}this._settings.controls[r]=i}},A.prototype._controlsConfigure=function(){var t=this;this._controls.container.conf={classes:["advark-linear"],visible:!1,handlers:{mouseenter:"hover"==this._settings.volumeMode?function(){return t._muteDisable()}:void 0,mouseleave:"hover"==this._settings.volumeMode?function(){return t._muteEnable()}:void 0}},this._controls.volume.conf={classes:["advark-volume"],handlers:{click:function(){return t._muteToggle()}}},this._controls.play.conf={classes:["advark-play"],handlers:{click:function(){return t.resumeAd()}},visible:!1},this._controls.logo.conf={tagName:"a",classes:["advark-logo"],handlers:{click:function(){return t._handleEvent(e.vpaid.events.AdClickThru,{playerHandles:!0,url:A._LogoUrl})}}},this._controls.close.conf={visible:0===this._settings.closeTimeout,classes:["advark-close"],handlers:{click:function(){return t._handleEvent(e.vpaid.events.AdUserClose)}}},this._controls.skip.conf={visible:0===this._settings.skipTimeout,classes:["advark-skip"],handlers:{click:function(){return t._handleEvent(e.vpaid.events.AdSkipped)}},textContent:"Пропустить рекламу"},this._controls.timer.conf={classes:["advark-timer"]},this._controls.label.conf={classes:["advark-label"],textContent:"Реклама"},this._controls.overlay.conf={tagName:"a",classes:["advark-overlay"],handlers:{click:function(){return t._handleEvent(e.vpaid.events.AdClickThru,{playerHandles:!0,url:t._settings.redirectUrl})}}},this._controls.redirect.conf={tagName:"a",classes:["advark-redirect"],handlers:{click:function(){return t._handleEvent(e.vpaid.events.AdClickThru,{playerHandles:!0,url:t._settings.redirectUrl})}},innerHtml:this._settings.redirectText}},A.prototype._controlsBuild=function(){this._controlsCalculate(),this._controls={container:new r.Control,image:new r.Control,iframe:new r.Control,slot:new r.Control,overlay:new r.Control,label:new r.Control,progress:new r.ProgressControl,timer:new r.Control,play:new r.Control,logo:new r.Control,close:new r.Control,skip:new r.Control,volume:new r.Control,redirect:new r.Control},this._controlsConfigure();var e=0;for(var t in this._controls){var A=this._controls[t];if(A){A.order=this._controls[t].order||e,(l=A.conf).disabled=!this._controlEnabled(t);var i=this._settings.controls[t];void 0!==i&&"1"!==i&&(l.classes?l.classes.push("advark-"+i):l.classes=["advark-"+i]),e++}}for(var n=0,o=this._controlsList;n<o.length;n++)(l=(d=o[n]).conf).parentControl=l.parentControl?l.parentControl:d!==this._controls.container?this._controls.container:void 0;for(var s=0,a=this._controlsList;s<a.length;s++){var d,l;(l=(d=a[s]).conf).parentElement||(l.parentElement=l.promise?void 0:l.parentControl?l.parentControl.element:this._slotVars.slot),d.setParent(this).build()}},A.prototype._controlsUpdate=function(e){if(e){var t=this._controlEnabled("skip"),A=this._controlEnabled("close"),r=t&&this._settings.skipTimeout/1e3,i=A&&this._settings.closeTimeout/1e3,n=[];e.duration>0&&n.push(e.duration),t&&n.push(r),A&&n.push(i);var o="end"===this._settings.timerMode?e.duration:n.length>0&&n.sort(function(e,t){return e-t})[0];o>0&&(e.time>=o?this._controls.timer.hide():this._setTimerText(o-e.time)),t&&e.time>=r&&this._controls.skip.show(),A&&e.time>=i&&this._controls.close.show(),this._controls.progress.setProgress(e.time/e.duration)}},A.prototype._muteEnable=function(){t.prototype._muteEnable.call(this),e.DOMUtils.addClass(this._controls.volume.element,"advark-mute")},A.prototype._muteDisable=function(){t.prototype._muteDisable.call(this),e.DOMUtils.removeClass(this._controls.volume.element,"advark-mute")},A.prototype._handleEventEnd=function(A){for(var r,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];switch(A){case e.events.WaitUser:case e.vpaid.events.AdPaused:this._controls.play.show();break;case e.vpaid.events.AdStarted:case e.vpaid.events.AdPlaying:this._controls.container.show(),this._controls.play.hide();break;case e.events.Progress:this._controlsUpdate(i[0])}return(r=t.prototype._handleEventEnd).apply.call(r,this,[A].concat(i))},A.prototype._dispose=function(e){for(var A=0,r=this._controlsList;A<r.length;A++)r[A].dispose(e);return t.prototype._dispose.call(this,e)},A._LogoUrl="//advarkads.com/advertisers/",A}(r.AProgressable),r.AControlable=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function A(){return null!==t&&t.apply(this,arguments)||this}return __extends(A,t),A.prototype.build=function(){return t.prototype.build.call(this),this._controlsBuild(),t.prototype.resizeAd.call(this,this._slotVars.slot.clientWidth,this._slotVars.slot.clientHeight,"normal"),this._expanded=!0,this},A.prototype.__initAd=function(){this._file=this._files[0],this._handleEvent(e.vpaid.events.AdLoaded)},A.prototype.__startAd=function(){this._startAdPrepare()},A.prototype._controlsCalculate=function(){var e=this._settings.controls||{};e.label="0",e.play="1",e.progress="1",e.overlay="1",e.timer=e.timer||"1",e.volume=e.volume||"1",e.close=e.close||"1",e.skip=e.skip||"1",e.redirect=e.redirect||"1",e.logo=e.logo||"1",this._settings.controls=e,t.prototype._controlsCalculate.call(this),"14-3-11"===this._advarkId&&(this._settings.controls.close="0",this._settings.controls.skip="0",this._settings.controls.volume="0")},A.prototype._controlsConfigure=function(){t.prototype._controlsConfigure.call(this),this._controls.container.conf.classes.push("advark-video")},A.prototype._startAdPrepare=function(){"hover"!=this._settings.volumeMode&&"startMuted"!=this._settings.volumeMode||this._muteEnable(),this._resetSlotSize(),this._video.removeAttribute&&this._video.removeAttribute("controls"),this._controlEnabled("skip")&&e.DOMUtils.addClass(this._slotVars.slot,"advark-skippable")},A.prototype._resetSlotSize=function(){!this._settings.implicitSize&&this._video.style&&(this._video.style.width=this._width+"px",this._video.style.height=this._height+"px"),e.DOMUtils.removeClass(this._slotVars.slot,"advark-extra-small"),e.DOMUtils.removeClass(this._slotVars.slot,"advark-very-small"),e.DOMUtils.removeClass(this._slotVars.slot,"advark-small"),this._width<320?e.DOMUtils.addClass(this._slotVars.slot,"advark-extra-small"):this._width<420?e.DOMUtils.addClass(this._slotVars.slot,"advark-very-small"):this._width<620&&e.DOMUtils.addClass(this._slotVars.slot,"advark-small")},A.prototype._dispose=function(A){return this._disposed?e.spromise.rejected(e.base.errors.Disposed):(e.DOMUtils.removeClass(this._slotVars.slot,"advark-skippable"),e.DOMUtils.removeClass(this._slotVars.slot,"advark-no-volume"),e.DOMUtils.removeClass(this._slotVars.slot,"advark-extra-small"),e.DOMUtils.removeClass(this._slotVars.slot,"advark-very-small"),e.DOMUtils.removeClass(this._slotVars.slot,"advark-small"),t.prototype._dispose.call(this,A))},A.prototype.resizeAd=function(A,r,i){t.prototype.resizeAd.call(this,A,r,i),this._resetSlotSize(),this._dispatch(e.vpaid.events.AdSizeChange,{width:A,height:r,viewMode:i})},A.prototype._handleEventEnd=function(A){for(var r=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);var o,s=(o=t.prototype._handleEventEnd).apply.call(o,this,[A].concat(i));switch(A){case e.vpaid.events.AdStarted:s=s.then(function(){return r._handleEvent(e.vpaid.events.AdImpression)});break;case e.vpaid.events.AdVideoComplete:s=s.then(function(){return r._handleEvent(e.vpaid.events.AdStopped)})}return s},A.prototype._sortFiles=function(e){var t=this._slotVars&&this._slotVars.slot;if(t){var A=t.clientWidth,r=t.clientHeight;e=e.sort(function(e,t){return Math.abs(e.width-A)*r+Math.abs(e.height-r)*r-Math.abs(e.width-A)*Math.abs(e.height-r)-(Math.abs(t.width-A)*r+Math.abs(t.height-r)*r-Math.abs(t.width-A)*Math.abs(t.height-r))})}return e},A}(r.AControlable),r.AStatic=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function A(){return null!==t&&t.apply(this,arguments)||this}return __extends(A,t),A.prototype._getVolume=function(){return this.muted?e.vpaid.VolumeMin:this._video&&this._video.volume},A.prototype._setVolume=function(e){this._getVolume()!==e&&(t.prototype._setVolume.call(this,e),e>0&&(this._video.volume=e))},Object.defineProperty(A.prototype,"muted",{get:function(){return this._video&&this._video.muted},enumerable:!0,configurable:!0}),A.prototype._muteEnable=function(){t.prototype._muteEnable.call(this),this._video.muted=!0},A.prototype._muteDisable=function(){t.prototype._muteDisable.call(this),this._video.muted=!1},A}(r.AStatic),r.AVolumeableVideo=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function A(){return null!==t&&t.apply(this,arguments)||this}return __extends(A,t),Object.defineProperty(A.prototype,"name",{get:function(){return"Image"},enumerable:!0,configurable:!0}),A.prototype._controlsConfigure=function(){this._controls.image.conf={classes:["advark-image"],style:{backgroundImage:"url("+this._file.path+")",backgroundSize:"contain",backgroundPosition:"center center",backgroundRepeat:"no-repeat"}},t.prototype._controlsConfigure.call(this)},A.prototype.build=function(){return t.prototype.build.call(this),e.DOMUtils.addClass(this._slotVars.slot,"advark-no-volume"),this},A.prototype._dispose=function(A){return this._disposed?e.spromise.rejected(e.base.errors.Disposed):t.prototype._dispose.call(this,A)},A}(r.AStatic),r.Image=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(A){function i(){var e=null!==A&&A.apply(this,arguments)||this;return e._videoEvents=[],e._waitUserTime=0,e}return __extends(i,A),Object.defineProperty(i.prototype,"name",{get:function(){return"Video"},enumerable:!0,configurable:!0}),i.prototype.build=function(){var e=this;A.prototype.build.call(this);var t=setInterval(function(){return e._videoEvents.push("t")},1e3);return setTimeout(function(){return clearInterval(t)},6e4),this},i.prototype.getRemainingTime=function(){var t=this._video&&this._video.duration-this._video.currentTime;return t="number"!=typeof t||isNaN(t)?e.vpaid.CodeUnknown:t},i.prototype.getDuration=function(){var e=this._video&&this._video.duration;return e="number"==typeof e&&!isNaN(e)&&e>0?e:A.prototype.getDuration.call(this)},i.prototype.getCurrentTime=function(){var e=this._video&&this._video.currentTime;return e="number"==typeof e&&!isNaN(e)&&e>=0?e:A.prototype.getCurrentTime.call(this)},i.prototype._getProgress=function(){var e=this.getDuration(),t=this.getCurrentTime();return{time:t,remainingTime:e-t,duration:e}},Object.defineProperty(i.prototype,"eventDispatcher",{get:function(){return this._slotVars.advarkController},enumerable:!0,configurable:!0}),i.prototype._getHandlingEvents=function(){return["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","webkitendfullscreen"]},i.prototype.__startAd=function(){A.prototype.__startAd.call(this),this._subscribeEvents(),this._setVolume(i._DefaultVolume),!1===this._slotVars.videoSlotCanAutoPlay?this._startWithoutAutoplay():this._startWithAutoplay()},i.prototype.__stopAd=function(){this._slotVars.advarkController.stop(),this._handleEvent(e.vpaid.events.AdStopped)},i.prototype.__pauseAd=function(){this._video.pause()},i.prototype.__resumeAd=function(){this._video.play()},i.prototype._handleEvent=function(r){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);var s,a=n[0];if(a&&a.type){if(this._videoEvents.push(r),this._skipForAutoplayDetection())i=e.spromise.rejected(e.base.errors.Skipped);else if(!this._states.stopped)switch(r){case"volumechange":i=A.prototype._handleEvent.call(this,e.vpaid.events.AdVolumeChange);break;case"playing":this._states.starting?i=A.prototype._handleEvent.call(this,e.vpaid.events.AdStarted):this._states.started&&this._states.paused&&(i=A.prototype._handleEvent.call(this,e.vpaid.events.AdPlaying));break;case"pause":this._states.started&&(this._states.stopping?i=A.prototype._handleEvent.call(this,e.vpaid.events.AdVideoComplete):this._video.ended?i=A.prototype._handleEvent.call(this,e.vpaid.events.AdVideoComplete):this._states.paused||(i=A.prototype._handleEvent.call(this,e.vpaid.events.AdPaused)));break;case"ended":case"emptied":this._states.started&&(i=A.prototype._handleEvent.call(this,e.vpaid.events.AdVideoComplete));break;case"error":this._states.stopping||(i=A.prototype._handleEvent.call(this,e.vpaid.events.AdError,t.errors.VideoElementError()));break;case"webkitendfullscreen":e.mobileOs.iOS()&&(i=A.prototype._handleEvent.call(this,e.vpaid.events.AdSkipped))}}else i=(s=A.prototype._handleEvent).apply.call(s,this,[r].concat(n));return i},i.prototype._handleEventEnd=function(t){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);switch(t){case e.vpaid.events.AdStarted:clearInterval(this._waitUserIntervalId);break;case e.events.WaitUser:clearInterval(this._waitUserIntervalId),this._waitUserIntervalId=setInterval(this._onWaitUser.bind(this),r.AProgressable._UpdateTime)}return(i=A.prototype._handleEventEnd).apply.call(i,this,[t].concat(n))},i.prototype._skipForAutoplayDetection=function(){return!this._slotVars.videoSlotCanAutoPlay&&!this._slotVars.advarkController.isInitDone()},i.prototype._startWithAutoplay=function(){var A=this,r=this._videoPlayPromise;if(!r){r=!0===this._slotVars.videoSlotCanAutoPlay?e.spromise.resolved():e.spromise.timeout(this._slotVars.advarkController.initStart(),500,e.base.errors.Timeout);var i={events:this._videoEvents,path:this._file.path},n=function(){return e.spromise.timeout(A._waitEvents(["AdStarted"],[],"_startWithAutoplay()"),e.context.timeouts.startVideo,t.errors.VideoFileLoadTimeout(void 0,i)).catch(function(t){return A._handleEvent(e.vpaid.events.AdError,t)})};r=r.then(function(){return A._slotVars.advarkController.playWhatYouCan([A._file.path],!0)&&n()},function(){return A._startWithoutAutoplay()}),this._videoPlayPromise=r}return r},i.prototype._startWithoutAutoplay=function(){var t=this;return this._handleEvent(e.events.WaitUser),this._video.src=this._file.path,this._slotVars.advarkController.initStart().then(function(e){return t._startWithAutoplay()}),delete this._videoPlayPromise,e.spromise.resolved()},i.prototype._dispose=function(t){return this._disposed?e.spromise.rejected(e.base.errors.Disposed):(this._slotVars.advarkController.stop(),clearInterval(this._waitUserIntervalId),delete this._waitUserIntervalId,A.prototype._dispose.call(this,t))},i.prototype._onWaitUser=function(){this._waitUserTime+=r.AProgressable._UpdateTime;var A=(i._WaitUserTimeout-this._waitUserTime)/1e3;this._setTimerText(A),A<=0&&this._handleEvent(e.vpaid.events.AdError,t.errors.UserActionTimeout())},i._WaitUserTimeout=1e4,i}(r.AVolumeableVideo),r.Video=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return __extends(i,r),i.GetSupportedTypes=function(){var t=[];return e.detectHtml5()&&(t=t.concat(i._TypesJs)),e.detectFlash()&&(t=t.concat(i._TypesFlash)),t},Object.defineProperty(i.prototype,"name",{get:function(){return"Vpaid"},enumerable:!0,configurable:!0}),i.prototype.build=function(){var e=this;return r.prototype.build.call(this),this._progressEvents=[],/\/r.mradx.net\/.+.js$/.test(this._file.path)&&(this._settings.playButton="clickable"),/cdn.webturn.ru\/-\/VPAIDNivea\/base\/alx.js\?\d+$/.test(this._file.path)&&(this._settings.frameAsSlot=!0),this._controlsBuild(),this._controls.slot.ready.then(function(){var t=e._controls.slot.element;r.prototype.resizeAd.call(e,t.clientWidth,t.clientHeight,"normal")}),this._loadVpaid(),this},i.prototype._controlsCalculate=function(){var e=this._settings.controls||{};e.progress="0",e.overlay="0",e.redirect="0",e.play=e.play||this._settings.playButton?"1":"0",e.timer=e.timer||"0",e.volume=e.volume||"0",e.close=e.close||"0",e.skip=e.skip||"0",e.label=e.label||"0",e.logo=e.logo||"1",this._settings.controls=e,r.prototype._controlsCalculate.call(this)},i.prototype._controlsConfigure=function(){var t=this;if(r.prototype._controlsConfigure.call(this),this._controls.container.conf.classes.push("advark-vpaid"),this._settings.frameAsSlot){this._controls.iframe.conf={tagName:"iframe",attrs:{src:"about:blank"},classes:["advark-container"]};var A=this._controls.iframe;this._controls.slot.conf={parentControl:A,promise:A.ready.then(function(){var e=A.element.contentDocument;return e.head.innerHTML="<style>body {overflow:hidden;margin:0;padding:0;}</style>",e.body.innerHTML="<div style='width:100%;height:100%;border:0;margin:0;padding:0;'></div>",e.getElementsByTagName("div")[0]})}}else this._controls.iframe.conf={tagName:"iframe",attrs:{src:"about:blank"},style:e.invisibleIframeStyle(),parentElement:this._slotVars.slot.ownerDocument.body},this._controls.slot.conf={classes:["advark-container"],handlers:{mouseenter:"hover"==this._settings.volumeMode?function(){return t._muteDisable()}:void 0,mouseleave:"hover"==this._settings.volumeMode?function(){return t._muteEnable()}:void 0},parentElement:this._slotVars.slot}},i.prototype.__initAd=function(){var e=this;this._loadVpaid().then(function(){return e._initVpaid()})},i.prototype.__startAd=function(){if(!this._vpaid)throw new Error(e.base.errors.NotReady);var t=this._slotVars.videoSlot.style;t&&(t.width=this._width+"px",t.height=this._height+"px"),this._vpaid.startAd()},i.prototype.__stopAd=function(){if(!this._vpaid)throw new Error(e.base.errors.NotReady);this._vpaid.stopAd()},i.prototype.__pauseAd=function(){if(!this._vpaid)throw new Error(e.base.errors.NotReady);this._vpaid.pauseAd()},i.prototype.__resumeAd=function(){if(!this._vpaid)throw new Error(e.base.errors.NotReady);this._vpaid.resumeAd()},i.prototype.getRemainingTime=function(){var t=this._vpaid&&this._vpaid.getAdRemainingTime&&this._vpaid.getAdRemainingTime();return t="number"!=typeof t||isNaN(t)?e.vpaid.CodeUnknown:t},i.prototype.getDuration=function(){var e=this._vpaid&&this._vpaid.getAdDuration&&this._vpaid.getAdDuration();return e="number"==typeof e&&!isNaN(e)&&e>0?e:r.prototype.getDuration.call(this)},i.prototype._getProgress=function(){var e=this.getDuration(),t=this.getRemainingTime();return{time:t>=0&&e>=t?e-t:this.getCurrentTime(),remainingTime:t,duration:e}},i.prototype._getVolume=function(){return this._vpaid&&this._states.loaded&&!this._states.stopped?this._vpaid.getAdVolume():r.prototype._getVolume.call(this)},i.prototype._setVolume=function(e){this._getVolume()!==e&&(r.prototype._setVolume.call(this,e),this._vpaid&&this._states.loaded&&!this._states.stopped&&this._vpaid.setAdVolume(e))},i.prototype.resizeAd=function(e,t,A){r.prototype.resizeAd.call(this,e,t,A),this._vpaid&&this._states.started&&!this._states.stopped&&this._vpaid.resizeAd(this._width,this._height,A)},i.prototype.getWidth=function(){var e=r.prototype.getWidth.call(this);return this._vpaid&&this._states.started&&!this._states.stopped&&(e=this._vpaid.getAdWidth()),e},i.prototype.getHeight=function(){var e=r.prototype.getHeight.call(this);return this._vpaid&&this._states.started&&!this._states.stopped&&(e=this._vpaid.getAdHeight()),e},i.prototype.getAdExpanded=function(){var e=r.prototype.getAdExpanded.call(this);return this._vpaid&&this._states.started&&!this._states.stopped&&(e=this._vpaid.getAdExpanded()),e},i.prototype._readHandshakeVersion=function(){var e=this._vpaid.handshakeVersion("2.0"),t=e.split(".");if(this._majorVersion=Number(t[0]),this._minorVersion=Number(t[1]),this._majorVersion>2)throw new Error("Unsupported VPAID version: "+e)},i.prototype._loadVpaid=function(){var t=-1!==i._TypesJs.indexOf(this._file.type),A=-1!==i._TypesFlash.indexOf(this._file.type),r=this._vpaidLoadPromise;return r||(r=t?this._loadVpaidJs():A?this._loadVpaidFlash():e.spromise.rejected("Unexpected type: "+this._file.type),this._vpaidLoadPromise=r),r},i.prototype._loadVpaidJs=function(){var t=this,A=this._controls.iframe;return e.spromise.all([this._controls.slot.ready,A.ready]).then(function(){return e.loadScriptToIFrame(t._file.path,A.element)}).then(function(){if(A.element.contentWindow.getVPAIDAd&&(t._vpaid=A.element.contentWindow.getVPAIDAd()),!t._vpaid||!t._vpaid.handshakeVersion||!t._vpaid.initAd)return e.spromise.rejected("VPAID code not found")})},i.prototype._loadVpaidFlash=function(){var t=this,r=e.spromise.deffer();return this._controls.slot.ready.then(function(){t._vpaid=new A.FlashVpaidWrapper(t._file.path,t._controls.slot.element,t._settings.volumeMode).setParent(t),t._vpaid.subscribe(function(e){return r.resolve(e)},e.events.flash.Preload,t),t._vpaid.subscribe(function(e){return r.reject(e)},e.events.flash.PreloadError,t)}),r.promise},i.prototype._initVpaid=function(){this._readHandshakeVersion(),this._subscribeEvents(),this._vpaid.subscribe(this._handleExtError.bind(this),e.vpaid.events.AdError),this._vpaid.initAd(this._width,this._height,this._viewMode,1400,this._settings.creativeData,{videoSlot:this._slotVars.videoSlot,slot:this._controls.slot.element,videoSlotCanAutoPlay:this._slotVars.videoSlotCanAutoPlay})},Object.defineProperty(i.prototype,"eventDispatcher",{get:function(){return this._vpaid},enumerable:!0,configurable:!0}),i.prototype._getHandlingEvents=function(){return[e.vpaid.events.AdClickThru,e.vpaid.events.AdDurationChange,e.vpaid.events.AdExpandedChange,e.vpaid.events.AdImpression,e.vpaid.events.AdInteraction,e.vpaid.events.AdLoaded,e.vpaid.events.AdPaused,e.vpaid.events.AdPlaying,e.vpaid.events.AdRemainingTimeChange,e.vpaid.events.AdSizeChange,e.vpaid.events.AdSkippableStateChange,e.vpaid.events.AdSkipped,e.vpaid.events.AdStarted,e.vpaid.events.AdStopped,e.vpaid.events.AdUserAcceptInvitation,e.vpaid.events.AdUserClose,e.vpaid.events.AdUserMinimize,e.vpaid.events.AdVideoFirstQuartile,e.vpaid.events.AdVideoMidpoint,e.vpaid.events.AdVideoStart,e.vpaid.events.AdVideoThirdQuartile,e.vpaid.events.AdVideoComplete,e.vpaid.events.AdVolumeChange]},i.prototype._handleEventEnd=function(t){for(var A=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(this._disposing)return e.spromise.rejected(e.base.errors.Disposing);var s,a=(s=r.prototype._handleEventEnd).apply.call(s,this,[t].concat(n));switch(t){case e.vpaid.events.AdStarted:setTimeout(function(){return A._controls&&A._controls.logo&&A._controls.logo.hide()},e.context.timeouts.vpaidPlayerHideLogo);break;case e.vpaid.events.AdLoaded:a=a.inspect(function(){return A._setVolume(i._DefaultVolume)})}return a},i.prototype._handleExtError=function(A){this._handleEvent(e.vpaid.events.AdError,t.errors.ExternalVpaid(t.AdError.Build(A)))},i.prototype._dispose=function(t){if(this._disposed)return e.spromise.rejected(e.base.errors.Disposed);var A=this._slotVars.videoSlot.style;A&&(A.width=this._originalVideoSlotWidth,A.height=this._originalVideoSlotHeight);var i=this._originalVideoSlotSibling;i&&i.parentNode&&i.parentNode.insertBefore(this._slotVars.videoSlot,i);var n=this._controls.iframe.element;return n&&n.parentNode&&n.parentNode.removeChild(n),delete this._vpaid,r.prototype._dispose.call(this,t)},i.prototype._sortFiles=function(e){return e.sort(function(e,t){return(-1===i._TypesJs.indexOf(e.type)?1:0)-(-1===i._TypesJs.indexOf(t.type)?1:0)})},i._TypesFlash=["application/x-shockwave-flash"],i._TypesJs=["application/javascript","application/x-javascript"],i}(r.AControlable),r.Vpaid=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(t){function A(){var A=null!==t&&t.apply(this,arguments)||this;return A._conf={},A._deffer=e.spromise.deffer(),A}return __extends(A,t),Object.defineProperty(A.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"conf",{get:function(){return this._conf},set:function(e){this._conf=e,void 0===e.disabled&&(this._conf.disabled=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"ready",{get:function(){return this._deffer.promise},enumerable:!0,configurable:!0}),A.prototype.show=function(){this._element&&e.DOMUtils.removeClass(this._element,"advark-hidden")},A.prototype.hide=function(){this._element&&e.DOMUtils.removeClass(this._element,"advark-hidden"),this._element&&e.DOMUtils.addClass(this._element,"advark-hidden")},A.prototype.dispose=function(e){return this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element),t.prototype.dispose.call(this,e)},A.prototype.build=function(){var A=this;return t.prototype.build.call(this),this._conf&&!this._conf.disabled?(this._conf.promise?this._conf.promise.then(function(e){A._conf.parentElement=e}):e.spromise.resolved()).then(function(){return A._build()}).then(function(){return A._deffer.resolve()}):this._deffer.reject(e.base.errors.NotAllowed),this},A.prototype._build=function(){this._conf.disabled=!1;var t=this._conf.tagName||"div",A=this._conf.attrs||{};if(this._element=e.DOMUtils.createElement(t,A),this._conf.style)for(var r in this._conf.style)this._element.style[r]=this._conf.style[r];if(this._conf.handlers)for(var i in this._conf.handlers)this._element.addEventListener(i,this._conf.handlers[i]);if(this._conf.classes)for(var n=0,o=this._conf.classes;n<o.length;n++){var s=o[n];e.DOMUtils.addClass(this._element,s)}return this._conf.visible=!1!==this._conf.visible,this._conf.visible?this.show():this.hide(),this._conf.innerHtml&&(this._element.innerHTML=this._conf.innerHtml),this._conf.textContent&&(this._element.textContent=this._conf.textContent),this._conf.parentElement.appendChild(this._element),this._element instanceof HTMLIFrameElement?e.whenFrameLoaded(this._element):e.spromise.resolved()},A}(e.base.factory.ABuildableItem),r.Control=i}(advark||(advark={})),function(e){var t,A,r,i;t=e.module||(e.module={}),A=t.client||(t.client={}),r=A.player||(A.player={}),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.build=function(){return this.conf.classes=["advark-progress"],this.conf.innerHtml="<div></div>",e.prototype.build.call(this),this},t.prototype.setProgress=function(e){if("number"==typeof e){var t=this.element&&this.element.firstElementChild;t&&(e=Math.min(Math.max(e,0),1),t.style.width=Math.round(100*e)+"%")}},t}(r.Control),r.ProgressControl=i}(advark||(advark={})),function(e){!function(e){var t="children",A="text/xml",r=new DOMParser;e.getFirstElement=function(e){if(e[t])return e[t][0];for(var A=0;A<e.childNodes.length;A++)if(e.childNodes[A].nodeType==document.ELEMENT_NODE)return e.childNodes[A]},e.parseXML=function(e){return r.parseFromString(e,A)},e.textByTag=function(e,t,A){void 0===A&&(A=void 0);var r=e.getElementsByTagName(t);return r&&r[0]?r[0].textContent.trim():A}}(e.XMLUtils||(e.XMLUtils={}))}(advark||(advark={})),function(e){var t=4e3;function A(t,A,r){var i,n,o,s=e.config[r];if(s){if(!s.indexOf)return;var a=s,d=e.StringUtils.getDomain(t);i=a,n=d,o=!1,e.each(i,function(e){"*"===e?o=!0:0===e.indexOf("*.")?(n.length<e.length&&2===e.indexOf(n)&&(o=!0),e.length-2<n.length&&n.indexOf(e.replace("*.",""))===n.length-e.length+2&&(o=!0)):e===n&&(o=!0)}),o||A("External scripts are not allowed from "+d)}else A("External scripts are not allowed")}function r(){return{position:"absolute",width:"1px",height:"1px",left:"-100000px",top:"-100000px"}}function i(t){var A=function(){t.removeEventListener("load",r),t.removeEventListener("error",i)},r=function(e){A(),n.resolve(e)},i=function(e){A(),n.reject(e)},n=e.spromise.deffer(),o=n.promise;t.addEventListener("load",r),t.addEventListener("error",i);try{"complete"===t.contentDocument.readyState&&r(void 0)}catch(e){}return o}e.loadScript=function(r,i){return void 0===i&&(i=document),e.spromise.promise(function(e,n){A(r,n,"allowScripts");var o=i.createElement("script");o.type="text/javascript",o.onload=function(){clearTimeout(s),e(o)},i.body.appendChild(o),o.src=r;var s=setTimeout(function(){o.parentNode&&o.parentNode.removeChild(o),n()},t)})},e.createScript=function(t,A){return void 0===A&&(A=document),e.spromise.promise(function(e,r){var i=A.createElement("script");i.type="text/javascript",i.innerText=t,A.body.appendChild(i),e(i)})},e.invisibleIframeStyle=r,e.loadScriptToIFrame=function(t,r){return void 0===r&&(r=void 0),e.spromise.promise(function(n,o){A(t,o,"allowFIF"),i(r=r||e.DOMUtils.createElement("iframe",{style:{position:"absolute",width:"1px",height:"1px",left:"-100000px",top:"-100000px"},src:"about:blank"},document.body)).then(function(){r.contentWindow.inDapIF=!0;var e=r.contentDocument.createElement("script");e.type="text/javascript",e.onload=function(){clearTimeout(s),n(r)},e.src=t,r.contentDocument.head.appendChild(e)});var s=setTimeout(function(){r.parentNode&&r.parentNode.removeChild(r),o(e.base.errors.Timeout)},4e3)})},e.whenFrameLoaded=i}(advark||(advark={})),function(e){e.config?void 0===e.config.allowFIF&&(e.config.allowScripts=e.config.allowFIF):e.config={allowScripts:!0,allowFIF:!0}}(advark||(advark={})),function(e){var t=function(t){function A(e,A){var r=t.call(this)||this,i={autoStart:A.autoStart,debug:A.debug,moduleType:A.moduleType,tokenRec:{created:void 0,token:A.token,delta:A.timeDelta,source:!1}};return r.setSlotVars(e).setConfig(i).build(),r}return __extends(A,t),A.prototype.initModule=function(t,A,r,i){void 0===i&&(i=void 0),this.setContentData(e.converters.clientContantDataToContentData(A,e.detectFlash(),e.detectHtml5(),t)),this.setupAd(t,r,i)},A.prototype.queryAd=function(e,A){void 0===e&&(e=void 0),void 0===A&&(A=void 0),t.prototype.initAd.call(this,A,e)},A.prototype.startAd=function(e,A,r){return void 0===e&&(e=void 0),void 0===A&&(A=void 0),void 0===r&&(r=void 0),t.prototype.startAd.call(this)},A.prototype.dispose=function(A){return void 0===A&&(A=e.base.errors.Disposing),t.prototype.dispose.call(this,A)},A}(e.module.client.Client);e.AdvarkClient=t}(advark||(advark={}));
// a847947c
// 2018-02-14 15:22:27