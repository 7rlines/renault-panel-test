!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],i=e.document,r=Object.getPrototypeOf,o=n.slice,s=n.concat,a=n.push,l=n.indexOf,c={},u=c.toString,h=c.hasOwnProperty,p=h.toString,d=p.call(Object),f={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},g=function(e){return null!=e&&e===e.window},v={type:!0,src:!0,noModule:!0};function y(e,t,n){var r,o=(t=t||i).createElement("script");if(o.text=e,n)for(r in v)n[r]&&(o[r]=n[r]);t.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[u.call(e)]||"object":typeof e}var b="3.3.1",_=function(e,t){return new _.fn.init(e,t)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:b,constructor:_,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},_.extend=_.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||m(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(c&&i&&(_.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&_.isPlainObject(n)?n:{},s[t]=_.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},_.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=r(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){y(e)},each:function(e,t){var n,i=0;if(S(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(x,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?_.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(S(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return s.apply([],a)},guid:1,support:f}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=n[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var k=function(e){var t,n,i,r,o,s,a,l,c,u,h,p,d,f,m,g,v,y,w,b="sizzle"+1*new Date,_=e.document,x=0,S=0,k=se(),C=se(),A=se(),T=function(e,t){return e===t&&(h=!0),0},P={}.hasOwnProperty,D=[],E=D.pop,M=D.push,I=D.push,O=D.slice,R=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+L+"*("+j+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+L+"*\\]",U=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",F=new RegExp(L+"+","g"),B=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),W=new RegExp("^"+L+"*,"+L+"*"),$=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),Y=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),z=new RegExp(U),q=new RegExp("^"+j+"$"),G={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},re=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{I.apply(D=O.call(_.childNodes),_.childNodes),D[_.childNodes.length].nodeType}catch(e){I={apply:D.length?function(e,t){M.apply(e,O.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,i,r){var o,a,c,u,h,f,v,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return i;if(!r&&((t?t.ownerDocument||t:_)!==d&&p(t),t=t||d,m)){if(11!==x&&(h=X.exec(e)))if(o=h[1]){if(9===x){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&w(t,c)&&c.id===o)return i.push(c),i}else{if(h[2])return I.apply(i,t.getElementsByTagName(e)),i;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))){if(1!==x)y=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ne):t.setAttribute("id",u=b),a=(f=s(e)).length;a--;)f[a]="#"+u+" "+ve(f[a]);v=f.join(","),y=K.test(e)&&me(t.parentNode)||t}if(v)try{return I.apply(i,y.querySelectorAll(v)),i}catch(e){}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,i,r)}function se(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ae(e){return e[b]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae(function(t){return t=+t,ae(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:_;return s!==d&&9===s.nodeType&&s.documentElement?(f=(d=s).documentElement,m=!o(d),_!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=le(function(e){return f.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Z.test(d.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Z.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",U)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(f.compareDocumentPosition),w=t||Z.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===d||e.ownerDocument===_&&w(_,e)?-1:t===d||t.ownerDocument===_&&w(_,t)?1:u?R(u,e)-R(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===d?-1:t===d?1:r?-1:o?1:u?R(u,e)-R(u,t):0;if(r===o)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ue(s[i],a[i]):s[i]===_?-1:a[i]===_?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(Y,"='$1']"),n.matchesSelector&&m&&!A[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),w(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var r=i.attrHandle[t.toLowerCase()],o=r&&P.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],r=0,o=0;if(h=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),h){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return u=null,e},r=oe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=oe.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=oe.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,p,d,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,w=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(w=(d=(c=(u=(h=(p=g)[b]||(p[b]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],p=d&&g.childNodes[d];p=++d&&p&&p[m]||(w=d=0)||f.pop();)if(1===p.nodeType&&++w&&p===t){u[e]=[x,d,w];break}}else if(y&&(w=d=(c=(u=(h=(p=t)[b]||(p[b]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===w)for(;(p=++d&&p&&p[m]||(w=d=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++w||(y&&((u=(h=p[b]||(p[b]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]=[x,w]),p!==t)););return(w-=r)===i||w%i==0&&w/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=R(e,o[s])]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ae(function(e){var t=[],n=[],i=a(e.replace(B,"$1"));return i[b]?ae(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return q.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ge(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=S++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,u,h,p=[x,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(u=(h=t[b]||(t[b]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===x&&c[1]===a)return p[2]=c[2];if(u[o]=p,p[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function be(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function _e(e,t,n,i,r,o){return i&&!i[b]&&(i=_e(i)),r&&!r[b]&&(r=_e(r,o)),ae(function(o,s,a,l){var c,u,h,p=[],d=[],f=s.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)oe(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:be(m,p,e,a,l),v=n?r||(o?e:f||i)?[]:s:g;if(n&&n(g,v,a,l),i)for(c=be(v,d),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(v[d[u]]=!(g[d[u]]=h));if(o){if(r||e){if(r){for(c=[],u=v.length;u--;)(h=v[u])&&c.push(g[u]=h);r(null,v=[],c,l)}for(u=v.length;u--;)(h=v[u])&&(c=r?R(o,h):p[u])>-1&&(o[c]=!(s[c]=h))}}else v=be(v===s?v.splice(f,v.length):v),r?r(null,s,v,l):I.apply(s,v)})}function xe(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,u=ye(function(e){return e===t},a,!0),h=ye(function(e){return R(t,e)>-1},a,!0),p=[function(e,n,i){var r=!s&&(i||n!==c)||((t=n).nodeType?u(e,n,i):h(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])p=[ye(we(p),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return _e(l>1&&we(p),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),n,l<r&&xe(e.slice(l,r)),r<o&&xe(e=e.slice(r)),r<o&&ve(e))}p.push(n)}return we(p)}return ge.prototype=i.filters=i.pseudos,i.setFilters=new ge,s=oe.tokenize=function(e,t){var n,r,o,s,a,l,c,u=C[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=$.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),i.filter)!(r=G[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):C(e,l).slice(0)},a=oe.compile=function(e,t){var n,r,o,a,l,u,h=[],f=[],g=A[e+" "];if(!g){for(t||(t=s(e)),n=t.length;n--;)(g=xe(t[n]))[b]?h.push(g):f.push(g);(g=A(e,(r=f,a=(o=h).length>0,l=r.length>0,u=function(e,t,n,s,u){var h,f,g,v=0,y="0",w=e&&[],b=[],_=c,S=e||l&&i.find.TAG("*",u),k=x+=null==_?1:Math.random()||.1,C=S.length;for(u&&(c=t===d||t||u);y!==C&&null!=(h=S[y]);y++){if(l&&h){for(f=0,t||h.ownerDocument===d||(p(h),n=!m);g=r[f++];)if(g(h,t||d,n)){s.push(h);break}u&&(x=k)}a&&((h=!g&&h)&&v--,e&&w.push(h))}if(v+=y,a&&y!==v){for(f=0;g=o[f++];)g(w,b,t,n);if(e){if(v>0)for(;y--;)w[y]||b[y]||(b[y]=E.call(s));b=be(b)}I.apply(s,b),u&&!e&&b.length>0&&v+o.length>1&&oe.uniqueSort(s)}return u&&(x=k,c=_),w},a?ae(u):u))).selector=e}return g},l=oe.select=function(e,t,n,r){var o,l,c,u,h,p="function"==typeof e&&e,d=!r&&s(e=p.selector||e);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(J,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=G.needsContext.test(e)?0:l.length;o--&&(c=l[o],!i.relative[u=c.type]);)if((h=i.find[u])&&(r=h(c.matches[0].replace(J,ee),K.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&ve(l)))return I.apply(n,r),n;break}}return(p||a(e,d))(r,t,!m,n,!t||K.test(e)&&me(t.parentNode)||t),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!h,p(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(N,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),oe}(e);_.find=k,_.expr=k.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=k.uniqueSort,_.text=k.getText,_.isXMLDoc=k.isXML,_.contains=k.contains,_.escapeSelector=k.escape;var C=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(n))break;i.push(e)}return i},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=_.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(e,t,n){return m(t)?_.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?_.grep(e,function(e){return e===t!==n}):"string"!=typeof t?_.grep(e,function(e){return l.call(t,e)>-1!==n}):_.filter(t,e,n)}_.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?_.find.matchesSelector(i,e)?[i]:[]:_.find.matches(e,_.grep(t,function(e){return 1===e.nodeType}))},_.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(_(e).filter(function(){for(t=0;t<i;t++)if(_.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)_.find(e,r[t],n);return i>1?_.uniqueSort(n):n},filter:function(e){return this.pushStack(E(this,e||[],!1))},not:function(e){return this.pushStack(E(this,e||[],!0))},is:function(e){return!!E(this,"string"==typeof e&&T.test(e)?_(e):e||[],!1).length}});var M,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||M,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:I.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:i,!0)),D.test(r[1])&&_.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=i.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,M=_(i);var O=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&_(e);if(!T.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&_.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?_.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(_(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return P(e,"iframe")?e.contentDocument:(P(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},function(e,t){_.fn[e]=function(n,i){var r=_.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=_.filter(i,r)),this.length>1&&(R[e]||_.uniqueSort(r),O.test(e)&&r.reverse()),this.pushStack(r)}});var L=/[^\x20\t\r\n\f]+/g;function j(e){return e}function H(e){throw e}function U(e,t,n,i){var r;try{e&&m(r=e.promise)?r.call(e).done(t).fail(n):e&&m(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}_.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},_.each(t.match(L)||[],function(e,t){n[t]=!0}),n):_.extend({},e);var i,r,o,s,a=[],l=[],c=-1,u=function(){for(s=s||e.once,o=i=!0;l.length;c=-1)for(r=l.shift();++c<a.length;)!1===a[c].apply(r[0],r[1])&&e.stopOnFalse&&(c=a.length,r=!1);e.memory||(r=!1),i=!1,s&&(a=r?[]:"")},h={add:function(){return a&&(r&&!i&&(c=a.length-1,l.push(r)),function t(n){_.each(n,function(n,i){m(i)?e.unique&&h.has(i)||a.push(i):i&&i.length&&"string"!==w(i)&&t(i)})}(arguments),r&&!i&&u()),this},remove:function(){return _.each(arguments,function(e,t){for(var n;(n=_.inArray(t,a,n))>-1;)a.splice(n,1),n<=c&&c--}),this},has:function(e){return e?_.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return s=l=[],a=r="",this},disabled:function(){return!a},lock:function(){return s=l=[],r||i||(a=r=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),i||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},_.extend({Deferred:function(t){var n=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return _.Deferred(function(t){_.each(n,function(n,i){var r=m(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){var o=0;function s(t,n,i,r){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<o)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(c)?r?c.call(e,s(o,n,j,r),s(o,n,H,r)):(o++,c.call(e,s(o,n,j,r),s(o,n,H,r),s(o,n,j,n.notifyWith))):(i!==j&&(a=void 0,l=[e]),(r||n.resolveWith)(a,l))}},u=r?c:function(){try{c()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,u.stackTrace),t+1>=o&&(i!==H&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?u():(_.Deferred.getStackHook&&(u.stackTrace=_.Deferred.getStackHook()),e.setTimeout(u))}}return _.Deferred(function(e){n[0][3].add(s(0,e,m(r)?r:j,e.notifyWith)),n[1][3].add(s(0,e,m(t)?t:j)),n[2][3].add(s(0,e,m(i)?i:H))}).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},o={};return _.each(n,function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add(function(){i=a},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=o.call(arguments),s=_.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?o.call(arguments):n,--t||s.resolveWith(i,r)}};if(t<=1&&(U(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||m(r[n]&&r[n].then)))return s.then();for(;n--;)U(r[n],a(n),s.reject);return s.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},_.readyException=function(t){e.setTimeout(function(){throw t})};var B=_.Deferred();function W(){i.removeEventListener("DOMContentLoaded",W),e.removeEventListener("load",W),_.ready()}_.fn.ready=function(e){return B.then(e).catch(function(e){_.readyException(e)}),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||B.resolveWith(i,[_]))}}),_.ready.then=B.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(_.ready):(i.addEventListener("DOMContentLoaded",W),e.addEventListener("load",W));var $=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===w(n))for(a in r=!0,n)$(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,m(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(_(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},Y=/^-ms-/,z=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function G(e){return e.replace(Y,"ms-").replace(z,q)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=_.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[G(t)]=n;else for(i in t)r[G(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in i?[t]:t.match(L)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||_.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var Z=new Q,X=new Q,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function ee(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:K.test(r)?JSON.parse(r):r)}catch(e){}X.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return X.hasData(e)||Z.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),_.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=X.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=G(i.slice(5)),ee(o,i,r[i]));Z.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){X.set(this,e)}):$(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=X.get(o,e))?n:void 0!==(n=ee(o,e))?n:void 0;this.each(function(){X.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),_.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Z.get(e,t),n&&(!i||Array.isArray(n)?i=Z.access(e,t,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=_.queue(e,t),i=n.length,r=n.shift(),o=_._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){_.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:_.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),_.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_.queue(this[0],e):void 0===t?this:this.each(function(){var n=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&_.dequeue(this,e)})},dequeue:function(e){return this.each(function(){_.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=_.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Z.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&_.contains(e.ownerDocument,e)&&"none"===_.css(e,"display")},oe=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r};function se(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return _.css(e,t,"")},l=a(),c=n&&n[3]||(_.cssNumber[t]?"":"px"),u=(_.cssNumber[t]||"px"!==c&&+l)&&ne.exec(_.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)_.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,_.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ae={};function le(e,t){for(var n,i,r,o,s,a,l,c=[],u=0,h=e.length;u<h;u++)(i=e[u]).style&&(n=i.style.display,t?("none"===n&&(c[u]=Z.get(i,"display")||null,c[u]||(i.style.display="")),""===i.style.display&&re(i)&&(c[u]=(o=void 0,s=void 0,void 0,l=void 0,s=(r=i).ownerDocument,a=r.nodeName,(l=ae[a])||(o=s.body.appendChild(s.createElement(a)),l=_.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),ae[a]=l,l)))):"none"!==n&&(c[u]="none",Z.set(i,"display",n)));for(u=0;u<h;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}_.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){re(this)?_(this).show():_(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function de(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?_.merge([e],n):n}function fe(e,t){for(var n=0,i=e.length;n<i;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}pe.optgroup=pe.option,pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td;var me,ge,ve=/<|&#?\w+;/;function ye(e,t,n,i,r){for(var o,s,a,l,c,u,h=t.createDocumentFragment(),p=[],d=0,f=e.length;d<f;d++)if((o=e[d])||0===o)if("object"===w(o))_.merge(p,o.nodeType?[o]:o);else if(ve.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(ue.exec(o)||["",""])[1].toLowerCase(),l=pe[a]||pe._default,s.innerHTML=l[1]+_.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;_.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(t.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(i&&_.inArray(o,i)>-1)r&&r.push(o);else if(c=_.contains(o.ownerDocument,o),s=de(h.appendChild(o),"script"),c&&fe(s),n)for(u=0;o=s[u++];)he.test(o.type||"")&&n.push(o);return h}me=i.createDocumentFragment().appendChild(i.createElement("div")),(ge=i.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),me.appendChild(ge),f.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var we=i.documentElement,be=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function ke(){return!1}function Ce(){try{return i.activeElement}catch(e){}}function Ae(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Ae(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ke;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return _().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=_.guid++)),e.each(function(){_.event.add(this,t,r,i,n)})}_.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,h,p,d,f,m,g=Z.get(e);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&_.find.matchesSelector(we,r),n.guid||(n.guid=_.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)d=m=(a=xe.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),d&&(h=_.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=_.event.special[d]||{},u=_.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[d])||((p=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(d,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),_.event.global[d]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,u,h,p,d,f,m,g=Z.hasData(e)&&Z.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(d=m=(a=xe.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),d){for(h=_.event.special[d]||{},p=l[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,h.remove&&h.remove.call(e,u));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||_.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)_.event.remove(e,d+t[c],n,i,!0);_.isEmptyObject(l)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=_.event.fix(e),l=new Array(arguments.length),c=(Z.get(this,"events")||{})[a.type]||[],u=_.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=_.event.handlers.call(this,a,c),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((_.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?_(r,this).index(c)>-1:_.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ce()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&P(this,"input"))return this.click(),!1},_default:function(e){return P(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_.event.addProp),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||_.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),_.fn.extend({on:function(e,t,n,i){return Ae(this,e,t,n,i)},one:function(e,t,n,i){return Ae(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,_(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){_.event.remove(this,e,n,t)})}});var Te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pe=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Ee=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,i,r,o,s,a,l,c;if(1===t.nodeType){if(Z.hasData(e)&&(o=Z.access(e),s=Z.set(t,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;n<i;n++)_.event.add(t,r,c[r][n]);X.hasData(e)&&(a=X.access(e),l=_.extend({},a),X.set(t,l))}}function Ne(e,t,n,i){t=s.apply([],t);var r,o,a,l,c,u,h=0,p=e.length,d=p-1,g=t[0],v=m(g);if(v||p>1&&"string"==typeof g&&!f.checkClone&&De.test(g))return e.each(function(r){var o=e.eq(r);v&&(t[0]=g.call(this,r,o.html())),Ne(o,t,n,i)});if(p&&(o=(r=ye(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(l=(a=_.map(de(r,"script"),Ie)).length;h<p;h++)c=r,h!==d&&(c=_.clone(c,!0,!0),l&&_.merge(a,de(c,"script"))),n.call(e[h],c,h);if(l)for(u=a[a.length-1].ownerDocument,_.map(a,Oe),h=0;h<l;h++)c=a[h],he.test(c.type||"")&&!Z.access(c,"globalEval")&&_.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&_._evalUrl(c.src):y(c.textContent.replace(Ee,""),u,c))}return e}function Le(e,t,n){for(var i,r=t?_.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||_.cleanData(de(i)),i.parentNode&&(n&&_.contains(i.ownerDocument,i)&&fe(de(i,"script")),i.parentNode.removeChild(i));return e}_.extend({htmlPrefilter:function(e){return e.replace(Te,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a,l,c,u=e.cloneNode(!0),h=_.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(s=de(u),i=0,r=(o=de(e)).length;i<r;i++)a=o[i],l=s[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&ce.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||de(e),s=s||de(u),i=0,r=o.length;i<r;i++)Re(o[i],s[i]);else Re(e,u);return(s=de(u,"script")).length>0&&fe(s,!h&&de(e,"script")),u},cleanData:function(e){for(var t,n,i,r=_.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Z.expando]){if(t.events)for(i in t.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,t.handle);n[Z.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),_.fn.extend({detach:function(e){return Le(this,e,!0)},remove:function(e){return Le(this,e)},text:function(e){return $(this,function(e){return void 0===e?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ne(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)})},prepend:function(){return Ne(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(de(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!pe[(ue.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(de(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ne(this,arguments,function(t){var n=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(de(this)),n&&n.replaceChild(t,this))},e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){_.fn[e]=function(e){for(var n,i=[],r=_(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),_(r[s])[t](n),a.apply(i,n.get());return this.pushStack(i)}});var je=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),He=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ue=new RegExp(ie.join("|"),"i");function Fe(e,t,n){var i,r,o,s,a=e.style;return(n=n||He(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||_.contains(e.ownerDocument,e)||(s=_.style(e,t)),!f.pixelBoxStyles()&&je.test(s)&&Ue.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Be(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",we.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);r="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",a=36===n(t.right),o=36===n(t.width),u.style.position="absolute",s=36===u.offsetWidth||"absolute",we.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var r,o,s,a,l,c=i.createElement("div"),u=i.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===u.style.backgroundClip,_.extend(f,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s}}))}();var We=/^(none|table(?!-c[ea]).+)/,$e=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},ze={letterSpacing:"0",fontWeight:"400"},qe=["Webkit","Moz","ms"],Ge=i.createElement("div").style;function Ve(e){var t=_.cssProps[e];return t||(t=_.cssProps[e]=function(e){if(e in Ge)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=qe.length;n--;)if((e=qe[n]+t)in Ge)return e}(e)||e),t}function Qe(e,t,n){var i=ne.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ze(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=_.css(e,n+ie[s],!0,r)),i?("content"===n&&(l-=_.css(e,"padding"+ie[s],!0,r)),"margin"!==n&&(l-=_.css(e,"border"+ie[s]+"Width",!0,r))):(l+=_.css(e,"padding"+ie[s],!0,r),"padding"!==n?l+=_.css(e,"border"+ie[s]+"Width",!0,r):a+=_.css(e,"border"+ie[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))),l}function Xe(e,t,n){var i=He(e),r=Fe(e,t,i),o="border-box"===_.css(e,"boxSizing",!1,i),s=o;if(je.test(r)){if(!n)return r;r="auto"}return s=s&&(f.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===_.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(r=parseFloat(r)||0)+Ze(e,t,n||(o?"border":"content"),s,i,r)+"px"}function Ke(e,t,n,i,r){return new Ke.prototype.init(e,t,n,i,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=G(t),l=$e.test(t),c=e.style;if(l||(t=Ve(a)),s=_.cssHooks[t]||_.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=ne.exec(n))&&r[1]&&(n=se(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(_.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,s,a=G(t);return $e.test(t)||(t=Ve(a)),(s=_.cssHooks[t]||_.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Fe(e,t,i)),"normal"===r&&t in ze&&(r=ze[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),_.each(["height","width"],function(e,t){_.cssHooks[t]={get:function(e,n,i){if(n)return!We.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Xe(e,t,i):oe(e,Ye,function(){return Xe(e,t,i)})},set:function(e,n,i){var r,o=He(e),s="border-box"===_.css(e,"boxSizing",!1,o),a=i&&Ze(e,t,i,s,o);return s&&f.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),a&&(r=ne.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=_.css(e,t)),Qe(0,n,a)}}}),_.cssHooks.marginLeft=Be(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-oe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(e,t){_.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ie[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(_.cssHooks[e+t].set=Qe)}),_.fn.extend({css:function(e,t){return $(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=He(e),r=t.length;s<r;s++)o[t[s]]=_.css(e,t[s],!1,i);return o}return void 0!==n?_.style(e,t,n):_.css(e,t)},e,t,arguments.length>1)}}),_.Tween=Ke,Ke.prototype={constructor:Ke,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}},Ke.prototype.init.prototype=Ke.prototype,Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[_.cssProps[e.prop]]&&!_.cssHooks[e.prop]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}},Ke.propHooks.scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=Ke.prototype.init,_.fx.step={};var Je,et,tt,nt,it=/^(?:toggle|show|hide)$/,rt=/queueHooks$/;function ot(){et&&(!1===i.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ot):e.setTimeout(ot,_.fx.interval),_.fx.tick())}function st(){return e.setTimeout(function(){Je=void 0}),Je=Date.now()}function at(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ie[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function lt(e,t,n){for(var i,r=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function ct(e,t,n){var i,r,o=0,s=ct.prefilters.length,a=_.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Je||st(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:t,originalOptions:n,startTime:Je||st(),duration:n.duration,tweens:[],createTween:function(t,n){var i=_.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=G(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=_.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<s;o++)if(i=ct.prefilters[o].call(c,e,u,c.opts))return m(i.stop)&&(_._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return _.map(u,lt,c),m(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),_.fx.timer(_.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}_.Animation=_.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(L);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ct.tweeners[n]=ct.tweeners[n]||[],ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,c,u,h="width"in t||"height"in t,p=this,d={},f=e.style,m=e.nodeType&&re(e),g=Z.get(e,"fxshow");for(i in n.queue||(null==(s=_._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,_.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[i],it.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}d[i]=g&&g[i]||_.style(e,i)}if((l=!_.isEmptyObject(t))||!_.isEmptyObject(d))for(i in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Z.get(e,"display")),"none"===(u=_.css(e,"display"))&&(c?u=c:(le([e],!0),c=e.style.display||c,u=_.css(e,"display"),le([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===_.css(e,"float")&&(l||(p.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,d)l||(g?"hidden"in g&&(m=g.hidden):g=Z.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&le([e],!0),p.done(function(){for(i in m||le([e]),Z.remove(e,"fxshow"),d)_.style(e,i,d[i])})),l=lt(m?g[i]:0,i,p),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),_.speed=function(e,t,n){var i=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return _.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in _.fx.speeds?i.duration=_.fx.speeds[i.duration]:i.duration=_.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(e,t,n,i){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=_.isEmptyObject(e),o=_.speed(t,n,i),s=function(){var t=ct(this,_.extend({},e),o);(r||Z.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=_.timers,s=Z.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&rt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||_.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Z.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=_.timers,s=i?i.length:0;for(n.finish=!0,_.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),_.each(["toggle","show","hide"],function(e,t){var n=_.fn[t];_.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(at(t,!0),e,i,r)}}),_.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){_.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(Je=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),Je=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){et||(et=!0,ot())},_.fx.stop=function(){et=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,n){return t=_.fx&&_.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},tt=i.createElement("input"),nt=i.createElement("select").appendChild(i.createElement("option")),tt.type="checkbox",f.checkOn=""!==tt.value,f.optSelected=nt.selected,(tt=i.createElement("input")).value="t",tt.type="radio",f.radioValue="t"===tt.value;var ut,ht=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return $(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){_.removeAttr(this,e)})}}),_.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?_.prop(e,t,n):(1===o&&_.isXMLDoc(e)||(r=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void _.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=_.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(L);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ut={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||_.find.attr;ht[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=ht[s],ht[s]=r,r=null!=n(e,t,i)?s:null,ht[s]=o),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ft(e){return(e.match(L)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}_.fn.extend({prop:function(e,t){return $(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[_.propFix[e]||e]})}}),_.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(e)||(t=_.propFix[t]||t,r=_.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this}),_.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(m(e))return this.each(function(t){_(this).addClass(e.call(this,t,mt(this)))});if((t=gt(e)).length)for(;n=this[l++];)if(r=mt(n),i=1===n.nodeType&&" "+ft(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ft(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(m(e))return this.each(function(t){_(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=gt(e)).length)for(;n=this[l++];)if(r=mt(n),i=1===n.nodeType&&" "+ft(r)+" "){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ft(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):m(e)?this.each(function(n){_(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,r,o,s;if(i)for(r=0,o=_(this),s=gt(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+ft(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;_.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=m(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,_(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_.map(r,function(e){return null==e?"":e+""})),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(vt,""):null==n?"":n:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:ft(_.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=_(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=_.makeArray(t),s=r.length;s--;)((i=r[s]).selected=_.inArray(_.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},f.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),f.focusin="onfocusin"in e;var yt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(t,n,r,o){var s,a,l,c,u,p,d,f,v=[r||i],y=h.call(t,"type")?t.type:t,w=h.call(t,"namespace")?t.namespace.split("."):[];if(a=f=l=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!yt.test(y+_.event.triggered)&&(y.indexOf(".")>-1&&(y=(w=y.split(".")).shift(),w.sort()),u=y.indexOf(":")<0&&"on"+y,(t=t[_.expando]?t:new _.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=w.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:_.makeArray(n,[t]),d=_.event.special[y]||{},o||!d.trigger||!1!==d.trigger.apply(r,n))){if(!o&&!d.noBubble&&!g(r)){for(c=d.delegateType||y,yt.test(c+y)||(a=a.parentNode);a;a=a.parentNode)v.push(a),l=a;l===(r.ownerDocument||i)&&v.push(l.defaultView||l.parentWindow||e)}for(s=0;(a=v[s++])&&!t.isPropagationStopped();)f=a,t.type=s>1?c:d.bindType||y,(p=(Z.get(a,"events")||{})[t.type]&&Z.get(a,"handle"))&&p.apply(a,n),(p=u&&a[u])&&p.apply&&V(a)&&(t.result=p.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!V(r)||u&&m(r[y])&&!g(r)&&((l=r[u])&&(r[u]=null),_.event.triggered=y,t.isPropagationStopped()&&f.addEventListener(y,wt),r[y](),t.isPropagationStopped()&&f.removeEventListener(y,wt),_.event.triggered=void 0,l&&(r[u]=l)),t.result}},simulate:function(e,t,n){var i=_.extend(new _.Event,n,{type:e,isSimulated:!0});_.event.trigger(i,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each(function(){_.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),f.focusin||_.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Z.access(i,t);r||i.addEventListener(e,n,!0),Z.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Z.access(i,t)-1;r?Z.access(i,t,r):(i.removeEventListener(e,n,!0),Z.remove(i,t))}}});var bt=e.location,_t=Date.now(),xt=/\?/;_.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+t),n};var St=/\[\]$/,kt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,n,i){var r;if(Array.isArray(t))_.each(t,function(t,r){n||St.test(e)?i(e,r):Tt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==w(t))i(e,t);else for(r in t)Tt(e+"["+r+"]",t[r],n,i)}_.param=function(e,t){var n,i=[],r=function(e,t){var n=m(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,function(){r(this.name,this.value)});else for(n in e)Tt(n,e[n],t,r);return i.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&At.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Pt=/%20/g,Dt=/#.*$/,Et=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Ot=/^\/\//,Rt={},Nt={},Lt="*/".concat("*"),jt=i.createElement("a");function Ht(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(L)||[];if(m(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ut(e,t,n,i){var r={},o=e===Nt;function s(a){var l;return r[a]=!0,_.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Ft(e,t){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&_.extend(!0,e,i),e}jt.href=bt.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,_.ajaxSettings),t):Ft(_.ajaxSettings,e)},ajaxPrefilter:Ht(Rt),ajaxTransport:Ht(Nt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,s,a,l,c,u,h,p,d,f=_.ajaxSetup({},n),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?_(m):_.event,v=_.Deferred(),y=_.Callbacks("once memory"),w=f.statusCode||{},b={},x={},S="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Mt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||S;return r&&r.abort(t),C(0,t),this}};if(v.promise(k),f.url=((t||f.url||bt.href)+"").replace(Ot,bt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(L)||[""],null==f.crossDomain){c=i.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=jt.protocol+"//"+jt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=_.param(f.data,f.traditional)),Ut(Rt,f,n,k),u)return k;for(p in(h=_.event&&f.global)&&0==_.active++&&_.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!It.test(f.type),o=f.url.replace(Dt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Pt,"+")):(d=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(xt.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Et,"$1"),d=(xt.test(o)?"&":"?")+"_="+_t+++d),f.url=o+d),f.ifModified&&(_.lastModified[o]&&k.setRequestHeader("If-Modified-Since",_.lastModified[o]),_.etag[o]&&k.setRequestHeader("If-None-Match",_.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Lt+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(m,k,f)||u))return k.abort();if(S="abort",y.add(f.complete),k.done(f.success),k.fail(f.error),r=Ut(Nt,f,n,k)){if(k.readyState=1,h&&g.trigger("ajaxSend",[k,f]),u)return k;f.async&&f.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},f.timeout));try{u=!1,r.send(b,C)}catch(e){if(u)throw e;C(-1,e)}}else C(-1,"No Transport");function C(t,n,i,a){var c,p,d,b,x,S=n;u||(u=!0,l&&e.clearTimeout(l),r=void 0,s=a||"",k.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(b=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,k,i)),b=function(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,b,k,c),c?(f.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(_.lastModified[o]=x),(x=k.getResponseHeader("etag"))&&(_.etag[o]=x)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=b.state,p=b.data,c=!(d=b.error))):(d=S,!t&&S||(S="error",t<0&&(t=0))),k.status=t,k.statusText=(n||S)+"",c?v.resolveWith(m,[p,S,k]):v.rejectWith(m,[k,S,d]),k.statusCode(w),w=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?p:d]),y.fireWith(m,[k,S]),h&&(g.trigger("ajaxComplete",[k,f]),--_.active||_.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],function(e,t){_[t]=function(e,n,i,r){return m(n)&&(r=r||i,i=n,n=void 0),_.ajax(_.extend({url:e,type:t,dataType:r,data:n,success:i},_.isPlainObject(e)&&e))}}),_._evalUrl=function(e){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m(e)?this.each(function(t){_(this).wrapInner(e.call(this,t))}):this.each(function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=m(e);return this.each(function(n){_(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},Wt=_.ajaxSettings.xhr();f.cors=!!Wt&&"withCredentials"in Wt,f.ajax=Wt=!!Wt,_.ajaxTransport(function(t){var n,i;if(f.cors||Wt&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Bt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),_.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,o){t=_("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){n&&n()}}});var $t,Yt=[],zt=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||_.expando+"_"+_t++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=!1!==t.jsonp&&(zt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(zt,"$1"+r):!1!==t.jsonp&&(t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||_.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){void 0===o?_(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(r)),s&&m(o)&&o(s[0]),s=o=void 0}),"script"}),f.createHTMLDocument=(($t=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$t.childNodes.length),_.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((r=(t=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,t.head.appendChild(r)):t=i),s=!n&&[],(o=D.exec(e))?[t.createElement(o[1])]:(o=ye([e],t,s),s&&s.length&&_(s).remove(),_.merge([],o.childNodes)));var r,o,s},_.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=ft(e.slice(a)),e=e.slice(0,a)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&_.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?_("<div>").append(_.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_.fn[t]=function(e){return this.on(t,e)}}),_.expr.pseudos.animated=function(e){return _.grep(_.timers,function(t){return e===t.elem}).length},_.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c=_.css(e,"position"),u=_(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=_.css(e,"top"),l=_.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),m(t)&&(t=t.call(e,n,_.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):u.css(h)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){_.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===_.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),r.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-_.css(i,"marginTop",!0),left:t.left-r.left-_.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||we})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;_.fn[e]=function(i){return $(this,function(e,i,r){var o;if(g(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),_.each(["top","left"],function(e,t){_.cssHooks[t]=Be(f.pixelPosition,function(e,n){if(n)return n=Fe(e,t),je.test(n)?_(e).position()[t]+"px":n})}),_.each({Height:"height",Width:"width"},function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){_.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return $(this,function(t,n,r){var o;return g(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?_.css(t,n,a):_.style(t,n,r,a)},t,s?r:void 0,s)}})}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){_.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),_.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),_.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return i=o.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(o.call(arguments)))}).guid=e.guid=e.guid||_.guid++,r},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=P,_.isFunction=m,_.isWindow=g,_.camelCase=G,_.type=w,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var qt=e.jQuery,Gt=e.$;return _.noConflict=function(t){return e.$===_&&(e.$=Gt),t&&e.jQuery===_&&(e.jQuery=qt),_},t||(e.jQuery=e.$=_),_}),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(e,t,n,i){"use strict";var r=i&&i.URI;function o(e,t){var n=arguments.length>=1,i=arguments.length>=2;if(!(this instanceof o))return n?i?new o(e,t):new o(e):new o;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}o.version="1.19.0";var s=o.prototype,a=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function c(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return"Array"===c(e)}function h(e,t){var n,i,r={};if("RegExp"===c(t))r=null;else if(u(t))for(n=0,i=t.length;n<i;n++)r[t[n]]=!0;else r[t]=!0;for(n=0,i=e.length;n<i;n++){(r&&void 0!==r[e[n]]||!r&&t.test(e[n]))&&(e.splice(n,1),i--,n--)}return e}function p(e,t){var n,i;if(u(t)){for(n=0,i=t.length;n<i;n++)if(!p(e,t[n]))return!1;return!0}var r=c(t);for(n=0,i=e.length;n<i;n++)if("RegExp"===r){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function d(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function f(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function g(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:o.preventInvalidHostname,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.preventInvalidHostname=!1,o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\._-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,o.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?Â«Â»ââââ]))/gi,o.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?Â«Â»âââââ]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},o.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},o.hostProtocols=["http","https"],o.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,o.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},o.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return o.domAttributes[t]}},o.encode=g,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=g,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},o.encodeQuery=function(e,t){var n=o.encode(e+"");return void 0===t&&(t=o.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},o.decodeQuery=function(e,t){e+="",void 0===t&&(t=o.escapeQuerySpace);try{return o.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,y={encode:"encode",decode:"decode"},w=function(e,t){return function(n){try{return o[t](n+"").replace(o.characters[e][t].expression,function(n){return o.characters[e][t].map[n]})}catch(e){return n}}};for(v in y)o[v+"PathSegment"]=w("pathname",y[v]),o[v+"UrnPathSegment"]=w("urnpath",y[v]);var b=function(e,t,n){return function(i){var r;r=n?function(e){return o[t](o[n](e))}:o[t];for(var s=(i+"").split(e),a=0,l=s.length;a<l;a++)s[a]=r(s[a]);return s.join(e)}};function _(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function x(e,t){return function(n,i){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!i),this)}}o.decodePath=b("/","decodePathSegment"),o.decodeUrnPath=b(":","decodeUrnPathSegment"),o.recodePath=b("/","encodePathSegment","decode"),o.recodeUrnPath=b(":","encodeUrnPathSegment","decode"),o.encodeReserved=w("reserved","encode"),o.parse=function(e,t){var n;return t||(t={preventInvalidHostname:o.preventInvalidHostname}),(n=e.indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=o.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(o.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=o.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},o.parseHost=function(e,t){e||(e="");var n,i,r=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===r&&(r=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,r)||null,"/"===t.port&&(t.port=null);else{var s=e.indexOf(":"),a=e.indexOf("/"),l=e.indexOf(":",s+1);-1!==l&&(-1===a||l<a)?(t.hostname=e.substring(0,r)||null,t.port=null):(i=e.substring(0,r).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),t.preventInvalidHostname&&o.ensureValidHostname(t.hostname,t.protocol),t.port&&o.ensureValidPort(t.port),e.substring(r)||"/"},o.parseAuthority=function(e,t){return e=o.parseUserinfo(e,t),o.parseHost(e,t)},o.parseUserinfo=function(e,t){var n,i=e.indexOf("/"),r=e.lastIndexOf("@",i>-1?i:e.length-1);return r>-1&&(-1===i||r<i)?(n=e.substring(0,r).split(":"),t.username=n[0]?o.decode(n[0]):null,n.shift(),t.password=n[0]?o.decode(n.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},o.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,i,r,s={},l=e.split("&"),c=l.length,u=0;u<c;u++)n=l[u].split("="),i=o.decodeQuery(n.shift(),t),r=n.length?o.decodeQuery(n.join("="),t):null,a.call(s,i)?("string"!=typeof s[i]&&null!==s[i]||(s[i]=[s[i]]),s[i].push(r)):s[i]=r;return s},o.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=o.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},o.buildHost=function(e){var t="";return e.hostname?(o.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},o.buildAuthority=function(e){return o.buildUserinfo(e)+o.buildHost(e)},o.buildUserinfo=function(e){var t="";return e.username&&(t+=o.encode(e.username)),e.password&&(t+=":"+o.encode(e.password)),t&&(t+="@"),t},o.buildQuery=function(e,t,n){var i,r,s,l,c="";for(r in e)if(a.call(e,r)&&r)if(u(e[r]))for(i={},s=0,l=e[r].length;s<l;s++)void 0!==e[r][s]&&void 0===i[e[r][s]+""]&&(c+="&"+o.buildQueryParameter(r,e[r][s],n),!0!==t&&(i[e[r][s]+""]=!0));else void 0!==e[r]&&(c+="&"+o.buildQueryParameter(r,e[r],n));return c.substring(1)},o.buildQueryParameter=function(e,t,n){return o.encodeQuery(e,n)+(null!==t?"="+o.encodeQuery(t,n):"")},o.addQuery=function(e,t,n){if("object"==typeof t)for(var i in t)a.call(t,i)&&o.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),u(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},o.setQuery=function(e,t,n){if("object"==typeof t)for(var i in t)a.call(t,i)&&o.setQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},o.removeQuery=function(e,t,n){var i,r,s;if(u(t))for(i=0,r=t.length;i<r;i++)e[t[i]]=void 0;else if("RegExp"===c(t))for(s in e)t.test(s)&&(e[s]=void 0);else if("object"==typeof t)for(s in t)a.call(t,s)&&o.removeQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===c(n)?!u(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=h(e[t],n):e[t]!==String(n)||u(n)&&1!==n.length?u(e[t])&&(e[t]=h(e[t],n)):e[t]=void 0:e[t]=void 0}},o.hasQuery=function(e,t,n,i){switch(c(t)){case"String":break;case"RegExp":for(var r in e)if(a.call(e,r)&&t.test(r)&&(void 0===n||o.hasQuery(e,r,n)))return!0;return!1;case"Object":for(var s in t)if(a.call(t,s)&&!o.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(c(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(u(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!u(e[t])&&(i?p:d)(e[t],n);case"RegExp":return u(e[t])?!!i&&p(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return u(e[t])?!!i&&p(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},o.joinPaths=function(){for(var e=[],t=[],n=0,i=0;i<arguments.length;i++){var r=new o(arguments[i]);e.push(r);for(var s=r.segment(),a=0;a<s.length;a++)"string"==typeof s[a]&&t.push(s[a]),s[a]&&n++}if(!t.length||!n)return new o("");var l=new o("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},o.commonPath=function(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},o.withinString=function(e,t,n){n||(n={});var i=n.start||o.findUri.start,r=n.end||o.findUri.end,s=n.trim||o.findUri.trim,a=n.parens||o.findUri.parens,l=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var c=i.exec(e);if(!c)break;var u=c.index;if(n.ignoreHtml){var h=e.slice(Math.max(u-3,0),u);if(h&&l.test(h))continue}for(var p=u+e.slice(u).search(r),d=e.slice(u,p),f=-1;;){var m=a.exec(d);if(!m)break;var g=m.index+m[0].length;f=Math.max(f,g)}if(!((d=f>-1?d.slice(0,f)+d.slice(f).replace(s,""):d.replace(s,"")).length<=c[0].length||n.ignore&&n.ignore.test(d))){var v=t(d,u,p=u+d.length,e);void 0!==v?(v=String(v),e=e.slice(0,u)+v+e.slice(p),i.lastIndex=u+v.length):i.lastIndex=p}}return i.lastIndex=0,e},o.ensureValidHostname=function(t,n){var i=!!t,r=!1;if(!!n&&(r=p(o.hostProtocols,n)),r&&!i)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(o.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(o.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},o.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},o.noConflict=function(e){if(e){var t={URI:this.noConflict()};return i.URITemplate&&"function"==typeof i.URITemplate.noConflict&&(t.URITemplate=i.URITemplate.noConflict()),i.IPv6&&"function"==typeof i.IPv6.noConflict&&(t.IPv6=i.IPv6.noConflict()),i.SecondLevelDomains&&"function"==typeof i.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=i.SecondLevelDomains.noConflict()),t}return i.URI===this&&(i.URI=r),this},s.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},s.clone=function(){return new o(this)},s.valueOf=s.toString=function(){return this.build(!1)._string},s.protocol=_("protocol"),s.username=_("username"),s.password=_("password"),s.hostname=_("hostname"),s.port=_("port"),s.query=x("query","?"),s.fragment=x("fragment","#"),s.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},s.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},s.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?o.decodeUrnPath:o.decodePath)(n):n}return this._parts.urn?this._parts.path=e?o.recodeUrnPath(e):"":this._parts.path=e?o.recodePath(e):"/",this.build(!t),this},s.path=s.pathname,s.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=o._parts();var i=e instanceof o,r="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[o.getDomAttribute(e)]||"",r=!1);if(!i&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=o.parse(String(e),this._parts);else{if(!i&&!r)throw new TypeError("invalid input");var s=i?e._parts:e;for(n in s)a.call(this._parts,n)&&(this._parts[n]=s[n])}return this.build(!t),this},s.is=function(e){var t=!1,i=!1,r=!1,s=!1,a=!1,l=!1,c=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,i=o.ip4_expression.test(this._parts.hostname),r=o.ip6_expression.test(this._parts.hostname),a=(s=!(t=i||r))&&n&&n.has(this._parts.hostname),l=s&&o.idn_expression.test(this._parts.hostname),c=s&&o.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return s;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return r;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var S=s.protocol,k=s.port,C=s.hostname;s.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(o.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return S.call(this,e,t)},s.scheme=s.protocol,s.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),o.ensureValidPort(e))),k.call(this,e,t))},s.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==o.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&o.ensureValidHostname(e,this._parts.protocol)}return C.call(this,e,t)},s.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var i=o(e);return this.protocol(i.protocol()).authority(i.authority()).build(!t),this},s.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildHost(this._parts):"";if("/"!==o.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildAuthority(this._parts):"";if("/"!==o.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=o.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),o.parseUserinfo(e,this._parts),this.build(!t),this},s.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=o.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},s.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var i=this._parts.hostname.length-this.domain().length,r=this._parts.hostname.substring(0,i),s=new RegExp("^"+l(r));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&o.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},s.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var i=this._parts.hostname.length-this.tld(t).length-1;return i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(o.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var r=new RegExp(l(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},s.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(i+1);return!0!==t&&n&&n.list[r.toLowerCase()]&&n.get(this._parts.hostname)||r}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},s.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?o.decodePath(i):i}var r=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,r),a=new RegExp("^"+l(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=o.recodePath(e),this._parts.path=this._parts.path.replace(a,e),this.build(!t),this},s.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(n+1);return e?o.decodePathSegment(i):i}var r=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(r=!0);var s=new RegExp(l(this.filename())+"$");return e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e),r?this.normalizePath(t):this.build(!t),this},s.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,i,r=this.filename(),s=r.lastIndexOf(".");return-1===s?"":(n=r.substring(s+1),i=/^[a-z0-9%]+$/i.test(n)?n:"",e?o.decodePathSegment(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var a,c=this.suffix();if(c)a=e?new RegExp(l(c)+"$"):new RegExp(l("."+c)+"$");else{if(!e)return this;this._parts.path+="."+o.recodePath(e)}return a&&(e=o.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},s.segment=function(e,t,n){var i=this._parts.urn?":":"/",r=this.path(),o="/"===r.substring(0,1),s=r.split(i);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&s.shift(),e<0&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(u(t)){s=[];for(var a=0,l=t.length;a<l;a++)(t[a].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(f(t[a])))}else(t||"string"==typeof t)&&(t=f(t),""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=f(t):s.splice(e,1);return o&&s.unshift(""),this.path(s.join(i),n)},s.segmentCoded=function(e,t,n){var i,r,s;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(u(i=this.segment(e,t,n)))for(r=0,s=i.length;r<s;r++)i[r]=o.decode(i[r]);else i=void 0!==i?o.decode(i):void 0;return i}if(u(t))for(r=0,s=t.length;r<s;r++)t[r]=o.encode(t[r]);else t="string"==typeof t||t instanceof String?o.encode(t):t;return this.segment(e,t,n)};var A=s.query;return s.query=function(e,t){if(!0===e)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,n);return this._parts.query=o.buildQuery(i||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=o.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):A.call(this,e,t)},s.setQuery=function(e,t,n){var i=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var r in e)a.call(e,r)&&(i[r]=e[r])}return this._parts.query=o.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},s.addQuery=function(e,t,n){var i=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(i,e,void 0===t?null:t),this._parts.query=o.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},s.removeQuery=function(e,t,n){var i=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(i,e,t),this._parts.query=o.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},s.hasQuery=function(e,t,n){var i=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(i,e,t,n)},s.setSearch=s.setQuery,s.addSearch=s.addQuery,s.removeSearch=s.removeQuery,s.hasSearch=s.hasQuery,s.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},s.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},s.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},s.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},s.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var i,r,s="";for("/"!==(n=o.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(s=n.substring(1).match(/^(\.\.\/)+/)||"")&&(s=s[0]);-1!==(i=n.search(/\/\.\.(\/|$)/));)0!==i?(-1===(r=n.substring(0,i).lastIndexOf("/"))&&(r=i),n=n.substring(0,r)+n.substring(i+3)):n=n.substring(3);return t&&this.is("relative")&&(n=s+n.substring(1)),this._parts.path=n,this.build(!e),this},s.normalizePathname=s.normalizePath,s.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},s.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},s.normalizeSearch=s.normalizeQuery,s.normalizeHash=s.normalizeFragment,s.iso8859=function(){var e=o.encode,t=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},s.unicode=function(){var e=o.encode,t=o.decode;o.encode=g,o.decode=unescape;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},s.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var i="",r=0,s=t._parts.query.split("&"),a=s.length;r<a;r++){var l=(s[r]||"").split("=");i+="&"+o.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(i+="="+o.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+i.substring(1)}return n+=o.decodeQuery(t.hash(),!0)},s.absoluteTo=function(e){var t,n,i,r=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof o||(e=new o(e)),r._parts.protocol)return r;if(r._parts.protocol=e._parts.protocol,this._parts.hostname)return r;for(n=0;i=s[n];n++)r._parts[i]=e._parts[i];return r._parts.path?(".."===r._parts.path.substring(-2)&&(r._parts.path+="/"),"/"!==r.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath())):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),r.build(),r},s.relativeTo=function(e){var t,n,i,r,s,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new o(e).normalize(),t=a._parts,n=e._parts,r=a.path(),s=e.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==n.hostname||t.port!==n.port)return a.build();if(t.hostname=null,t.port=null,r===s)return t.path="",a.build();if(!(i=o.commonPath(r,s)))return a.build();var l=n.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(i.length)||"./",a.build()},s.equals=function(e){var t,n,i,r,s,l=this.clone(),c=new o(e),h={};if(l.normalize(),c.normalize(),l.toString()===c.toString())return!0;if(i=l.query(),r=c.query(),l.query(""),c.query(""),l.toString()!==c.toString())return!1;if(i.length!==r.length)return!1;for(s in t=o.parseQuery(i,this._parts.escapeQuerySpace),n=o.parseQuery(r,this._parts.escapeQuerySpace),t)if(a.call(t,s)){if(u(t[s])){if(!d(t[s],n[s]))return!1}else if(t[s]!==n[s])return!1;h[s]=!0}for(s in n)if(a.call(n,s)&&!h[s])return!1;return!0},s.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},s.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},s.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},o}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,i){return bt(e,t,n,i,!0).utc()}function u(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),e._pf}function h(e){if(null==e._isValid){var n=u(e),i=t.call(n.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i),e._strict&&(e._isValid=e._isValid&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour)}return e._isValid}function p(e){var t=c(NaN);return null!=e?l(u(t),e):u(t).userInvalidated=!0,t}function d(e){return void 0===e}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var f=n.momentProperties=[];function m(e,t){var n,i,r;if(d(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),d(t._i)||(e._i=t._i),d(t._f)||(e._f=t._f),d(t._l)||(e._l=t._l),d(t._strict)||(e._strict=t._strict),d(t._tzm)||(e._tzm=t._tzm),d(t._isUTC)||(e._isUTC=t._isUTC),d(t._offset)||(e._offset=t._offset),d(t._pf)||(e._pf=u(t)),d(t._locale)||(e._locale=t._locale),f.length>0)for(n in f)d(r=t[i=f[n]])||(e[i]=r);return e}var g=!1;function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===g&&(g=!0,n.updateOffset(this),g=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function _(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&b(e[i])!==b(t[i]))&&s++;return s+o}function x(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var i=!0;return l(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,e),i&&(x(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}var k,C={};function A(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),C[e]||(x(t),C[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e,t){var n,i=l({},e);for(n in t)a(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)a(e,n)&&!a(t,n)&&r(e[n])&&(i[n]=l({},i[n]));return i}function D(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var E={};function M(e,t){var n=e.toLowerCase();E[n]=E[n+"s"]=E[t]=e}function I(e){return"string"==typeof e?E[e]||E[e.toLowerCase()]:void 0}function O(e){var t,n,i={};for(n in e)a(e,n)&&(t=I(n))&&(i[t]=e[n]);return i}var R={};function N(e,t){R[e]=t}function L(e,t){return function(i){return null!=i?(H(this,e,i),n.updateOffset(this,t),this):j(this,e)}}function j(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function H(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function U(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},$={};function Y(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&($[e]=r),t&&($[t[0]]=function(){return U(r.apply(this,arguments),t[1],t[2])}),n&&($[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function z(e,t){return e.isValid()?(t=q(t,e.localeData()),W[t]=W[t]||function(e){var t,n,i,r=e.match(F);for(t=0,n=r.length;t<n;t++)$[r[t]]?r[t]=$[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}(t),W[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(B.lastIndex=0;n>=0&&B.test(e);)e=e.replace(B,i),B.lastIndex=0,n-=1;return e}var G=/\d/,V=/\d\d/,Q=/\d{3}/,Z=/\d{4}/,X=/[+-]?\d{6}/,K=/\d\d?/,J=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,ie=/[+-]?\d{1,6}/,re=/\d+/,oe=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,le=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ce={};function ue(e,t,n){ce[e]=T(t)?t:function(e,i){return e&&n?n:t}}function he(e,t){return a(ce,e)?ce[e](t._strict,t._locale):new RegExp(pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function fe(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)de[e[n]]=i}function me(e,t){fe(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}var ge,ve=0,ye=1,we=2,be=3,_e=4,xe=5,Se=6,ke=7,Ce=8;function Ae(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),N("month",8),ue("M",K),ue("MM",K,V),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),fe(["M","MM"],function(e,t){t[ye]=b(e)-1}),fe(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ye]=r:u(n).invalidMonth=e});var Te=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ee(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if("number"!=typeof(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ae(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Me(e){return null!=e?(Ee(this,e),n.updateOffset(this,!0),this):j(this,"Month")}var Ie=le;var Oe=le;function Re(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=c([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=pe(i[t]),r[t]=pe(r[t]);for(t=0;t<24;t++)o[t]=pe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ne(e){return Le(e)?366:365}function Le(e){return e%4==0&&e%100!=0||e%400==0}Y("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),M("year","y"),N("year",1),ue("Y",oe),ue("YY",K,V),ue("YYYY",ne,Z),ue("YYYYY",ie,X),ue("YYYYYY",ie,X),fe(["YYYYY","YYYYYY"],ve),fe("YYYY",function(e,t){t[ve]=2===e.length?n.parseTwoDigitYear(e):b(e)}),fe("YY",function(e,t){t[ve]=n.parseTwoDigitYear(e)}),fe("Y",function(e,t){t[ve]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var je=L("FullYear",!0);function He(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ue(e,t,n){var i=7+t-n;return-((7+He(e,0,i).getUTCDay()-t)%7)+i-1}function Fe(e,t,n,i,r){var o,s,a=1+7*(t-1)+(7+n-i)%7+Ue(e,i,r);return a<=0?s=Ne(o=e-1)+a:a>Ne(e)?(o=e+1,s=a-Ne(e)):(o=e,s=a),{year:o,dayOfYear:s}}function Be(e,t,n){var i,r,o=Ue(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?i=s+We(r=e.year()-1,t,n):s>We(e.year(),t,n)?(i=s-We(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function We(e,t,n){var i=Ue(e,t,n),r=Ue(e+1,t,n);return(Ne(e)-i+r)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),N("week",5),N("isoWeek",5),ue("w",K),ue("ww",K,V),ue("W",K),ue("WW",K,V),me(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=b(e)});Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),ue("d",K),ue("e",K),ue("E",K),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),me(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:u(n).invalidWeekday=e}),me(["d","e","E"],function(e,t,n,i){t[i]=b(e)});var $e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Ye="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var qe=le;var Ge=le;var Ve=le;function Qe(){function e(e,t){return t.length-e.length}var t,n,i,r,o,s=[],a=[],l=[],u=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(s.sort(e),a.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)a[t]=pe(a[t]),l[t]=pe(l[t]),u[t]=pe(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ze(){return this.hours()%12||12}function Xe(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ke(e,t){return t._meridiemParse}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Ze),Y("k",["kk",2],0,function(){return this.hours()||24}),Y("hmm",0,0,function(){return""+Ze.apply(this)+U(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Ze.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Xe("a",!0),Xe("A",!1),M("hour","h"),N("hour",13),ue("a",Ke),ue("A",Ke),ue("H",K),ue("h",K),ue("HH",K,V),ue("hh",K,V),ue("hmm",J),ue("hmmss",ee),ue("Hmm",J),ue("Hmmss",ee),fe(["H","HH"],be),fe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),fe(["h","hh"],function(e,t,n){t[be]=b(e),u(n).bigHour=!0}),fe("hmm",function(e,t,n){var i=e.length-2;t[be]=b(e.substr(0,i)),t[_e]=b(e.substr(i)),u(n).bigHour=!0}),fe("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[be]=b(e.substr(0,i)),t[_e]=b(e.substr(i,2)),t[xe]=b(e.substr(r)),u(n).bigHour=!0}),fe("Hmm",function(e,t,n){var i=e.length-2;t[be]=b(e.substr(0,i)),t[_e]=b(e.substr(i))}),fe("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[be]=b(e.substr(0,i)),t[_e]=b(e.substr(i,2)),t[xe]=b(e.substr(r))});var Je,et=L("Hours",!0),tt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:De,week:{dow:0,doy:6},weekdays:$e,weekdaysMin:ze,weekdaysShort:Ye,meridiemParse:/[ap]\.?m?\.?/i},nt={};function it(e){return e?e.toLowerCase().replace("_","-"):e}function rt(e){var t=null;if(!nt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Je._abbr,require("./locale/"+e),ot(t)}catch(e){}return nt[e]}function ot(e,t){var n;return e&&(n=d(t)?at(e):st(e,t))&&(Je=n),Je._abbr}function st(e,t){if(null!==t){var n=tt;return t.abbr=e,null!=nt[e]?(A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=nt[e]._config):null!=t.parentLocale&&(null!=nt[t.parentLocale]?n=nt[t.parentLocale]._config:A("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),nt[e]=new D(P(n,t)),ot(e),nt[e]}return delete nt[e],null}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Je;if(!i(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=it(e[o]).split("-")).length,n=(n=it(e[o+1]))?n.split("-"):null;t>0;){if(i=rt(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&_(r,n,!0)>=t-1)break;t--}o++}return null}(e)}function lt(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[ye]<0||n[ye]>11?ye:n[we]<1||n[we]>Ae(n[ve],n[ye])?we:n[be]<0||n[be]>24||24===n[be]&&(0!==n[_e]||0!==n[xe]||0!==n[Se])?be:n[_e]<0||n[_e]>59?_e:n[xe]<0||n[xe]>59?xe:n[Se]<0||n[Se]>999?Se:-1,u(e)._overflowDayOfYear&&(t<ve||t>we)&&(t=we),u(e)._overflowWeeks&&-1===t&&(t=ke),u(e)._overflowWeekday&&-1===t&&(t=Ce),u(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ut=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ht=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],dt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((\-?\d+)/i;function mt(e){var t,n,i,r,o,s,a=e._i,l=ct.exec(a)||ut.exec(a);if(l){for(u(e).iso=!0,t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(l[1])){r=pt[t][0],i=!1!==pt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=dt.length;t<n;t++)if(dt[t][1].exec(l[3])){o=(l[2]||" ")+dt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ht.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),yt(e)}else e._isValid=!1}function gt(e,t,n){return null!=e?e:null!=t?t:n}function vt(e){var t,i,r,o,s=[];if(!e._d){var a,l;for(a=e,l=new Date(n.now()),r=a._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],e._w&&null==e._a[we]&&null==e._a[ye]&&function(e){var t,n,i,r,o,s,a,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=gt(t.GG,e._a[ve],Be(_t(),1,4).year),i=gt(t.W,1),((r=gt(t.E,1))<1||r>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,n=gt(t.gg,e._a[ve],Be(_t(),o,s).year),i=gt(t.w,1),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o);i<1||i>We(n,o,s)?u(e)._overflowWeeks=!0:null!=l?u(e)._overflowWeekday=!0:(a=Fe(n,i,r,o,s),e._a[ve]=a.year,e._dayOfYear=a.dayOfYear)}(e),e._dayOfYear&&(o=gt(e._a[ve],r[ve]),e._dayOfYear>Ne(o)&&(u(e)._overflowDayOfYear=!0),i=He(o,0,e._dayOfYear),e._a[ye]=i.getUTCMonth(),e._a[we]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[be]&&0===e._a[_e]&&0===e._a[xe]&&0===e._a[Se]&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?He:function(e,t,n,i,r,o,s){var a=new Date(e,t,n,i,r,o,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24)}}function yt(e){if(e._f!==n.ISO_8601){e._a=[],u(e).empty=!0;var t,i,r,o,s,l,c,h,p=""+e._i,d=p.length,f=0;for(r=q(e._f,e._locale).match(F)||[],t=0;t<r.length;t++)o=r[t],(i=(p.match(he(o,e))||[])[0])&&((s=p.substr(0,p.indexOf(i))).length>0&&u(e).unusedInput.push(s),p=p.slice(p.indexOf(i)+i.length),f+=i.length),$[o]?(i?u(e).empty=!1:u(e).unusedTokens.push(o),l=o,h=e,null!=(c=i)&&a(de,l)&&de[l](c,h._a,h,l)):e._strict&&!i&&u(e).unusedTokens.push(o);u(e).charsLeftOver=d-f,p.length>0&&u(e).unusedInput.push(p),e._a[be]<=12&&!0===u(e).bigHour&&e._a[be]>0&&(u(e).bigHour=void 0),u(e).parsedDateParts=e._a.slice(0),u(e).meridiem=e._meridiem,e._a[be]=function(e,t,n){var i;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[be],e._meridiem),vt(e),lt(e)}else mt(e)}function wt(e){var t,r,a,c,d=e._i,f=e._f;return e._locale=e._locale||at(e._l),null===d||void 0===f&&""===d?p({nullInput:!0}):("string"==typeof d&&(e._i=d=e._locale.preparse(d)),y(d)?new v(lt(d)):(i(f)?function(e){var t,n,i,r,o;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],yt(t),h(t)&&(o+=u(t).charsLeftOver,o+=10*u(t).unusedTokens.length,u(t).score=o,(null==i||o<i)&&(i=o,n=t));l(e,n||t)}(e):o(d)?e._d=d:f?yt(e):void 0===(r=(t=e)._i)?t._d=new Date(n.now()):o(r)?t._d=new Date(r.valueOf()):"string"==typeof r?(a=t,null===(c=ft.exec(a._i))?(mt(a),!1===a._isValid&&(delete a._isValid,n.createFromInputFallback(a))):a._d=new Date(+c[1])):i(r)?(t._a=s(r.slice(0),function(e){return parseInt(e,10)}),vt(t)):"object"==typeof r?function(e){if(!e._d){var t=O(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),vt(e)}}(t):"number"==typeof r?t._d=new Date(r):n.createFromInputFallback(t),h(e)||(e._d=null),e))}function bt(e,t,n,o,s){var a,l={};return"boolean"==typeof n&&(o=n,n=void 0),(r(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=o,(a=new v(lt(wt(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function _t(e,t,n,i){return bt(e,t,n,i,!1)}n.createFromInputFallback=S("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){};var xt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),St=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()});function kt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return _t();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Ct(e){var t=O(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=at(),this._bubble()}function At(e){return e instanceof Ct}function Tt(e,t){Y(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+U(~~(e/60),2)+t+U(~~e%60,2)})}Tt("Z",":"),Tt("ZZ",""),ue("Z",ae),ue("ZZ",ae),fe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Dt(ae,e)});var Pt=/([\+\-]|\d\d)/gi;function Dt(e,t){var n=(t||"").match(e)||[],i=((n[n.length-1]||[])+"").match(Pt)||["-",0,0],r=60*i[1]+b(i[2]);return"+"===i[0]?r:-r}function Et(e,t){var i,r;return t._isUTC?(i=t.clone(),r=(y(e)||o(e)?e.valueOf():_t(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):_t(e).local()}function Mt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function It(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}n.updateOffset=function(){};var Ot=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Rt=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Nt(e,t){var n,i,r,o=e,s=null;return At(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=Ot.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:b(s[we])*n,h:b(s[be])*n,m:b(s[_e])*n,s:b(s[xe])*n,ms:b(s[Se])*n}):(s=Rt.exec(e))?(n="-"===s[1]?-1:1,o={y:Lt(s[2],n),M:Lt(s[3],n),w:Lt(s[4],n),d:Lt(s[5],n),h:Lt(s[6],n),m:Lt(s[7],n),s:Lt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Et(t,e),e.isBefore(t)?n=jt(e,t):((n=jt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(_t(o.from),_t(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Ct(o),At(e)&&a(e,"_locale")&&(i._locale=e._locale),i}function Lt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ut(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Ft(this,Nt(n="string"==typeof n?+n:n,i),e),this}}function Ft(e,t,i,r){var o=t._milliseconds,s=Ht(t._days),a=Ht(t._months);e.isValid()&&(r=null==r||r,o&&e._d.setTime(e._d.valueOf()+o*i),s&&H(e,"Date",j(e,"Date")+s*i),a&&Ee(e,j(e,"Month")+a*i),r&&n.updateOffset(e,s||a))}Nt.fn=Ct.prototype;var Bt=Ut(1,"add"),Wt=Ut(-1,"subtract");function $t(e){var t;return void 0===e?this._locale._abbr:(null!=(t=at(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Yt=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function zt(){return this._locale}function qt(e,t){Y(0,[e,e.length],0,t)}function Gt(e,t,n,i,r){var o;return null==e?Be(this,i,r).year:(t>(o=We(e,i,r))&&(t=o),function(e,t,n,i,r){var o=Fe(e,t,n,i,r),s=He(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,e,t,n,i,r))}Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),qt("gggg","weekYear"),qt("ggggg","weekYear"),qt("GGGG","isoWeekYear"),qt("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),ue("G",oe),ue("g",oe),ue("GG",K,V),ue("gg",K,V),ue("GGGG",ne,Z),ue("gggg",ne,Z),ue("GGGGG",ie,X),ue("ggggg",ie,X),me(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=b(e)}),me(["gg","GG"],function(e,t,i,r){t[r]=n.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),M("quarter","Q"),N("quarter",7),ue("Q",G),fe("Q",function(e,t){t[ye]=3*(b(e)-1)}),Y("D",["DD",2],"Do","date"),M("date","D"),N("date",9),ue("D",K),ue("DD",K,V),ue("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),fe(["D","DD"],we),fe("Do",function(e,t){t[we]=b(e.match(K)[0])});var Vt=L("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),N("dayOfYear",4),ue("DDD",te),ue("DDDD",Q),fe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),Y("m",["mm",2],0,"minute"),M("minute","m"),N("minute",14),ue("m",K),ue("mm",K,V),fe(["m","mm"],_e);var Qt=L("Minutes",!1);Y("s",["ss",2],0,"second"),M("second","s"),N("second",15),ue("s",K),ue("ss",K,V),fe(["s","ss"],xe);var Zt,Xt=L("Seconds",!1);for(Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),N("millisecond",16),ue("S",te,G),ue("SS",te,V),ue("SSS",te,Q),Zt="SSSS";Zt.length<=9;Zt+="S")ue(Zt,re);function Kt(e,t){t[Se]=b(1e3*("0."+e))}for(Zt="S";Zt.length<=9;Zt+="S")fe(Zt,Kt);var Jt=L("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var en=v.prototype;en.add=Bt,en.calendar=function(e,t){var i=e||_t(),r=Et(i,this).startOf("day"),o=n.calendarFormat(this,r)||"sameElse",s=t&&(T(t[o])?t[o].call(this,i):t[o]);return this.format(s||this.localeData().calendar(o,this,_t(i)))},en.clone=function(){return new v(this)},en.diff=function(e,t,n){var i,r,o,s;return this.isValid()&&(i=Et(e,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),"year"===(t=I(t))||"month"===t||"quarter"===t?(a=this,l=i,h=12*(l.year()-a.year())+(l.month()-a.month()),p=a.clone().add(h,"months"),l-p<0?(c=a.clone().add(h-1,"months"),u=(l-p)/(p-c)):(c=a.clone().add(h+1,"months"),u=(l-p)/(c-p)),s=-(h+u)||0,"quarter"===t?s/=3:"year"===t&&(s/=12)):(o=this-i,s="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?s:w(s)):NaN;var a,l,c,u,h,p},en.endOf=function(e){return void 0===(e=I(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},en.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)},en.from=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||_t(e).isValid())?Nt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},en.fromNow=function(e){return this.from(_t(),e)},en.to=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||_t(e).isValid())?Nt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},en.toNow=function(e){return this.to(_t(),e)},en.get=function(e){return T(this[e=I(e)])?this[e]():this},en.invalidAt=function(){return u(this).overflow},en.isAfter=function(e,t){var n=y(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(d(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},en.isBefore=function(e,t){var n=y(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(d(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},en.isBetween=function(e,t,n,i){return("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},en.isSame=function(e,t){var n,i=y(e)?e:_t(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=I(t||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},en.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},en.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},en.isValid=function(){return h(this)},en.lang=Yt,en.locale=$t,en.localeData=zt,en.max=St,en.min=xt,en.parsingFlags=function(){return l({},u(this))},en.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:R[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=O(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(T(this[e=I(e)]))return this[e](t);return this},en.startOf=function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},en.subtract=Wt,en.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},en.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},en.toDate=function(){return new Date(this.valueOf())},en.toISOString=function(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},en.toJSON=function(){return this.isValid()?this.toISOString():null},en.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},en.unix=function(){return Math.floor(this.valueOf()/1e3)},en.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},en.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},en.year=je,en.isLeapYear=function(){return Le(this.year())},en.weekYear=function(e){return Gt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},en.isoWeekYear=function(e){return Gt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},en.quarter=en.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},en.month=Me,en.daysInMonth=function(){return Ae(this.year(),this.month())},en.week=en.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},en.isoWeek=en.isoWeeks=function(e){var t=Be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},en.weeksInYear=function(){var e=this.localeData()._week;return We(this.year(),e.dow,e.doy)},en.isoWeeksInYear=function(){return We(this.year(),1,4)},en.date=Vt,en.day=en.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},en.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},en.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(n=e,i=this.localeData(),"string"==typeof n?i.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?t:t-7)}return this.day()||7;var n,i},en.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},en.hour=en.hours=et,en.minute=en.minutes=Qt,en.second=en.seconds=Xt,en.millisecond=en.milliseconds=Jt,en.utcOffset=function(e,t){var i,r=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Dt(ae,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(i=Mt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Ft(this,Nt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Mt(this):null!=e?this:NaN},en.utc=function(e){return this.utcOffset(0,e)},en.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Mt(this),"m")),this},en.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Dt(se,this._i)),this},en.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?_t(e).utcOffset():0,(this.utcOffset()-e)%60==0)},en.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},en.isLocal=function(){return!!this.isValid()&&!this._isUTC},en.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},en.isUtc=It,en.isUTC=It,en.zoneAbbr=function(){return this._isUTC?"UTC":""},en.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},en.dates=S("dates accessor is deprecated. Use date instead.",Vt),en.months=S("months accessor is deprecated. Use month instead",Me),en.years=S("years accessor is deprecated. Use year instead",je),en.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),en.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),(e=wt(e))._a){var t=e._isUTC?c(e._a):_t(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var tn=en;function nn(e){return e}var rn=D.prototype;function on(e,t,n,i){var r=at(),o=c().set(i,t);return r[n](o,e)}function sn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return on(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=on(e,i,n,"month");return r}function an(e,t,n,i){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var r,o=at(),s=e?o._week.dow:0;if(null!=n)return on(t,(n+s)%7,i,"day");var a=[];for(r=0;r<7;r++)a[r]=on(t,(r+s)%7,i,"day");return a}rn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i},rn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},rn.invalidDate=function(){return this._invalidDate},rn.ordinal=function(e){return this._ordinal.replace("%d",e)},rn.preparse=nn,rn.postformat=nn,rn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return T(r)?r(e,t,n,i):r.replace(/%d/i,e)},rn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},rn.set=function(e){var t,n;for(n in e)T(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},rn.months=function(e,t){return i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Te).test(t)?"format":"standalone"][e.month()]},rn.monthsShort=function(e,t){return i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Te.test(t)?"format":"standalone"][e.month()]},rn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ge.call(this._shortMonthsParse,s))?r:null:-1!==(r=ge.call(this._longMonthsParse,s))?r:null:"MMM"===t?-1!==(r=ge.call(this._shortMonthsParse,s))?r:-1!==(r=ge.call(this._longMonthsParse,s))?r:null:-1!==(r=ge.call(this._longMonthsParse,s))?r:-1!==(r=ge.call(this._shortMonthsParse,s))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},rn.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Re.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Oe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},rn.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Re.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Ie),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},rn.week=function(e){return Be(e,this._week.dow,this._week.doy).week},rn.firstDayOfYear=function(){return this._week.doy},rn.firstDayOfWeek=function(){return this._week.dow},rn.weekdays=function(e,t){return i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]},rn.weekdaysMin=function(e){return this._weekdaysMin[e.day()]},rn.weekdaysShort=function(e){return this._weekdaysShort[e.day()]},rn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ge.call(this._weekdaysParse,s))?r:null:"ddd"===t?-1!==(r=ge.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=ge.call(this._minWeekdaysParse,s))?r:null:"dddd"===t?-1!==(r=ge.call(this._weekdaysParse,s))?r:-1!==(r=ge.call(this._shortWeekdaysParse,s))?r:-1!==(r=ge.call(this._minWeekdaysParse,s))?r:null:"ddd"===t?-1!==(r=ge.call(this._shortWeekdaysParse,s))?r:-1!==(r=ge.call(this._weekdaysParse,s))?r:-1!==(r=ge.call(this._minWeekdaysParse,s))?r:null:-1!==(r=ge.call(this._minWeekdaysParse,s))?r:-1!==(r=ge.call(this._weekdaysParse,s))?r:-1!==(r=ge.call(this._shortWeekdaysParse,s))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},rn.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},rn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ge),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},rn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ve),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},rn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},rn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ot("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",ot),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",at);var ln=Math.abs;function cn(e,t,n,i){var r=Nt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function un(e){return e<0?Math.floor(e):Math.ceil(e)}function hn(e){return 4800*e/146097}function pn(e){return 146097*e/4800}function dn(e){return function(){return this.as(e)}}var fn=dn("ms"),mn=dn("s"),gn=dn("m"),vn=dn("h"),yn=dn("d"),wn=dn("w"),bn=dn("M"),_n=dn("y");function xn(e){return function(){return this._data[e]}}var Sn=xn("milliseconds"),kn=xn("seconds"),Cn=xn("minutes"),An=xn("hours"),Tn=xn("days"),Pn=xn("months"),Dn=xn("years");var En=Math.round,Mn={s:45,m:45,h:22,d:26,M:11};var In=Math.abs;function On(){var e,t,n=In(this._milliseconds)/1e3,i=In(this._days),r=In(this._months);t=w((e=w(n/60))/60),n%=60,e%=60;var o=w(r/12),s=r%=12,a=i,l=t,c=e,u=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var Rn=Ct.prototype;return Rn.abs=function(){var e=this._data;return this._milliseconds=ln(this._milliseconds),this._days=ln(this._days),this._months=ln(this._months),e.milliseconds=ln(e.milliseconds),e.seconds=ln(e.seconds),e.minutes=ln(e.minutes),e.hours=ln(e.hours),e.months=ln(e.months),e.years=ln(e.years),this},Rn.add=function(e,t){return cn(this,e,t,1)},Rn.subtract=function(e,t){return cn(this,e,t,-1)},Rn.as=function(e){var t,n,i=this._milliseconds;if("month"===(e=I(e))||"year"===e)return t=this._days+i/864e5,n=this._months+hn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(pn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Rn.asMilliseconds=fn,Rn.asSeconds=mn,Rn.asMinutes=gn,Rn.asHours=vn,Rn.asDays=yn,Rn.asWeeks=wn,Rn.asMonths=bn,Rn.asYears=_n,Rn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)},Rn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*un(pn(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=w(o/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,n=w(t/60),l.hours=n%24,a+=r=w(hn(s+=w(n/24))),s-=un(pn(r)),i=w(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},Rn.get=function(e){return this[(e=I(e))+"s"]()},Rn.milliseconds=Sn,Rn.seconds=kn,Rn.minutes=Cn,Rn.hours=An,Rn.days=Tn,Rn.weeks=function(){return w(this.days()/7)},Rn.months=Pn,Rn.years=Dn,Rn.humanize=function(e){var t,n,i,r,o,s,a,l,c,u,h,p=this.localeData(),d=(n=!e,i=p,r=Nt(t=this).abs(),o=En(r.as("s")),s=En(r.as("m")),a=En(r.as("h")),l=En(r.as("d")),c=En(r.as("M")),u=En(r.as("y")),(h=o<Mn.s&&["s",o]||s<=1&&["m"]||s<Mn.m&&["mm",s]||a<=1&&["h"]||a<Mn.h&&["hh",a]||l<=1&&["d"]||l<Mn.d&&["dd",l]||c<=1&&["M"]||c<Mn.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=n,h[3]=+t>0,h[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,h));return e&&(d=p.pastFuture(+this,d)),p.postformat(d)},Rn.toISOString=On,Rn.toString=On,Rn.toJSON=On,Rn.locale=$t,Rn.localeData=zt,Rn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",On),Rn.lang=Yt,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),ue("x",oe),ue("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),fe("x",function(e,t,n){n._d=new Date(b(e))}),n.version="2.14.1",e=_t,n.fn=tn,n.min=function(){return kt("isBefore",[].slice.call(arguments,0))},n.max=function(){return kt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=c,n.unix=function(e){return _t(1e3*e)},n.months=function(e,t){return sn(e,t,"months")},n.isDate=o,n.locale=ot,n.invalid=p,n.duration=Nt,n.isMoment=y,n.weekdays=function(e,t,n){return an(e,t,n,"weekdays")},n.parseZone=function(){return _t.apply(null,arguments).parseZone()},n.localeData=at,n.isDuration=At,n.monthsShort=function(e,t){return sn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return an(e,t,n,"weekdaysMin")},n.defineLocale=st,n.updateLocale=function(e,t){if(null!=t){var n,i=tt;null!=nt[e]&&(i=nt[e]._config),(n=new D(t=P(i,t))).parentLocale=nt[e],nt[e]=n,ot(e)}else null!=nt[e]&&(null!=nt[e].parentLocale?nt[e]=nt[e].parentLocale:null!=nt[e]&&delete nt[e]);return nt[e]},n.locales=function(){return k(nt)},n.weekdaysShort=function(e,t,n){return an(e,t,n,"weekdaysShort")},n.normalizeUnits=I,n.relativeTimeRounding=function(e){return void 0===e?En:"function"==typeof e&&(En=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Mn[e]&&(void 0===t?Mn[e]:(Mn[e]=t,!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=tn,n}),function(e,t){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(e){}module.exports=t(n)}else"function"==typeof define&&define.amd?define(function(e){try{n=e("moment")}catch(e){}return t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,i=window.document,r=window.setTimeout,o=function(e,t,i,r){n?e.addEventListener(t,i,!!r):e.attachEvent("on"+t,i)},s=function(e,t,i,r){n?e.removeEventListener(t,i,!!r):e.detachEvent("on"+t,i)},a=function(e,t,n){var r;i.createEvent?((r=i.createEvent("HTMLEvents")).initEvent(t,!0,!1),r=d(r,n),e.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=d(r,n),e.fireEvent("on"+t,r))},l=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e){return/Array/.test(Object.prototype.toString.call(e))},u=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},h=function(e){u(e)&&e.setHours(0,0,0,0)},p=function(e,t){return e.getTime()===t.getTime()},d=function(e,t,n){var i,r;for(i in t)(r=void 0!==e[i])&&"object"==typeof t[i]&&null!==t[i]&&void 0===t[i].nodeName?u(t[i])?n&&(e[i]=new Date(t[i].getTime())):c(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=d({},t[i],n):!n&&r||(e[i]=t[i]);return e},f=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},m={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},g=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},v=function(e){if(e.isEmpty)return'<td class="is-empty"></td>';var t=[];return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&t.push("is-selected"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},y=function(e,t,n,i,r){var o,s,a,l,u,h=e._o,p=n===h.minYear,d=n===h.maxYear,f='<div class="pika-title">',m=!0,g=!0;for(a=[],o=0;o<12;o++)a.push('<option value="'+(n===r?o-t:12+o-t)+'"'+(o===i?" selected":"")+(p&&o<h.minMonth||d&&o>h.maxMonth?"disabled":"")+">"+h.i18n.months[o]+"</option>");for(l='<div class="pika-label">'+h.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",c(h.yearRange)?(o=h.yearRange[0],s=h.yearRange[1]+1):(o=n-h.yearRange,s=1+n+h.yearRange),a=[];o<s&&o<=h.maxYear;o++)o>=h.minYear&&a.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return u='<div class="pika-label">'+n+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",h.showMonthAfterYear?f+=u+l:f+=l+u,p&&(0===i||h.minMonth>=i)&&(m=!1),d&&(11===i||h.maxMonth<=i)&&(g=!1),0===t&&(f+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(f+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),f+"</div>"},w=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+g(e,t)+'">'+g(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"}(e)+("<tbody>"+t.join("")+"</tbody>")+"</table>"},b=function(s){var a=this,c=a.config(s);a._onMouseDown=function(e){if(a._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(l(t,"is-disabled")||(l(t,"pika-button")&&!l(t,"is-empty")?(a.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),c.bound&&r(function(){a.hide(),c.field&&c.field.blur()},100)):l(t,"pika-prev")?a.prevMonth():l(t,"pika-next")&&a.nextMonth()),l(t,"pika-select"))a._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},a._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(l(t,"pika-select-month")?a.gotoMonth(t.value):l(t,"pika-select-year")&&a.gotoYear(t.value))},a._onInputChange=function(n){var i;n.firedBy!==a&&(i=t?(i=e(c.field.value,c.format))&&i.isValid()?i.toDate():null:new Date(Date.parse(c.field.value)),u(i)&&a.setDate(i),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var e=i.activeElement;do{if(l(e,"pika-single"))return}while(e=e.parentNode);a._c||(a._b=r(function(){a.hide()},50)),a._c=!1},a._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,i=t;if(t){!n&&l(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",a._onChange)));do{if(l(i,"pika-single")||i===c.trigger)return}while(i=i.parentNode);a._v&&t!==c.trigger&&i!==c.trigger&&a.hide()}},a.el=i.createElement("div"),a.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),o(a.el,"mousedown",a._onMouseDown,!0),o(a.el,"touchend",a._onMouseDown,!0),o(a.el,"change",a._onChange),c.field&&(c.container?c.container.appendChild(a.el):c.bound?i.body.appendChild(a.el):c.field.parentNode.insertBefore(a.el,c.field.nextSibling),o(c.field,"change",a._onInputChange),c.defaultDate||(t&&c.field.value?c.defaultDate=e(c.field.value,c.format).toDate():c.defaultDate=new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));var h=c.defaultDate;u(h)?c.setDefaultDate?a.setDate(h,!0):a.gotoDate(h):a.gotoDate(new Date),c.bound?(this.hide(),a.el.className+=" is-bound",o(c.trigger,"click",a._onInputClick),o(c.trigger,"focus",a._onInputFocus),o(c.trigger,"blur",a._onInputBlur)):this.show()};return b.prototype={config:function(e){this._o||(this._o=d({},m,!0));var t=d(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,u(t.minDate)||(t.minDate=!1),u(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),c(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||m.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return u(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return u(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),u(e)){var n=this._o.minDate,i=this._o.maxDate;u(n)&&e<n?e=n:u(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),h(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(u(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=r<n.getTime()||i.getTime()<r}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=f(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=f({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){h(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth(),this.draw()},setMaxDate:function(e){h(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth(),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,i=t.maxYear,o=t.minMonth,s=t.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(var l=0;l<t.numberOfMonths;l++)a+='<div class="pika-lendar">'+y(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=a,t.bound&&"hidden"!==t.field.type&&r(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw){var c=this;r(function(){c._o.onDraw.call(c)},0)}}},adjustPosition:function(){var e,t,n,r,o,s,a,l,c,u;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,r=this.el.offsetHeight,o=window.innerWidth||i.documentElement.clientWidth,s=window.innerHeight||i.documentElement.clientHeight,a=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)l=(u=e.getBoundingClientRect()).left+window.pageXOffset,c=u.bottom+window.pageYOffset;else for(l=t.offsetLeft,c=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,c+=t.offsetTop;(this._o.reposition&&l+n>o||this._o.position.indexOf("right")>-1&&l-n+e.offsetWidth>0)&&(l=l-n+e.offsetWidth),(this._o.reposition&&c+r>s+a||this._o.position.indexOf("top")>-1&&c-r-e.offsetHeight>0)&&(c=c-r-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=c+"px"}},render:function(e,t){var n,i=this._o,r=new Date,o=[31,(n=e,n%4==0&&n%100!=0||n%400==0?29:28),31,30,31,30,31,31,30,31,30,31][t],s=new Date(e,t,1).getDay(),a=[],l=[];h(r),i.firstDay>0&&(s-=i.firstDay)<0&&(s+=7);for(var c,d,f,m,g,y,b=o+s,_=b;_>7;)_-=7;b+=7-_;for(var x=0,S=0;x<b;x++){var k=new Date(e,t,x-s+1),C=!!u(this._d)&&p(k,this._d),A=p(k,r),T=x<s||x>=o+s,P=i.startRange&&p(i.startRange,k),D=i.endRange&&p(i.endRange,k),E=i.startRange&&i.endRange&&i.startRange<k&&k<i.endRange,M={day:x-s+1,month:t,year:e,isSelected:C,isToday:A,isDisabled:i.minDate&&k<i.minDate||i.maxDate&&k>i.maxDate||i.disableWeekends&&(void 0,0===(y=k.getDay())||6===y)||i.disableDayFn&&i.disableDayFn(k),isEmpty:T,isStartRange:P,isEndRange:D,isInRange:E};l.push(v(M)),7==++S&&(i.showWeekNumber&&l.unshift((d=x-s,f=t,m=e,g=void 0,g=new Date(m,0,1),'<td class="pika-week">'+Math.ceil(((new Date(m,f,d)-g)/864e5+g.getDay()+1)/7)+"</td>")),a.push((c=l,"<tr>"+(i.isRTL?c.reverse():c).join("")+"</tr>")),l=[],S=0)}return w(i,a)},isVisible:function(){return this._v},show:function(){var e,t,n;this._v||(e=this.el,t="is-hidden",e.className=(n=(" "+e.className+" ").replace(" "+t+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,""),this._v=!0,this.draw(),this._o.bound&&(o(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e,t,n=this._v;!1!==n&&(this._o.bound&&s(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",e=this.el,l(e,t="is-hidden")||(e.className=""===e.className?t:e.className+" "+t),this._v=!1,void 0!==n&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"touchend",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},b}),function(e,t){"function"==typeof define?define("pikaday-responsive",["exports"],function(e){return e.default=t()}):"object"==typeof module?module.exports=t():e.pikadayResponsive=t()}(this,function(){if(moment)if(jQuery){if(Pikaday){var e={format:"YYYY-MM-DD",outputFormat:"YYYY-MM-DD",checkIfNativeDate:function(){return Modernizr.inputtypes.date&&Modernizr.touchevents&&-1===navigator.appVersion.indexOf("Win")},classes:"",placeholder:"Select a date",pikadayOptions:{},dayOffset:0};return function(t,n){var i,r,o,s=$(t),a=$.extend({},e,n),l={pikaday:null,value:null,date:null,element:s[0]};if(!s.length||"INPUT"!==s[0].tagName)return console.error("pikadayResponsive expects an input-field as its first element.",s[0]),!1;s.attr("type","hidden"),s.wrap("<span class='pikaday__container'></span>"),i=s.parent(".pikaday__container");var c=s.attr("id");if(a.checkIfNativeDate())r=$("<input type='date' class='pikaday__invisible' placeholder='"+a.placeholder+"'/>"),c&&r.attr("id",c+"-input"),i.append(r),o=$("<input type='text' readonly='readonly' class='pikaday__display pikaday__display--native "+a.classes+"' placeholder='"+a.placeholder+"' />"),i.append(o),r.on("change",function(){var e=$(this).val();o.removeClass("is-empty"),e?(l.date=moment(e,"YYYY-MM-DD"),l.value=l.date.format(a.outputFormat)):(l.date=null,l.value=null,o.addClass("is-empty")),1*l.value===parseInt(l.value,10)&&(l.value*=1),s.val(l.value),l.date?o.val(l.date.format(a.format)):o.val(null),s.trigger("change"),s.trigger("change-date",[l])});else{r=$("<input readonly='true' type='text' class='pikaday__display pikaday__display--pikaday "+a.classes+"' placeholder='"+a.placeholder+"' />"),c&&r.attr("id",c+"-input"),i.append(r);var u=!1;l.pikaday=new Pikaday($.extend({},a.pikadayOptions,{field:r[0],format:a.format})),r.on("change",function(){if(!u){u=!0,window.setTimeout(function(){u=!1},10);var e=$(this).val();r.removeClass("is-empty"),e?(l.date=moment(e,a.format),l.date.add(a.dayOffset,"day"),l.value=l.date.format(a.outputFormat),$(this).val(l.date.format(a.format))):(l.date=null,l.value=null,r.addClass("is-empty")),1*l.value===parseInt(l.value,10)&&(l.value*=1),s.val(l.value),setTimeout(function(){s.trigger("change"),s.trigger("change-date",[l])},1)}})}var h=function(e,t){return e?("object"==typeof e&&"function"!=typeof e.format&&(e=moment(e)),"string"==typeof e&&(void 0!==t&&t||(t=a.outputFormat),e=moment(e,t)),"number"==typeof e&&(e=moment(e)),l.pikaday?l.pikaday.setMoment(e):(r.val(e.format("YYYY-MM-DD")),r.trigger("change")),e):(l.pikaday?l.pikaday.setDate(null):(r.val(null),r.trigger("change")),null)};return s.val()&&h(s.val()),l.setDate=h,l}}console.error("You need to load pikaday in order to use pikaday-responsive.")}else console.error("You need to load jQuery in order to use pikaday-responsive.");else console.error("You need to load moment.js in order to use pikaday-responsive.")}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(e,t,n,i){var r={features:null,bind:function(e,t,n,i){var r=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var o=0;o<t.length;o++)t[o]&&e[r](t[o],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){r.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){r.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(r.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(r.features)return r.features;var e=r.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10))>=1&&o<8&&(n.isOldIOSPhone=!0)}var s=i.match(/Android\s([0-9\.]*)/),a=s?s[1]:0;(a=parseFloat(a))>=1&&(a<4.4&&(n.isOldAndroid=!0),n.androidVersion=a),n.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var l,c,u=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],p=0;p<4;p++){t=h[p];for(var d=0;d<3;d++)l=u[d],c=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!n[l]&&c in e&&(n[l]=c);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var f=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-f)),i=window.setTimeout(function(){e(t+n)},n);return f=t+n,i},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r.features=n,n}};r.detectFeatures(),r.features.oldIE&&(r.bind=function(e,t,n,i){t=t.split(" ");for(var r,o=(i?"detach":"attach")+"Event",s=function(){n.handleEvent.call(n)},a=0;a<t.length;a++)if(r=t[a])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+r])return!1}else n["oldIE"+r]=s;e[o]("on"+r,n["oldIE"+r])}else e[o]("on"+r,n)});var o=this,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};r.extend(s,i);var a,l,c,u,h,p,d,f,m,g,v,y,w,b,_,x,S,k,C,A,T,P,D,E,M,I,O,R,N,L,j,H,U,F,B,W,$,Y,z,q,G,V,Q,Z,X,K,J,ee,te,ne,ie,re,oe,se,ae,le,ce={x:0,y:0},ue={x:0,y:0},he={x:0,y:0},pe={},de=0,fe={},me={x:0,y:0},ge=0,ve=!0,ye=[],we={},be=!1,_e=function(e,t){r.extend(o,t.publicMethods),ye.push(e)},xe=function(e){var t=Bt();return e>t-1?e-t:e<0?t+e:e},Se={},ke=function(e,t){return Se[e]||(Se[e]=[]),Se[e].push(t)},Ce=function(e){var t=Se[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(o,n)}},Ae=function(){return(new Date).getTime()},Te=function(e){se=e,o.bg.style.opacity=e*s.bgOpacity},Pe=function(e,t,n,i,r){(!be||r&&r!==o.currItem)&&(i/=r?r.fitRatio:o.currItem.fitRatio),e[P]=y+t+"px, "+n+"px"+w+" scale("+i+")"},De=function(e){te&&(e&&(g>o.currItem.fitRatio?be||(Zt(o.currItem,!1,!0),be=!0):be&&(Zt(o.currItem),be=!1)),Pe(te,he.x,he.y,g))},Ee=function(e){e.container&&Pe(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Me=function(e,t){t[P]=y+e+"px, 0px"+w},Ie=function(e,t){if(!s.loop&&t){var n=u+(me.x*de-e)/me.x,i=Math.round(e-ut.x);(n<0&&i>0||n>=Bt()-1&&i<0)&&(e=ut.x+i*s.mainScrollEndFriction)}ut.x=e,Me(e,h)},Oe=function(e,t){var n=ht[e]-fe[e];return ue[e]+ce[e]+n-n*(t/v)},Re=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Ne=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Le=null,je=function(){Le&&(r.unbind(document,"mousemove",je),r.addClass(e,"pswp--has_mouse"),s.mouseUsed=!0,Ce("mouseUsed")),Le=setTimeout(function(){Le=null},100)},He=function(e,t){var n=qt(o.currItem,pe,e);return t&&(ee=n),n},Ue=function(e){return e||(e=o.currItem),e.initialZoomLevel},Fe=function(e){return e||(e=o.currItem),e.w>0?s.maxSpreadZoom:1},Be=function(e,t,n,i){return i===o.currItem.initialZoomLevel?(n[e]=o.currItem.initialPosition[e],!0):(n[e]=Oe(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},We=function(e){var t="";s.escKey&&27===e.keyCode?t="close":s.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,o[t]()))},$e=function(e){e&&(V||G||ne||$)&&(e.preventDefault(),e.stopPropagation())},Ye=function(){o.setScrollOffset(0,r.getScrollY())},ze={},qe=0,Ge=function(e){ze[e]&&(ze[e].raf&&I(ze[e].raf),qe--,delete ze[e])},Ve=function(e){ze[e]&&Ge(e),ze[e]||(qe++,ze[e]={})},Qe=function(){for(var e in ze)ze.hasOwnProperty(e)&&Ge(e)},Ze=function(e,t,n,i,r,o,s){var a,l=Ae();Ve(e);var c=function(){if(ze[e]){if((a=Ae()-l)>=i)return Ge(e),o(n),void(s&&s());o((n-t)*r(a/i)+t),ze[e].raf=M(c)}};c()},Xe={shout:Ce,listen:ke,viewportSize:pe,options:s,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return g},getCurrentIndex:function(){return u},isDragging:function(){return z},isZooming:function(){return K},setScrollOffset:function(e,t){fe.x=e,L=fe.y=t,Ce("updateScrollOffset",fe)},applyZoomPan:function(e,t,n,i){he.x=t,he.y=n,g=e,De(i)},init:function(){if(!a&&!l){var n;o.framework=r,o.template=e,o.bg=r.getChildByClass(e,"pswp__bg"),O=e.className,a=!0,j=r.detectFeatures(),M=j.raf,I=j.caf,P=j.transform,N=j.oldIE,o.scrollWrap=r.getChildByClass(e,"pswp__scroll-wrap"),o.container=r.getChildByClass(o.scrollWrap,"pswp__container"),h=o.container.style,o.itemHolders=x=[{el:o.container.children[0],wrap:0,index:-1},{el:o.container.children[1],wrap:0,index:-1},{el:o.container.children[2],wrap:0,index:-1}],x[0].el.style.display=x[2].el.style.display="none",function(){if(P){var t=j.perspective&&!E;return y="translate"+(t?"3d(":"("),void(w=j.perspective?", 0px)":")")}P="left",r.addClass(e,"pswp--ie"),Me=function(e,t){t.left=e+"px"},Ee=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,r=t*e.h;n.width=i+"px",n.height=r+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},De=function(){if(te){var e=te,t=o.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,r=n*t.h;e.width=i+"px",e.height=r+"px",e.left=he.x+"px",e.top=he.y+"px"}}}(),m={resize:o.updateSize,orientationchange:function(){clearTimeout(H),H=setTimeout(function(){pe.x!==o.scrollWrap.clientWidth&&o.updateSize()},500)},scroll:Ye,keydown:We,click:$e};var i=j.isOldIOSPhone||j.isOldAndroid||j.isMobileOpera;for(j.animationName&&j.transform&&!i||(s.showAnimationDuration=s.hideAnimationDuration=0),n=0;n<ye.length;n++)o["init"+ye[n]]();t&&(o.ui=new t(o,r)).init(),Ce("firstUpdate"),u=u||s.index||0,(isNaN(u)||u<0||u>=Bt())&&(u=0),o.currItem=Ft(u),(j.isOldIOSPhone||j.isOldAndroid)&&(ve=!1),e.setAttribute("aria-hidden","false"),s.modal&&(ve?e.style.position="fixed":(e.style.position="absolute",e.style.top=r.getScrollY()+"px")),void 0===L&&(Ce("initialLayout"),L=R=r.getScrollY());var c="pswp--open ";for(s.mainClass&&(c+=s.mainClass+" "),s.showHideOpacity&&(c+="pswp--animate_opacity "),c+=E?"pswp--touch":"pswp--notouch",c+=j.animationName?" pswp--css_animation":"",c+=j.svg?" pswp--svg":"",r.addClass(e,c),o.updateSize(),p=-1,ge=null,n=0;n<3;n++)Me((n+p)*me.x,x[n].el.style);N||r.bind(o.scrollWrap,f,o),ke("initialZoomInEnd",function(){o.setContent(x[0],u-1),o.setContent(x[2],u+1),x[0].el.style.display=x[2].el.style.display="block",s.focus&&e.focus(),r.bind(document,"keydown",o),j.transform&&r.bind(o.scrollWrap,"click",o),s.mouseUsed||r.bind(document,"mousemove",je),r.bind(window,"resize scroll orientationchange",o),Ce("bindEvents")}),o.setContent(x[1],u),o.updateCurrItem(),Ce("afterInit"),ve||(b=setInterval(function(){qe||z||K||g!==o.currItem.initialZoomLevel||o.updateSize()},1e3)),r.addClass(e,"pswp--visible")}},close:function(){a&&(a=!1,l=!0,Ce("close"),r.unbind(window,"resize scroll orientationchange",o),r.unbind(window,"scroll",m.scroll),r.unbind(document,"keydown",o),r.unbind(document,"mousemove",je),j.transform&&r.unbind(o.scrollWrap,"click",o),z&&r.unbind(window,d,o),clearTimeout(H),Ce("unbindEvents"),Wt(o.currItem,null,!0,o.destroy))},destroy:function(){Ce("destroy"),Lt&&clearTimeout(Lt),e.setAttribute("aria-hidden","true"),e.className=O,b&&clearInterval(b),r.unbind(o.scrollWrap,f,o),r.unbind(window,"scroll",o),ft(),Qe(),Se=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),he.x=e,he.y=t,De()},handleEvent:function(e){e=e||window.event,m[e.type]&&m[e.type](e)},goTo:function(e){var t=(e=xe(e))-u;ge=t,u=e,o.currItem=Ft(u),de-=t,Ie(me.x*de),Qe(),ne=!1,o.updateCurrItem()},next:function(){o.goTo(u+1)},prev:function(){o.goTo(u-1)},updateCurrZoomItem:function(e){if(e&&Ce("beforeChange",0),x[1].el.children.length){var t=x[1].el.children[0];te=r.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=o.currItem.bounds,v=g=o.currItem.initialZoomLevel,he.x=ee.center.x,he.y=ee.center.y,e&&Ce("afterChange")},invalidateCurrItems:function(){_=!0;for(var e=0;e<3;e++)x[e].item&&(x[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){o.currItem=Ft(u),be=!1,Ce("beforeChange",ge),n>=3&&(p+=ge+(ge>0?-3:3),n=3);for(var i=0;i<n;i++)ge>0?(t=x.shift(),x[2]=t,Me((++p+2)*me.x,t.el.style),o.setContent(t,u-n+i+1+1)):(t=x.pop(),x.unshift(t),Me(--p*me.x,t.el.style),o.setContent(t,u+n-i-1-1));if(te&&1===Math.abs(ge)){var r=Ft(S);r.initialZoomLevel!==g&&(qt(r,pe),Zt(r),Ee(r))}ge=0,o.updateCurrZoomItem(),S=u,Ce("afterChange")}}},updateSize:function(t){if(!ve&&s.modal){var n=r.getScrollY();if(L!==n&&(e.style.top=n+"px",L=n),!t&&we.x===window.innerWidth&&we.y===window.innerHeight)return;we.x=window.innerWidth,we.y=window.innerHeight,e.style.height=we.y+"px"}if(pe.x=o.scrollWrap.clientWidth,pe.y=o.scrollWrap.clientHeight,Ye(),me.x=pe.x+Math.round(pe.x*s.spacing),me.y=pe.y,Ie(me.x*de),Ce("beforeResize"),void 0!==p){for(var i,a,l,c=0;c<3;c++)i=x[c],Me((c+p)*me.x,i.el.style),l=u+c-1,s.loop&&Bt()>2&&(l=xe(l)),(a=Ft(l))&&(_||a.needsUpdate||!a.bounds)?(o.cleanSlide(a),o.setContent(i,l),1===c&&(o.currItem=a,o.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===i.index&&l>=0&&o.setContent(i,l),a&&a.container&&(qt(a,pe),Zt(a),Ee(a));_=!1}v=g=o.currItem.initialZoomLevel,(ee=o.currItem.bounds)&&(he.x=ee.center.x,he.y=ee.center.y,De(!0)),Ce("resize")},zoomTo:function(e,t,n,i,o){t&&(v=g,ht.x=Math.abs(t.x)-he.x,ht.y=Math.abs(t.y)-he.y,Re(ue,he));var s=He(e,!1),a={};Be("x",s,a,e),Be("y",s,a,e);var l=g,c=he.x,u=he.y;Ne(a);var h=function(t){1===t?(g=e,he.x=a.x,he.y=a.y):(g=(e-l)*t+l,he.x=(a.x-c)*t+c,he.y=(a.y-u)*t+u),o&&o(t),De(1===t)};n?Ze("customZoomTo",0,1,n,i||r.easing.sine.inOut,h):h(1)}},Ke={},Je={},et={},tt={},nt={},it=[],rt={},ot=[],st={},at=0,lt={x:0,y:0},ct=0,ut={x:0,y:0},ht={x:0,y:0},pt={x:0,y:0},dt=function(e,t){return st.x=Math.abs(e.x-t.x),st.y=Math.abs(e.y-t.y),Math.sqrt(st.x*st.x+st.y*st.y)},ft=function(){Q&&(I(Q),Q=null)},mt=function(){z&&(Q=M(mt),Dt())},gt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:gt(e.parentNode,t))},vt={},yt=function(e,t){return vt.prevent=!gt(e.target,s.isClickableElement),Ce("preventDragEvent",e,t,vt),vt.prevent},wt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},bt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},_t=function(){var e=he.y-o.currItem.initialPosition.y;return 1-Math.abs(e/(pe.y/2))},xt={},St={},kt=[],Ct=function(e){for(;kt.length>0;)kt.pop();return D?(le=0,it.forEach(function(e){0===le?kt[0]=e:1===le&&(kt[1]=e),le++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(kt[0]=wt(e.touches[0],xt),e.touches.length>1&&(kt[1]=wt(e.touches[1],St))):(xt.x=e.pageX,xt.y=e.pageY,xt.id="",kt[0]=xt),kt},At=function(e,t){var n,i,r,a,l=he[e]+t[e],c=t[e]>0,u=ut.x+t.x,h=ut.x-rt.x;if(n=l>ee.min[e]||l<ee.max[e]?s.panEndFriction:1,l=he[e]+t[e]*n,(s.allowPanToNext||g===o.currItem.initialZoomLevel)&&(te?"h"!==ie||"x"!==e||G||(c?(l>ee.min[e]&&(n=s.panEndFriction,ee.min[e],i=ee.min[e]-ue[e]),(i<=0||h<0)&&Bt()>1?(a=u,h<0&&u>rt.x&&(a=rt.x)):ee.min.x!==ee.max.x&&(r=l)):(l<ee.max[e]&&(n=s.panEndFriction,ee.max[e],i=ue[e]-ee.max[e]),(i<=0||h>0)&&Bt()>1?(a=u,h>0&&u<rt.x&&(a=rt.x)):ee.min.x!==ee.max.x&&(r=l))):a=u,"x"===e))return void 0!==a&&(Ie(a,!0),Z=a!==rt.x),ee.min.x!==ee.max.x&&(void 0!==r?he.x=r:Z||(he.x+=t.x*n)),void 0!==a;ne||Z||g>o.currItem.fitRatio&&(he[e]+=t[e]*n)},Tt=function(e){if(!("mousedown"===e.type&&e.button>0))if(Ut)e.preventDefault();else if(!Y||"mousedown"!==e.type){if(yt(e,!0)&&e.preventDefault(),Ce("pointerDown"),D){var t=r.arraySearch(it,e.pointerId,"id");t<0&&(t=it.length),it[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Ct(e),i=n.length;X=null,Qe(),z&&1!==i||(z=re=!0,r.bind(window,d,o),W=ae=oe=$=Z=V=q=G=!1,ie=null,Ce("firstTouchStart",n),Re(ue,he),ce.x=ce.y=0,Re(tt,n[0]),Re(nt,tt),rt.x=me.x*de,ot=[{x:tt.x,y:tt.y}],F=U=Ae(),He(g,!0),ft(),mt()),!K&&i>1&&!ne&&!Z&&(v=g,G=!1,K=q=!0,ce.y=ce.x=0,Re(ue,he),Re(Ke,n[0]),Re(Je,n[1]),bt(Ke,Je,pt),ht.x=Math.abs(pt.x)-he.x,ht.y=Math.abs(pt.y)-he.y,J=dt(Ke,Je))}},Pt=function(e){if(e.preventDefault(),D){var t=r.arraySearch(it,e.pointerId,"id");if(t>-1){var n=it[t];n.x=e.pageX,n.y=e.pageY}}if(z){var i=Ct(e);if(ie||V||K)X=i;else if(ut.x!==me.x*de)ie="h";else{var o=Math.abs(i[0].x-tt.x)-Math.abs(i[0].y-tt.y);Math.abs(o)>=10&&(ie=o>0?"h":"v",X=i)}}},Dt=function(){if(X){var e,t,n=X.length;if(0!==n)if(Re(Ke,X[0]),et.x=Ke.x-tt.x,et.y=Ke.y-tt.y,K&&n>1){if(tt.x=Ke.x,tt.y=Ke.y,!et.x&&!et.y&&(e=X[1],t=Je,e.x===t.x&&e.y===t.y))return;Re(Je,X[1]),G||(G=!0,Ce("zoomGestureStarted"));var i=dt(Ke,Je),r=Rt(i);r>o.currItem.initialZoomLevel+o.currItem.initialZoomLevel/15&&(ae=!0);var a=1,l=Ue(),c=Fe();if(r<l)if(s.pinchToClose&&!ae&&v<=o.currItem.initialZoomLevel){var u=1-(l-r)/(l/1.2);Te(u),Ce("onPinchClose",u),oe=!0}else(a=(l-r)/l)>1&&(a=1),r=l-a*(l/3);else r>c&&((a=(r-c)/(6*l))>1&&(a=1),r=c+a*l);a<0&&(a=0),bt(Ke,Je,lt),ce.x+=lt.x-pt.x,ce.y+=lt.y-pt.y,Re(pt,lt),he.x=Oe("x",r),he.y=Oe("y",r),W=r>g,g=r,De()}else{if(!ie)return;if(re&&(re=!1,Math.abs(et.x)>=10&&(et.x-=X[0].x-nt.x),Math.abs(et.y)>=10&&(et.y-=X[0].y-nt.y)),tt.x=Ke.x,tt.y=Ke.y,0===et.x&&0===et.y)return;if("v"===ie&&s.closeOnVerticalDrag&&"fit"===s.scaleMode&&g===o.currItem.initialZoomLevel){ce.y+=et.y,he.y+=et.y;var h=_t();return $=!0,Ce("onVerticalDrag",h),Te(h),void De()}!function(e,t,n){if(e-F>50){var i=ot.length>2?ot.shift():{};i.x=t,i.y=n,ot.push(i),F=e}}(Ae(),Ke.x,Ke.y),V=!0,ee=o.currItem.bounds,At("x",et)||(At("y",et),Ne(he),De())}}},Et=function(e){if(j.isOldAndroid){if(Y&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(Y),Y=setTimeout(function(){Y=0},600))}var t;if(Ce("pointerUp"),yt(e,!1)&&e.preventDefault(),D){var n=r.arraySearch(it,e.pointerId,"id");n>-1&&(t=it.splice(n,1)[0],navigator.pointerEnabled?t.type=e.pointerType||"mouse":(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")))}var i,a=Ct(e),l=a.length;if("mouseup"===e.type&&(l=0),2===l)return X=null,!0;1===l&&Re(nt,a[0]),0!==l||ie||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Ce("touchRelease",e,t));var c=-1;if(0===l&&(z=!1,r.unbind(window,d,o),ft(),K?c=0:-1!==ct&&(c=Ae()-ct)),ct=1===l?Ae():-1,i=-1!==c&&c<150?"zoom":"swipe",K&&l<2&&(K=!1,1===l&&(i="zoomPointerUp"),Ce("zoomGestureEnded")),X=null,V||G||ne||$)if(Qe(),B||(B=Mt()),B.calculateSwipeSpeed("x"),$)if(_t()<s.verticalDragRange)o.close();else{var u=he.y,h=se;Ze("verticalDrag",0,1,300,r.easing.cubic.out,function(e){he.y=(o.currItem.initialPosition.y-u)*e+u,Te((1-h)*e+h),De()}),Ce("onVerticalDrag",1)}else{if((Z||ne)&&0===l){if(Ot(i,B))return;i="zoomPointerUp"}ne||("swipe"===i?!Z&&g>o.currItem.fitRatio&&It(B):Nt())}},Mt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){ot.length>1?(e=Ae()-F+50,t=ot[ot.length-2][i]):(e=Ae()-U,t=nt[i]),n.lastFlickOffset[i]=tt[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(he[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:he[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Ze("bounceZoomPan"+e,he[e],n.backAnimDestination[e],t||300,r.easing.sine.out,function(t){he[e]=t,De()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,he[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(ze.zoomPan&&(ze.zoomPan.raf=M(n.panAnimLoop),n.now=Ae(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),De(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return he.x=Math.round(he.x),he.y=Math.round(he.y),De(),void Ge("zoomPan")}};return n},It=function(e){if(e.calculateSwipeSpeed("y"),ee=o.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Ve("zoomPan"),e.lastNow=Ae(),e.panAnimLoop()},Ot=function(e,t){var n,i,a;if(ne||(at=u),"swipe"===e){var l=tt.x-nt.x,c=t.lastFlickDist.x<10;l>30&&(c||t.lastFlickOffset.x>20)?i=-1:l<-30&&(c||t.lastFlickOffset.x<-20)&&(i=1)}i&&((u+=i)<0?(u=s.loop?Bt()-1:0,a=!0):u>=Bt()&&(u=s.loop?0:Bt()-1,a=!0),a&&!s.loop||(ge+=i,de-=i,n=!0));var h,p=me.x*de,d=Math.abs(p-ut.x);return n||p>ut.x==t.lastFlickSpeed.x>0?(h=Math.abs(t.lastFlickSpeed.x)>0?d/Math.abs(t.lastFlickSpeed.x):333,h=Math.min(h,400),h=Math.max(h,250)):h=333,at===u&&(n=!1),ne=!0,Ce("mainScrollAnimStart"),Ze("mainScroll",ut.x,p,h,r.easing.cubic.out,Ie,function(){Qe(),ne=!1,at=-1,(n||at!==u)&&o.updateCurrItem(),Ce("mainScrollAnimComplete")}),n&&o.updateCurrItem(!0),n},Rt=function(e){return 1/J*e*v},Nt=function(){var e=g,t=Ue(),n=Fe();g<t?e=t:g>n&&(e=n);var i,s=se;return oe&&!W&&!ae&&g<t?(o.close(),!0):(oe&&(i=function(e){Te((1-s)*e+s)}),o.zoomTo(e,0,200,r.easing.cubic.out,i),!0)};_e("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,r){k=e+t,C=e+n,A=e+i,T=r?e+r:""};(D=j.pointerEvent)&&j.touch&&(j.touch=!1),D?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):j.touch?(e("touch","start","move","end","cancel"),E=!0):e("mouse","down","move","up"),d=C+" "+A+" "+T,f=k,D&&!E&&(E=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),o.likelyTouchDevice=E,m[k]=Tt,m[C]=Pt,m[A]=Et,T&&(m[T]=m[A]),j.touch&&(f+=" mousedown",d+=" mousemove mouseup",m.mousedown=m[k],m.mousemove=m[C],m.mouseup=m[A]),E||(s.allowPanToNext=!1)}}});var Lt,jt,Ht,Ut,Ft,Bt,Wt=function(t,n,i,a){var l;Lt&&clearTimeout(Lt),Ut=!0,Ht=!0,t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=s.getThumbBoundsFn&&s.getThumbBoundsFn(u);var h,p,d=i?s.hideAnimationDuration:s.showAnimationDuration,f=function(){Ge("initialZoom"),i?(o.template.removeAttribute("style"),o.bg.removeAttribute("style")):(Te(1),n&&(n.style.display="block"),r.addClass(e,"pswp--animated-in"),Ce("initialZoom"+(i?"OutEnd":"InEnd"))),a&&a(),Ut=!1};if(!d||!l||void 0===l.x)return Ce("initialZoom"+(i?"Out":"In")),g=t.initialZoomLevel,Re(he,t.initialPosition),De(),e.style.opacity=i?0:1,Te(1),void(d?setTimeout(function(){f()},d):f());h=c,p=!o.currItem.src||o.currItem.loadError||s.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(g=l.w/t.w,he.x=l.x,he.y=l.y-R,o[p?"template":"bg"].style.opacity=.001,De()),Ve("initialZoom"),i&&!h&&r.removeClass(e,"pswp--animated-in"),p&&(i?r[(h?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){r.addClass(e,"pswp--animate_opacity")},30)),Lt=setTimeout(function(){if(Ce("initialZoom"+(i?"Out":"In")),i){var n=l.w/t.w,o=he.x,s=he.y,a=g,c=se,u=function(t){1===t?(g=n,he.x=l.x,he.y=l.y-L):(g=(n-a)*t+a,he.x=(l.x-o)*t+o,he.y=(l.y-L-s)*t+s),De(),p?e.style.opacity=1-t:Te(c-t*c)};h?Ze("initialZoom",0,1,d,r.easing.cubic.out,u,f):(u(1),Lt=setTimeout(f,d+20))}else g=t.initialZoomLevel,Re(he,t.initialPosition),De(),Te(1),p?e.style.opacity=1:Te(1),Lt=setTimeout(f,d+20)},i?25:90)},$t={},Yt=[],zt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return jt.length}},qt=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),Ce("parseVerticalMargin",e)),$t.x=t.x,$t.y=t.y-e.vGap.top-e.vGap.bottom,i){var r=$t.x/e.w,o=$t.y/e.h;e.fitRatio=r<o?r:o;var a=s.scaleMode;"orig"===a?n=1:"fit"===a&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return l=e,c=e.w*n,u=e.h*n,(h=l.bounds).center.x=Math.round(($t.x-c)/2),h.center.y=Math.round(($t.y-u)/2)+l.vGap.top,h.max.x=c>$t.x?Math.round($t.x-c):h.center.x,h.max.y=u>$t.y?Math.round($t.y-u)+l.vGap.top:h.center.y,h.min.x=c>$t.x?0:h.center.x,h.min.y=u>$t.y?l.vGap.top:h.center.y,i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds;var l,c,u,h},Gt=function(e,t,n,i,r,s){t.loadError||i&&(t.imageAppended=!0,Zt(t,i,t===o.currItem&&be),n.appendChild(i),s&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},Vt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=r.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Qt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=s.errorMsg.replace("%url%",e.src),!0},Zt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),r=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=r+"px"),t.style.width=i+"px",t.style.height=r+"px"}},Xt=function(){if(Yt.length){for(var e,t=0;t<Yt.length;t++)(e=Yt[t]).holder.index===e.index&&Gt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Yt=[]}};_e("Controller",{publicMethods:{lazyLoadItem:function(e){e=xe(e);var t=Ft(e);t&&(!t.loaded&&!t.loading||_)&&(Ce("gettingData",e,t),t.src&&Vt(t))},initController:function(){r.extend(s,zt,!0),o.items=jt=n,Ft=o.getItemAt,Bt=s.getNumItemsFn,s.loop,Bt()<3&&(s.loop=!1),ke("beforeChange",function(e){var t,n=s.preload,i=null===e||e>=0,r=Math.min(n[0],Bt()),a=Math.min(n[1],Bt());for(t=1;t<=(i?a:r);t++)o.lazyLoadItem(u+t);for(t=1;t<=(i?r:a);t++)o.lazyLoadItem(u-t)}),ke("initialLayout",function(){o.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(u)}),ke("mainScrollAnimComplete",Xt),ke("initialZoomInEnd",Xt),ke("destroy",function(){for(var e,t=0;t<jt.length;t++)(e=jt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Yt=null})},getItemAt:function(e){return e>=0&&void 0!==jt[e]&&jt[e]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!E||s.mouseUsed||screen.width>1200},setContent:function(e,t){s.loop&&(t=xe(t));var n=o.getItemAt(e.index);n&&(n.container=null);var i,l=o.getItemAt(t);if(l){Ce("gettingData",t,l),e.index=t,e.item=l;var c=l.container=r.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?c.appendChild(l.html):c.innerHTML=l.html),Qt(l),qt(l,pe),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((i=r.createEl("pswp__img","img")).style.opacity=1,i.src=l.src,Zt(l,i),Gt(0,l,c,i));else{if(l.loadComplete=function(n){if(a){if(e&&e.index===t){if(Qt(n,!0))return n.loadComplete=n.img=null,qt(n,pe),Ee(n),void(e.index===u&&o.updateCurrZoomItem());n.imageAppended?!Ut&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):j.transform&&(ne||Ut)?Yt.push({item:n,baseDiv:c,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Gt(0,n,c,n.img,0,!0)}n.loadComplete=null,n.img=null,Ce("imageLoadComplete",t,n)}},r.features.transform){var h="pswp__img pswp__img--placeholder";h+=l.msrc?"":" pswp__img--placeholder--blank";var p=r.createEl(h,l.msrc?"img":"");l.msrc&&(p.src=l.msrc),Zt(l,p),c.appendChild(p),l.placeholder=p}l.loading||Vt(l),o.allowProgressiveImg()&&(!Ht&&j.transform?Yt.push({item:l,baseDiv:c,img:l.img,index:t,holder:e}):Gt(0,l,c,l.img,0,!0))}Ht||t!==u?Ee(l):(te=c.style,Wt(l,i||l.img)),e.el.innerHTML="",e.el.appendChild(c)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Kt,Jt,en={},tn=function(e,t,n){var i=document.createEvent("CustomEvent"),r={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,r),e.target.dispatchEvent(i)};_e("Tap",{publicMethods:{initTap:function(){ke("firstTouchStart",o.onTapStart),ke("touchRelease",o.onTapRelease),ke("destroy",function(){en={},Kt=null})},onTapStart:function(e){e.length>1&&(clearTimeout(Kt),Kt=null)},onTapRelease:function(e,t){var n,i;if(t&&!V&&!q&&!qe){var o=t;if(Kt&&(clearTimeout(Kt),Kt=null,n=o,i=en,Math.abs(n.x-i.x)<25&&Math.abs(n.y-i.y)<25))return void Ce("doubleTap",o);if("mouse"===t.type)return void tn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||r.hasClass(e.target,"pswp__single-tap"))return void tn(e,t);Re(en,o),Kt=setTimeout(function(){tn(e,t),Kt=null},300)}}}}),_e("DesktopZoom",{publicMethods:{initDesktopZoom:function(){N||(E?ke("mouseUsed",function(){o.setupDesktopZoom()}):o.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Jt={};var n="wheel mousewheel DOMMouseScroll";ke("bindEvents",function(){r.bind(e,n,o.handleMouseWheel)}),ke("unbindEvents",function(){Jt&&r.unbind(e,n,o.handleMouseWheel)}),o.mouseZoomedIn=!1;var i,s=function(){o.mouseZoomedIn&&(r.removeClass(e,"pswp--zoomed-in"),o.mouseZoomedIn=!1),g<1?r.addClass(e,"pswp--zoom-allowed"):r.removeClass(e,"pswp--zoom-allowed"),a()},a=function(){i&&(r.removeClass(e,"pswp--dragging"),i=!1)};ke("resize",s),ke("afterChange",s),ke("pointerDown",function(){o.mouseZoomedIn&&(i=!0,r.addClass(e,"pswp--dragging"))}),ke("pointerUp",a),t||s()},handleMouseWheel:function(e){if(g<=o.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||qe||z?e.preventDefault():P&&Math.abs(e.deltaY)>2&&(c=!0,o.close())),!0;if(e.stopPropagation(),Jt.x=0,"deltaX"in e)1===e.deltaMode?(Jt.x=18*e.deltaX,Jt.y=18*e.deltaY):(Jt.x=e.deltaX,Jt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Jt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Jt.y=-.16*e.wheelDeltaY:Jt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Jt.y=e.detail}He(g,!0);var t=he.x-Jt.x,n=he.y-Jt.y;(s.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),o.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:pe.x/2+fe.x,y:pe.y/2+fe.y};var n=s.getDoubleTapZoom(!0,o.currItem),i=g===n;o.mouseZoomedIn=!i,o.zoomTo(i?o.currItem.initialZoomLevel:n,t,333),r[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var nn,rn,on,sn,an,ln,cn,un,hn,pn,dn,fn,mn={history:!0,galleryUID:1},gn=function(){return dn.hash.substring(1)},vn=function(){nn&&clearTimeout(nn),on&&clearTimeout(on)},yn=function(){var e=gn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");r.length<2||(t[r[0]]=r[1])}if(s.galleryPIDs){var o=t.pid;for(t.pid=0,n=0;n<jt.length;n++)if(jt[n].pid===o){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},wn=function(){if(on&&clearTimeout(on),qe||z)on=setTimeout(wn,500);else{sn?clearTimeout(rn):sn=!0;var e=u+1,t=Ft(u);t.hasOwnProperty("pid")&&(e=t.pid);var n=cn+"&gid="+s.galleryUID+"&pid="+e;un||-1===dn.hash.indexOf(n)&&(pn=!0);var i=dn.href.split("#")[0]+"#"+n;fn?"#"+n!==window.location.hash&&history[un?"replaceState":"pushState"]("",document.title,i):un?dn.replace(i):dn.hash=n,un=!0,rn=setTimeout(function(){sn=!1},60)}};_e("History",{publicMethods:{initHistory:function(){if(r.extend(s,mn,!0),s.history){dn=window.location,pn=!1,hn=!1,un=!1,cn=gn(),fn="pushState"in history,cn.indexOf("gid=")>-1&&(cn=(cn=cn.split("&gid=")[0]).split("?gid=")[0]),ke("afterChange",o.updateURL),ke("unbindEvents",function(){r.unbind(window,"hashchange",o.onHashChange)});var e=function(){ln=!0,hn||(pn?history.back():cn?dn.hash=cn:fn?history.pushState("",document.title,dn.pathname+dn.search):dn.hash=""),vn()};ke("unbindEvents",function(){c&&e()}),ke("destroy",function(){ln||e()}),ke("firstUpdate",function(){u=yn().pid});var t=cn.indexOf("pid=");t>-1&&"&"===(cn=cn.substring(0,t)).slice(-1)&&(cn=cn.slice(0,-1)),setTimeout(function(){a&&r.bind(window,"hashchange",o.onHashChange)},40)}},onHashChange:function(){if(gn()===cn)return hn=!0,void o.close();sn||(an=!0,o.goTo(yn().pid),an=!1)},updateURL:function(){vn(),an||(un?nn=setTimeout(wn,800):wn())}}}),r.extend(o,Xe)}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(e,t){var n,i,r,o,s,a,l,c,u,h,p,d,f,m,g,v,y,w,b=this,_=!1,x=!0,S=!0,k={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},C=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!u&&R();for(var n,i,r=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<H.length;o++)(n=H[o]).onTap&&r.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),v=!0;var s=t.features.isOldAndroid?600:30;setTimeout(function(){v=!1},s)}},A=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},T=function(){var e=1===g.getNumItemsFn();e!==m&&(A(i,"ui--one-slide",e),m=e)},P=function(){A(l,"share-modal--hidden",S)},D=function(){return(S=!S)?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){S&&P()},300)):(P(),setTimeout(function(){S||t.addClass(l,"pswp__share-modal--fade-in")},30)),S||M(),!1},E=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),S||D(),1))},M=function(){for(var e,t,n,i,r="",o=0;o<g.shareButtons.length;o++)e=g.shareButtons[o],t=g.getImageURLForShare(e),n=g.getPageURLForShare(e),i=g.getTextForShare(e),r+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(r=g.parseShareButtonOut(e,r));l.children[0].innerHTML=r,l.children[0].onclick=E},I=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},O=0,R=function(){clearTimeout(w),O=0,u&&b.setIdle(!1)},N=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(w),w=setTimeout(function(){b.setIdle(!0)},g.timeToIdleOutside))},L=function(e){d!==e&&(A(p,"preloader--active",!e),d=e)},j=function(n){var s=n.vGap;if(!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth){var a=g.barsSize;if(g.captionEl&&"auto"===a.bottom)if(o||((o=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),i.insertBefore(o,r),t.addClass(i,"pswp__ui--fit")),g.addCaptionHTMLFn(n,o,!0)){var l=o.clientHeight;s.bottom=parseInt(l,10)||44}else s.bottom=a.top;else s.bottom="auto"===a.bottom?0:a.bottom;s.top=a.top}else s.top=s.bottom=0},H=[{name:"caption",option:"captionEl",onInit:function(e){r=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){D()}},{name:"button--share",option:"shareEl",onInit:function(e){a=e},onTap:function(){D()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){s=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}];b.init=function(){var s;t.extend(e.options,k,!0),g=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),(h=e.listen)("onVerticalDrag",function(e){x&&e<.95?b.hideControls():!x&&e>=.95&&b.showControls()}),h("onPinchClose",function(e){x&&e<.9?(b.hideControls(),s=!0):s&&!x&&e>.9&&b.showControls()}),h("zoomGestureEnded",function(){(s=!1)&&!x&&b.showControls()}),h("beforeChange",b.update),h("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),h("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),h("bindEvents",function(){t.bind(i,"pswpTap click",C),t.bind(e.scrollWrap,"pswpTap",b.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",b.onMouseOver)}),h("unbindEvents",function(){S||D(),y&&clearInterval(y),t.unbind(document,"mouseout",N),t.unbind(document,"mousemove",R),t.unbind(i,"pswpTap click",C),t.unbind(e.scrollWrap,"pswpTap",b.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",b.onMouseOver),n&&(t.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)}),h("destroy",function(){g.captionEl&&(o&&i.removeChild(o),t.removeClass(r,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),b.setIdle(!1)}),g.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),h("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")}),h("initialZoomOut",function(){t.addClass(i,"pswp__ui--hidden")}),h("parseVerticalMargin",j),function(){var e,n,r,o=function(i){if(i)for(var o=i.length,s=0;s<o;s++){e=i[s],n=e.className;for(var a=0;a<H.length;a++)r=H[a],n.indexOf("pswp__"+r.name)>-1&&(g[r.option]?(t.removeClass(e,"pswp__element--disabled"),r.onInit&&r.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};o(i.children);var s=t.getChildByClass(i,"pswp__top-bar");s&&o(s.children)}(),g.shareEl&&a&&l&&(S=!0),T(),g.timeToIdle&&h("mouseUsed",function(){t.bind(document,"mousemove",R),t.bind(document,"mouseout",N),y=setInterval(function(){2==++O&&b.setIdle(!0)},g.timeToIdle/2)}),g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(t.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),g.preloaderEl&&(L(!0),h("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&L(!1):L(!0)},g.loadingIndicatorDelay)}),h("imageLoadComplete",function(t,n){e.currItem===n&&L(!0)}))},b.setIdle=function(e){u=e,A(i,"ui--idle",e)},b.update=function(){x&&e.currItem?(b.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,r),A(r,"caption--empty",!e.currItem.title)),_=!0):_=!1,S||D(),T()},b.updateFullscreen=function(i){i&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},b.updateIndexIndicator=function(){g.counterEl&&(s.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},b.onGlobalTap=function(n){var i=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(I(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(x?b.hideControls():b.showControls()),g.tapToClose&&(t.hasClass(i,"pswp__img")||I(i)))return void e.close()},b.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;A(i,"ui--over-close",I(t))},b.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),x=!1},b.showControls=function(){x=!0,_||b.update(),t.removeClass(i,"pswp__ui--hidden")},b.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},b.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}}),function(){var e=function(t){return e.utils.extend({},e.plugins,(new e.Storage).init(t))};e.version="0.4.4",e.utils={extend:function(){for(var e="object"==typeof arguments[0]?arguments[0]:{},t=1;t<arguments.length;t++)if(arguments[t]&&"object"==typeof arguments[t])for(var n in arguments[t])e[n]=arguments[t][n];return e},each:function(e,t,n){if(this.isArray(e)){for(var i=0;i<e.length;i++)if(!1===t.call(n,e[i],i))return}else if(e)for(var r in e)if(!1===t.call(n,e[r],r))return},tryEach:function(e,t,n,i){this.each(e,function(e,r){try{return t.call(i,e,r)}catch(t){if(this.isFunction(n))try{n.call(i,e,r,t)}catch(e){}}},this)},registerPlugin:function(t){e.plugins=this.extend(t,e.plugins)},getTypeOf:function(e){return null==e?""+e:Object.prototype.toString.call(e).replace(/^\[object\s(.*)\]$/,function(e,t){return t.toLowerCase()})}};for(var t=["Arguments","Boolean","Function","String","Array","Number","Date","RegExp","Undefined","Null"],n=0;n<t.length;n++)e.utils["is"+t[n]]=function(t){return function(n){return e.utils.getTypeOf(n)===t.toLowerCase()}}(t[n]);e.plugins={},e.options=e.utils.extend({namespace:"b45i1",storages:["local","cookie","session","memory"],expireDays:365},window.Basil?window.Basil.options:{}),e.Storage=function(){var t="b45i1"+(Math.random()+1).toString(36).substring(7),n={},i=function(t){var n=e.utils.getTypeOf(t);return"string"===n&&t||"number"===n||"boolean"===n},r=function(t){return e.utils.isArray(t)?t:e.utils.isString(t)?[t]:[]},o=function(t,n){var r="";return i(n)?r+=n:e.utils.isArray(n)&&(r=(n=e.utils.isFunction(n.filter)?n.filter(i):n).join(".")),r&&i(t)?t+"."+r:r},s=function(e,t){return i(e)?t.replace(new RegExp("^"+e+"."),""):t},a={engine:null,check:function(){try{window[this.engine].setItem(t,!0),window[this.engine].removeItem(t)}catch(e){return!1}return!0},set:function(e,t,n){if(!e)throw Error("invalid key");window[this.engine].setItem(e,t)},get:function(e){return window[this.engine].getItem(e)},remove:function(e){window[this.engine].removeItem(e)},reset:function(e){for(var t,n=0;n<window[this.engine].length;n++)t=window[this.engine].key(n),e&&0!==t.indexOf(e)||(this.remove(t),n--)},keys:function(e){for(var t,n=[],i=0;i<window[this.engine].length;i++)t=window[this.engine].key(i),e&&0!==t.indexOf(e)||n.push(s(e,t));return n}};return n.local=e.utils.extend({},a,{engine:"localStorage"}),n.session=e.utils.extend({},a,{engine:"sessionStorage"}),n.memory={_hash:{},check:function(){return!0},set:function(e,t,n){if(!e)throw Error("invalid key");this._hash[e]=t},get:function(e){return this._hash[e]||null},remove:function(e){delete this._hash[e]},reset:function(e){for(var t in this._hash)e&&0!==t.indexOf(e)||this.remove(t)},keys:function(e){var t=[];for(var n in this._hash)e&&0!==n.indexOf(e)||t.push(s(e,n));return t}},n.cookie={check:function(){if(!navigator.cookieEnabled)return!1;if(window.self!==window.top){var e="thirdparty.check="+Math.round(1e3*Math.random());return document.cookie=e+"; path=/",-1!==document.cookie.indexOf(e)}return!0},set:function(e,t,n){if(!this.check())throw Error("cookies are disabled");if(n=n||{},!e)throw Error("invalid key");var i=encodeURIComponent(e)+"="+encodeURIComponent(t);if(n.expireDays){var r=new Date;r.setTime(r.getTime()+24*n.expireDays*60*60*1e3),i+="; expires="+r.toGMTString()}if(n.domain&&n.domain!==document.domain){var o=n.domain.replace(/^\./,"");if(-1===document.domain.indexOf(o)||o.split(".").length<=1)throw Error("invalid domain");i+="; domain="+n.domain}!0===n.secure&&(i+="; secure"),document.cookie=i+"; path=/"},get:function(e){if(!this.check())throw Error("cookies are disabled");for(var t,n=encodeURIComponent(e),i=document.cookie?document.cookie.split(";"):[],r=i.length-1;r>=0;r--)if(0===(t=i[r].replace(/^\s*/,"")).indexOf(n+"="))return decodeURIComponent(t.substring(n.length+1,t.length));return null},remove:function(e){this.set(e,"",{expireDays:-1});for(var t=document.domain.split("."),n=t.length;n>=0;n--)this.set(e,"",{expireDays:-1,domain:"."+t.slice(-n).join(".")})},reset:function(e){for(var t,n,i=document.cookie?document.cookie.split(";"):[],r=0;r<i.length;r++)n=(t=i[r].replace(/^\s*/,"")).substr(0,t.indexOf("=")),e&&0!==n.indexOf(e)||this.remove(n)},keys:function(e){if(!this.check())throw Error("cookies are disabled");for(var t,n,i=[],r=document.cookie?document.cookie.split(";"):[],o=0;o<r.length;o++)t=r[o].replace(/^\s*/,""),n=decodeURIComponent(t.substr(0,t.indexOf("="))),e&&0!==n.indexOf(e)||i.push(s(e,n));return i}},{init:function(e){return this.setOptions(e),this},setOptions:function(t){this.options=e.utils.extend({},this.options||e.options,t)},support:function(e){return n.hasOwnProperty(e)},check:function(e){return!!this.support(e)&&n[e].check()},set:function(t,i,s){if(s=e.utils.extend({},this.options,s),!(t=o(s.namespace,t)))return!1;var a;i=!0===s.raw?i:(a=i,JSON.stringify(a));var l=null;return e.utils.tryEach(r(s.storages),function(e,r){return n[e].set(t,i,s),l=e,!1},null,this),!!l&&(e.utils.tryEach(r(s.storages),function(e,i){e!==l&&n[e].remove(t)},null,this),!0)},get:function(t,i){if(i=e.utils.extend({},this.options,i),!(t=o(i.namespace,t)))return null;var s=null;return e.utils.tryEach(r(i.storages),function(e,r){if(null!==s)return!1;var o;s=n[e].get(t,i)||null,s=!0===i.raw?s:(o=s)?JSON.parse(o):null},function(e,t,n){s=null},this),s},remove:function(t,i){i=e.utils.extend({},this.options,i),(t=o(i.namespace,t))&&e.utils.tryEach(r(i.storages),function(e){n[e].remove(t)},null,this)},reset:function(t){t=e.utils.extend({},this.options,t),e.utils.tryEach(r(t.storages),function(e){n[e].reset(t.namespace)},null,this)},keys:function(e){e=e||{};var t=[];for(var n in this.keysMap(e))t.push(n);return t},keysMap:function(t){t=e.utils.extend({},this.options,t);var i={};return e.utils.tryEach(r(t.storages),function(r){e.utils.each(n[r].keys(t.namespace),function(t){i[t]=e.utils.isArray(i[t])?i[t]:[],i[t].push(r)},this)},null,this),i}}},e.memory=(new e.Storage).init({storages:"memory",namespace:null,raw:!0}),e.cookie=(new e.Storage).init({storages:"cookie",namespace:null,raw:!0}),e.localStorage=(new e.Storage).init({storages:"local",namespace:null,raw:!0}),e.sessionStorage=(new e.Storage).init({storages:"session",namespace:null,raw:!0}),window.Basil=e,"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports&&(module.exports=e)}(),function(){var e=this,t=e._,n=Array.prototype,i=Object.prototype,r=Function.prototype,o=n.push,s=n.slice,a=i.toString,l=i.hasOwnProperty,c=Array.isArray,u=Object.keys,h=r.bind,p=Object.create,d=function(){},f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports._=f):e._=f,f.VERSION="1.8.3";var m=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},g=function(e,t,n){return null==e?f.identity:f.isFunction(e)?m(e,t,n):f.isObject(e)?f.matcher(e):f.property(e)};f.iteratee=function(e,t){return g(e,t,1/0)};var v=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},y=function(e){if(!f.isObject(e))return{};if(p)return p(e);d.prototype=e;var t=new d;return d.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},b=Math.pow(2,53)-1,_=w("length"),x=function(e){var t=_(e);return"number"==typeof t&&t>=0&&t<=b};function S(e){return function(t,n,i,r){n=m(n,r,4);var o=!x(t)&&f.keys(t),s=(o||t).length,a=e>0?0:s-1;return arguments.length<3&&(i=t[o?o[a]:a],a+=e),function(t,n,i,r,o,s){for(;o>=0&&o<s;o+=e){var a=r?r[o]:o;i=n(i,t[a],a,t)}return i}(t,n,i,o,a,s)}}f.each=f.forEach=function(e,t,n){var i,r;if(t=m(t,n),x(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=f.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},f.map=f.collect=function(e,t,n){t=g(t,n);for(var i=!x(e)&&f.keys(e),r=(i||e).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o},f.reduce=f.foldl=f.inject=S(1),f.reduceRight=f.foldr=S(-1),f.find=f.detect=function(e,t,n){var i;if(void 0!==(i=x(e)?f.findIndex(e,t,n):f.findKey(e,t,n))&&-1!==i)return e[i]},f.filter=f.select=function(e,t,n){var i=[];return t=g(t,n),f.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},f.reject=function(e,t,n){return f.filter(e,f.negate(g(t)),n)},f.every=f.all=function(e,t,n){t=g(t,n);for(var i=!x(e)&&f.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0},f.some=f.any=function(e,t,n){t=g(t,n);for(var i=!x(e)&&f.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1},f.contains=f.includes=f.include=function(e,t,n,i){return x(e)||(e=f.values(e)),("number"!=typeof n||i)&&(n=0),f.indexOf(e,t,n)>=0},f.invoke=function(e,t){var n=s.call(arguments,2),i=f.isFunction(t);return f.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matcher(t))},f.findWhere=function(e,t){return f.find(e,f.matcher(t))},f.max=function(e,t,n){var i,r,o=-1/0,s=-1/0;if(null==t&&null!=e)for(var a=0,l=(e=x(e)?e:f.values(e)).length;a<l;a++)(i=e[a])>o&&(o=i);else t=g(t,n),f.each(e,function(e,n,i){((r=t(e,n,i))>s||r===-1/0&&o===-1/0)&&(o=e,s=r)});return o},f.min=function(e,t,n){var i,r,o=1/0,s=1/0;if(null==t&&null!=e)for(var a=0,l=(e=x(e)?e:f.values(e)).length;a<l;a++)(i=e[a])<o&&(o=i);else t=g(t,n),f.each(e,function(e,n,i){((r=t(e,n,i))<s||r===1/0&&o===1/0)&&(o=e,s=r)});return o},f.shuffle=function(e){for(var t,n=x(e)?e:f.values(e),i=n.length,r=Array(i),o=0;o<i;o++)(t=f.random(0,o))!==o&&(r[o]=r[t]),r[t]=n[o];return r},f.sample=function(e,t,n){return null==t||n?(x(e)||(e=f.values(e)),e[f.random(e.length-1)]):f.shuffle(e).slice(0,Math.max(0,t))},f.sortBy=function(e,t,n){return t=g(t,n),f.pluck(f.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var k=function(e){return function(t,n,i){var r={};return n=g(n,i),f.each(t,function(i,o){var s=n(i,o,t);e(r,i,s)}),r}};f.groupBy=k(function(e,t,n){f.has(e,n)?e[n].push(t):e[n]=[t]}),f.indexBy=k(function(e,t,n){e[n]=t}),f.countBy=k(function(e,t,n){f.has(e,n)?e[n]++:e[n]=1}),f.toArray=function(e){return e?f.isArray(e)?s.call(e):x(e)?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:x(e)?e.length:f.keys(e).length},f.partition=function(e,t,n){t=g(t,n);var i=[],r=[];return f.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},f.first=f.head=f.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:f.initial(e,e.length-t)},f.initial=function(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},f.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:f.rest(e,Math.max(0,e.length-t))},f.rest=f.tail=f.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},f.compact=function(e){return f.filter(e,f.identity)};var C=function(e,t,n,i){for(var r=[],o=0,s=i||0,a=_(e);s<a;s++){var l=e[s];if(x(l)&&(f.isArray(l)||f.isArguments(l))){t||(l=C(l,t,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};function A(e){return function(t,n,i){n=g(n,i);for(var r=_(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function T(e,t,n){return function(i,r,o){var a=0,l=_(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=t(s.call(i,a,l),f.isNaN))>=0?o+a:-1;for(o=e>0?a:l-1;o>=0&&o<l;o+=e)if(i[o]===r)return o;return-1}}f.flatten=function(e,t){return C(e,t,!1)},f.without=function(e){return f.difference(e,s.call(arguments,1))},f.uniq=f.unique=function(e,t,n,i){f.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=g(n,i));for(var r=[],o=[],s=0,a=_(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t?(s&&o===c||r.push(l),o=c):n?f.contains(o,c)||(o.push(c),r.push(l)):f.contains(r,l)||r.push(l)}return r},f.union=function(){return f.uniq(C(arguments,!0,!0))},f.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=_(e);i<r;i++){var o=e[i];if(!f.contains(t,o)){for(var s=1;s<n&&f.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},f.difference=function(e){var t=C(arguments,!0,!0,1);return f.filter(e,function(e){return!f.contains(t,e)})},f.zip=function(){return f.unzip(arguments)},f.unzip=function(e){for(var t=e&&f.max(e,_).length||0,n=Array(t),i=0;i<t;i++)n[i]=f.pluck(e,i);return n},f.object=function(e,t){for(var n={},i=0,r=_(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},f.findIndex=A(1),f.findLastIndex=A(-1),f.sortedIndex=function(e,t,n,i){for(var r=(n=g(n,i,1))(t),o=0,s=_(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o},f.indexOf=T(1,f.findIndex,f.sortedIndex),f.lastIndexOf=T(-1,f.findLastIndex),f.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};var P=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=y(e.prototype),s=e.apply(o,r);return f.isObject(s)?s:o};f.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,s.call(arguments,1));if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");var n=s.call(arguments,2),i=function(){return P(e,i,t,this,n.concat(s.call(arguments)))};return i},f.partial=function(e){var t=s.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),s=0;s<r;s++)o[s]=t[s]===f?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return P(e,n,this,this,o)};return n},f.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)e[n=arguments[t]]=f.bind(e[n],e);return e},f.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return f.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},f.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},f.defer=f.partial(f.delay,f,1),f.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:f.now(),s=null,o=e.apply(i,r),s||(i=r=null)};return function(){var c=f.now();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,r=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),a=c,o=e.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,u)),o}},f.debounce=function(e,t,n){var i,r,o,s,a,l=function(){var c=f.now()-s;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=f.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,r),o=r=null),a}},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},f.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},f.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},f.once=f.partial(f.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function M(e,t){var n=E.length,r=e.constructor,o=f.isFunction(r)&&r.prototype||i,s="constructor";for(f.has(e,s)&&!f.contains(t,s)&&t.push(s);n--;)(s=E[n])in e&&e[s]!==o[s]&&!f.contains(t,s)&&t.push(s)}f.keys=function(e){if(!f.isObject(e))return[];if(u)return u(e);var t=[];for(var n in e)f.has(e,n)&&t.push(n);return D&&M(e,t),t},f.allKeys=function(e){if(!f.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&M(e,t),t},f.values=function(e){for(var t=f.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},f.mapObject=function(e,t,n){t=g(t,n);for(var i,r=f.keys(e),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=t(e[i],i,e);return s},f.pairs=function(e){for(var t=f.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},f.invert=function(e){for(var t={},n=f.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},f.functions=f.methods=function(e){var t=[];for(var n in e)f.isFunction(e[n])&&t.push(n);return t.sort()},f.extend=v(f.allKeys),f.extendOwn=f.assign=v(f.keys),f.findKey=function(e,t,n){t=g(t,n);for(var i,r=f.keys(e),o=0,s=r.length;o<s;o++)if(t(e[i=r[o]],i,e))return i},f.pick=function(e,t,n){var i,r,o={},s=e;if(null==s)return o;f.isFunction(t)?(r=f.allKeys(s),i=m(t,n)):(r=C(arguments,!1,!1,1),i=function(e,t,n){return t in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var c=r[a],u=s[c];i(u,c,s)&&(o[c]=u)}return o},f.omit=function(e,t,n){if(f.isFunction(t))t=f.negate(t);else{var i=f.map(C(arguments,!1,!1,1),String);t=function(e,t){return!f.contains(i,t)}}return f.pick(e,t,n)},f.defaults=v(f.allKeys,!0),f.create=function(e,t){var n=y(e);return t&&f.extendOwn(n,t),n},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e},f.isMatch=function(e,t){var n=f.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0};var I=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var r=a.call(e);if(r!==a.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!(f.isFunction(s)&&s instanceof s&&f.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!I(e[c],t[c],n,i))return!1}else{var u,h=f.keys(e);if(c=h.length,f.keys(t).length!==c)return!1;for(;c--;)if(u=h[c],!f.has(t,u)||!I(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};f.isEqual=function(e,t){return I(e,t)},f.isEmpty=function(e){return null==e||(x(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e))?0===e.length:0===f.keys(e).length)},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=c||function(e){return"[object Array]"===a.call(e)},f.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){f["is"+e]=function(t){return a.call(t)==="[object "+e+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return f.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&e!==+e},f.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===a.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){return null!=e&&l.call(e,t)},f.noConflict=function(){return e._=t,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=w,f.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},f.matcher=f.matches=function(e){return e=f.extendOwn({},e),function(t){return f.isMatch(t,e)}},f.times=function(e,t,n){var i=Array(Math.max(0,e));t=m(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=f.invert(O),N=function(e){var t=function(t){return e[t]},n="(?:"+f.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};f.escape=N(O),f.unescape=N(R),f.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),f.isFunction(i)?i.call(e):i};var L=0;f.uniqueId=function(e){var t=++L+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,F=function(e){return"\\"+H[e]};f.template=function(e,t,n){!t&&n&&(t=n),t=f.defaults({},t,f.templateSettings);var i=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){return o+=e.slice(r,a).replace(U,F),r=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,f)},l=t.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},f.chain=function(e){var t=f(e);return t._chain=!0,t};var B=function(e,t){return e._chain?f(t).chain():t};f.mixin=function(e){f.each(f.functions(e),function(t){var n=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),B(this,n.apply(f,e))}})},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];f.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],B(this,n)}}),f.each(["concat","join","slice"],function(e){var t=n[e];f.prototype[e]=function(){return B(this,t.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}.call(this),function(){"use strict";function e(t,i){var r;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=0,a=o.length;s<a;s++)this[o[s]]=l(this[o[s]],this);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(e){r(e)},!1),t.onclick=null)}function l(e,t){return function(){return e.apply(t,arguments)}}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if((o=window.getSelection()).rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,s,a,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(c=e.changedTouches[0],(u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(a=u.tagName.toLowerCase())){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-s>100||i&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),i&&"select"===a||(this.targetElement=null,e.preventDefault()),!1);return!(!i||r||!(l=u.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,r;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=i(n(2)),o=i(n(35)),s=n(36),a=n(41),l=i(n(42)),c=i(n(39)),u=i(n(34)),h=r.default.create;function p(){var e=h();return e.compile=function(t,n){return a.compile(t,n,e)},e.precompile=function(t,n){return a.precompile(t,n,e)},e.AST=o.default,e.Compiler=a.Compiler,e.JavaScriptCompiler=l.default,e.Parser=s.parser,e.parse=s.parse,e}var d=p();d.create=p,u.default(d),d.Visitor=c.default,d.default=d,t.default=d,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";var i=n(3).default,r=n(1).default;t.__esModule=!0;var o=i(n(4)),s=r(n(21)),a=r(n(6)),l=i(n(5)),c=i(n(22)),u=r(n(34));function h(){var e=new o.HandlebarsEnvironment;return l.extend(e,o),e.SafeString=s.default,e.Exception=a.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var p=h();p.create=h,u.default(p),p.default=p,t.default=p,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=u;var r=n(5),o=i(n(6)),s=n(10),a=n(18),l=i(n(20));t.VERSION="4.0.11";t.COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};var c="[object Object]";function u(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:l.default,log:l.default.log,registerHelper:function(e,t){if(r.toString.call(e)===c){if(t)throw new o.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(r.toString.call(e)===c)r.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(r.toString.call(e)===c){if(t)throw new o.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var h=l.default.log;t.log=h,t.createFrame=r.createFrame,t.logger=l.default},function(e,t){"use strict";t.__esModule=!0,t.extend=s,t.indexOf=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!r.test(e))return e;return e.replace(i,o)},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=s({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,r=/[&<>"'`=]/;function o(e){return n[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var a=Object.prototype.toString;t.toString=a;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};t.isArray=c},function(e,t,n){"use strict";var i=n(7).default;t.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];function o(e,t){var n=t&&t.loc,s=void 0,a=void 0;n&&(e+=" - "+(s=n.start.line)+":"+(a=n.start.column));for(var l=Error.prototype.constructor.call(this,e),c=0;c<r.length;c++)this[r[c]]=l[r[c]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{n&&(this.lineNumber=s,i?Object.defineProperty(this,"column",{value:a,enumerable:!0}):this.column=a)}catch(e){}}o.prototype=new Error,t.default=o,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function(e,t,n){return i.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=function(e){r.default(e),o.default(e),s.default(e),a.default(e),l.default(e),c.default(e),u.default(e)};var r=i(n(11)),o=i(n(12)),s=i(n(13)),a=i(n(14)),l=i(n(15)),c=i(n(16)),u=i(n(17))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(t,n)})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(5),o=i(n(6));t.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new o.default("Must pass iterator to #each");var n=t.fn,i=t.inverse,s=0,a="",l=void 0,c=void 0;function u(t,i,o){l&&(l.key=t,l.index=i,l.first=0===i,l.last=!!o,c&&(l.contextPath=c+t)),a+=n(e[t],{data:l,blockParams:r.blockParams([e[t],t],[c+t,null])})}if(t.data&&t.ids&&(c=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(l=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var h=e.length;s<h;s++)s in e&&u(s,s,s===e.length-1);else{var p=void 0;for(var d in e)e.hasOwnProperty(d)&&(void 0!==p&&u(p,s-1),p=d,s++);void 0!==p&&u(p,s-1,!0)}return 0===s&&(a=i(this)),a})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=i(n(6));t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=function(e){r.default(e)};var r=i(n(19))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerDecorator("inline",function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,t.partials);var a=e(r,o);return n.partials=s,a}),t.partials[r.args[0]]=r.fn,o})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t.default=r,e.exports=t.default},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){"use strict";var i=n(23).default,r=n(3).default,o=n(1).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=l.COMPILER_REVISION;if(t!==n){if(t<n){var i=l.REVISION_CHANGES[n],r=l.REVISION_CHANGES[t];throw new a.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new a.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new a.default("No environment passed to template");if(!e||!e.main)throw new a.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new a.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:s.escapeExpression,invokePartial:function(n,i,r){r.hash&&(i=s.extend({},i,r.hash),r.ids&&(r.ids[0]=!0));n=t.VM.resolvePartial.call(this,n,i,r);var o=t.VM.invokePartial.call(this,n,i,r);null==o&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),o=r.partials[r.name](i,r));{if(null!=o){if(r.indent){for(var l=o.split("\n"),c=0,u=l.length;c<u&&(l[c]||c+1!==u);c++)l[c]=r.indent+l[c];o=l.join("\n")}return o}throw new a.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")}},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,r){var o=this.programs[e],s=this.fn(e);return t||r||i||n?o=c(this,e,s,t,n,i,r):o||(o=this.programs[e]=c(this,e,s)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=s.extend({},t,e)),n},nullContext:i({}),noop:t.VM.noop,compilerInfo:e.compiler};function r(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=i.data;r._setup(i),!i.partial&&e.useData&&(o=function(e,t){t&&"root"in t||((t=t?l.createFrame(t):{}).root=e);return t}(t,o));var s=void 0,a=e.useBlockParams?[]:void 0;function c(t){return""+e.main(n,t,n.helpers,n.partials,o,a,s)}return e.useDepths&&(s=i.depths?t!=i.depths[0]?[t].concat(i.depths):i.depths:[t]),(c=h(e.main,c,n,i.depths||[],o,a))(t,i)}return r.isTop=!0,r._setup=function(i){i.partial?(n.helpers=i.helpers,n.partials=i.partials,n.decorators=i.decorators):(n.helpers=n.merge(i.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(i.decorators,t.decorators)))},r._child=function(t,i,r,o){if(e.useBlockParams&&!r)throw new a.default("must pass block params");if(e.useDepths&&!o)throw new a.default("must pass parent depths");return c(n,t,e[t],i,0,r,o)},r},t.wrapProgram=c,t.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},t.invokePartial=function(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;n.fn&&n.fn!==u&&function(){n.data=l.createFrame(n.data);var e=n.fn;r=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=l.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=s.extend({},n.partials,e.partials))}();void 0===e&&r&&(e=r);{if(void 0===e)throw new a.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}},t.noop=u;var s=r(n(5)),a=o(n(6)),l=n(4);function c(e,t,n,i,r,o,s){function a(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(a=[t].concat(s)),n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),a)}return(a=h(n,a,e,s,i,o)).program=t,a.depth=s?s.length:0,a.blockParams=r||0,a}function u(){return""}function h(e,t,n,i,r,o){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],r,o,i),s.extend(t,a)}return t}},function(e,t,n){e.exports={default:n(24),__esModule:!0}},function(e,t,n){n(25),e.exports=n(30).Object.seal},function(e,t,n){var i=n(26);n(27)("seal",function(e){return function(t){return e&&i(t)?e(t):t}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(28),r=n(30),o=n(33);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(e,t,n){var i=n(29),r=n(30),o=n(31),s="prototype",a=function(e,t,n){var l,c,u,h=e&a.F,p=e&a.G,d=e&a.S,f=e&a.P,m=e&a.B,g=e&a.W,v=p?r:r[t]||(r[t]={}),y=p?i:d?i[t]:(i[t]||{})[s];for(l in p&&(n=t),n)(c=!h&&y&&l in y)&&l in v||(u=c?y[l]:n[l],v[l]=p&&"function"!=typeof y[l]?n[l]:m&&c?o(u,i):g&&y[l]==u?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[s]=e[s],t}(u):f&&"function"==typeof u?o(Function.call,u):u,f&&((v[s]||(v[s]={}))[l]=u))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,e.exports=a},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(32);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default,r=n(3).default;t.__esModule=!0,t.parse=function(e,t){if("Program"===e.type)return e;return o.default.yy=c,c.locInfo=function(e){return new c.SourceLocation(t&&t.srcName,e)},new s.default(t).accept(o.default.parse(e))};var o=i(n(37)),s=i(n(38)),a=r(n(40)),l=n(5);t.parser=o.default;var c={};l.extend(c,a)},function(e,t){"use strict";t.__esModule=!0;var n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:this.$=i.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[a]),strip:i.stripFlags(o[a],o[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var l=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),c=i.prepareProgram([l],o[a-1].loc);c.chained=!0,this.$={strip:o[a-2].strip,program:c,chain:!0};break;case 20:this.$=o[a];break;case 21:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:i.stripFlags(o[a-4],o[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:i.stripFlags(o[a-4],o[a])};break;case 27:case 28:this.$=o[a];break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[a-2]),value:o[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[a-1]);break;case 33:case 34:this.$=o[a];break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=o[a];break;case 42:this.$=i.preparePath(!0,o[a],this._$);break;case 43:this.$=i.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:i.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:i.id(o[a]),original:o[a]}];break;case 46:this.$=[];break;case 47:o[a-1].push(o[a]);break;case 48:this.$=[o[a]];break;case 49:o[a-1].push(o[a]);break;case 50:this.$=[];break;case 51:o[a-1].push(o[a]);break;case 58:this.$=[];break;case 59:o[a-1].push(o[a]);break;case 64:this.$=[];break;case 65:o[a-1].push(o[a]);break;case 70:this.$=[];break;case 71:o[a-1].push(o[a]);break;case 78:this.$=[];break;case 79:o[a-1].push(o[a]);break;case 82:this.$=[];break;case 83:o[a-1].push(o[a]);break;case 86:this.$=[];break;case 87:o[a-1].push(o[a]);break;case 90:this.$=[];break;case 91:o[a-1].push(o[a]);break;case 94:this.$=[];break;case 95:o[a-1].push(o[a]);break;case 98:this.$=[o[a]];break;case 99:o[a-1].push(o[a]);break;case 100:this.$=[o[a]];break;case 101:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],i=[null],r=[],o=this.table,s="",a=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,f,m,g,v,y,w,b,_,x={};;){if(f=n[n.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null==p&&(_=void 0,"number"!=typeof(_=t.lexer.lex()||1)&&(_=t.symbols_[_]||_),p=_),m=o[f]&&o[f][p]),void 0===m||!m.length||!m[0]){var S="";if(!c){for(v in b=[],o[f])this.terminals_[v]&&v>2&&b.push("'"+this.terminals_[v]+"'");S=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:b})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+p);switch(m[0]){case 1:n.push(p),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(m[1]),p=null,d?(p=d,d=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[m[1]][1],x.$=i[i.length-y],x._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},h&&(x._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),void 0!==(g=this.performAction.call(x,s,l,a,this.yy,m[1],i,r)))return g;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),r=r.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),i.push(x.$),r.push(x._$),w=o[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},t={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||t&&!(n[0].length>t[0].length)||(t=n,i=s,this.options.flex));s++);return t?((r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();t.default=n,e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=i(n(39));function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function s(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function a(e,t,n){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function l(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function c(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}o.prototype=new r.default,o.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,r=0,o=i.length;r<o;r++){var u=i[r],h=this.accept(u);if(h){var p=s(i,r,n),d=a(i,r,n),f=h.openStandalone&&p,m=h.closeStandalone&&d,g=h.inlineStandalone&&p&&d;h.close&&l(i,r,!0),h.open&&c(i,r,!0),t&&g&&(l(i,r),c(i,r)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[r-1].original)[1])),t&&f&&(l((u.program||u.inverse).body),c(i,r)),t&&m&&(l(i,r),c((u.inverse||u.program).body))}}return e},o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,r=n;if(n&&n.chained)for(i=n.body[0].program;r.chained;)r=r.body[r.body.length-1].program;var o={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:a(t.body),closeStandalone:s((i||t).body)};if(e.openStrip.close&&l(t.body,null,!0),n){var u=e.inverseStrip;u.open&&c(t.body,null,!0),u.close&&l(i.body,null,!0),e.closeStrip.open&&c(r.body,null,!0),!this.options.ignoreStandalone&&s(t.body)&&a(i.body)&&(c(t.body),l(i.body))}else e.closeStrip.open&&c(t.body,null,!0);return o},o.prototype.Decorator=o.prototype.MustacheStatement=function(e){return e.strip},o.prototype.PartialStatement=o.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=o,e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=i(n(6));function o(){this.parents=[]}function s(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function a(e){s.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function l(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}o.prototype={constructor:o,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!o.prototype[n.type])throw new r.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new r.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new r.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:s,Decorator:s,BlockStatement:a,DecoratorBlock:a,PartialStatement:l,PartialBlockStatement:function(e){l.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:s,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=o,e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",o=[],s=0,a=0,l=t.length;a<l;a++){var c=t[a].part,u=t[a].original!==c;if(i+=(t[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)o.push(c);else{if(o.length>0)throw new r.default("Invalid path: "+i,{loc:n});".."===c&&(s++,"../")}}return{type:"PathExpression",data:e,depth:s,parts:o,original:i,loc:n}},t.prepareMustache=function(e,t,n,i,r,o){var s=i.charAt(3)||i.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:a,strip:r,loc:this.locInfo(o)}},t.prepareRawBlock=function(e,t,n,i){o(e,n),i=this.locInfo(i);var r={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}},t.prepareBlock=function(e,t,n,i,s,a){i&&i.path&&o(e,i);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new r.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),u=n.strip,c=n.program}s&&(s=c,c=t,t=s);return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:c,openStrip:e.strip,inverseStrip:u,closeStrip:i&&i.strip,loc:this.locInfo(a)}},t.prepareProgram=function(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(e,t,n,i){return o(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}};var r=i(n(6));function o(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new r.default(e.path.original+" doesn't match "+t,n)}}},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0,t.Compiler=l,t.precompile=function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);t.compat&&(t.useDepths=!0);var i=n.parse(e,t),o=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(o,t)},t.compile=function(e,t,n){void 0===t&&(t={});if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=o.extend({},t))||(t.data=!0);t.compat&&(t.useDepths=!0);var i=void 0;function s(){var i=n.parse(e,t),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(o)}function a(e,t){return i||(i=s()),i.call(this,e,t)}return a._setup=function(e){return i||(i=s()),i._setup(e)},a._child=function(e,t,n,r){return i||(i=s()),i._child(e,t,n,r)},a};var r=i(n(6)),o=n(5),s=i(n(35)),a=[].slice;function l(){}function c(e,t){if(e===t)return!0;if(o.isArray(e)&&o.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1;return!0}}function u(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}l.prototype={compiler:l,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!c(i.args,r.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(this.options.knownHelpers[i]=n[i]);return this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new r.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){u(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new r.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,o="SubExpression"===e.name.type;o&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var s=e.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",o,i,s),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){u(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var i=e.path,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),o=e.path,a=o.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",i.length,a);else{if(this.options.knownHelpersOnly)throw new r.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",i.length,o.original,s.default.helpers.simpleId(o))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=s.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:a.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=s.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&s.default.helpers.helperExpression(e),r=!n&&(i||t);if(r&&!i){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?i=!0:a.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||s.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],r=i&&o.indexOf(i,e);if(i&&r>=0)return[t,r]}}}},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(4),o=i(n(6)),s=n(5),a=i(n(43));function l(e){this.value=e}function c(){}c.prototype={nameLookup:function(e,t){return c.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=r.COMPILER_REVISION;return[e,r.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return s.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,s=void 0,a=void 0,l=void 0,c=void 0;for(l=0,c=r.length;l<c;l++)s=r[l],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new o.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var h={compiler:this.compilerInfo(),main:u};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var p=this.context,d=p.programs,f=p.decorators;for(l=0,c=d.length;l<c;l++)d[l]&&(h[l]=d[l],f[l]&&(h[l+"_d"]=f[l],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),i?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),t.srcName?(h=h.toStringWithSourceMap({file:t.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(t+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(t);return e?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,s=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,s=e):(o&&(r?o.prepend("buffer += "):i=!0,s.add(";"),o=s=void 0),r=!0,t||(n=!1))}),n?o?(o.prepend("return "),s.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,r){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,n,i){var r=t.popStack(),o=0,s=n.length;e&&s--;for(;o<s;o++)r=t.nameLookup(r,n[o],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[o]),")"]:r}(this.options.strict&&r,this,t,e));else for(var s=t.length;n<s;n++)this.replaceStack(function(r){var s=o.nameLookup(r,t[n],e);return i?[" && ",s]:[" != null ? ",s," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),o=n?[r.name," || "]:"",s=["("].concat(o,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){var i=[],r=this.setupParams(t,1,i);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),i&&(o.types[e]=i),r&&(o.ids[e]=r),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:c,compileChildren:function(e,t){for(var n=e.children,i=void 0,r=void 0,o=0,s=n.length;o<s;o++){i=n[o],r=new this.compiler;var a=this.matchExistingProgram(i);if(null==a){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=a.index,i.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof l||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new l(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,i=void 0,r=void 0;if(!this.isInline())throw new o.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof l)t=["(",n=[s.value]],r=!0;else{i=!0;var a=this.incrStack();t=["((",this.push(a)," = ",s,")"],n=this.topStack()}var c=e.call(this,n);r||this.popStack(),i&&this.stackSlot--,this.push(t.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i instanceof l)this.compileStack.push(i);else{var r=this.incrStack();this.pushSource([r," = ",i,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof l)return n.value;if(!t){if(!this.stackSlot)throw new o.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof l?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(e,t,n){var i={},r=[],o=[],s=[],a=!n,l=void 0;a&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var h=t;h--;)l=this.popStack(),n[h]=l,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(o[h]=this.popStack(),r[h]=this.popStack());return a&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(s)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,n,i){var r=this.setupParams(e,t,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=c.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),c.isValidJavaScriptVariableName=function(e){return!c.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=c,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),r=void 0;try{}catch(e){}function o(e,t,n){if(i.isArray(e)){for(var r=[],o=0,s=e.length;o<s;o++)r.push(t.wrap(e[o],n));return r}return"boolean"==typeof e||"number"==typeof e?e+"":e}function s(e){this.srcFile=e,this.source=[]}r||((r=function(e,t,n,i){this.src="",i&&this.add(i)}).prototype={add:function(e){i.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){i.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),s.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new r(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof r?e:(e=o(e,this,t),new r(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=o(e[n],this);"undefined"!==i&&t.push([this.quotedString(n),":",i])}var r=this.generateList(t);return r.prepend("{"),r.add("}"),r},generateList:function(e){for(var t=this.empty(),n=0,i=e.length;n<i;n++)n&&t.add(","),t.add(o(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=s,e.exports=t.default}])}),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}return function t(n){function i(t,r,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},i.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(r),/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var c in o)o[c]&&(l+="; "+c,!0!==o[c]&&(l+="="+o[c]));return document.cookie=t+"="+r+l}t||(s={});for(var u=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var d=u[p].split("="),f=d.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var m=d[0].replace(h,decodeURIComponent);if(f=n.read?n.read(f,m):n(f,m)||f.replace(h,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===m){s=f;break}t||(s[m]=f)}catch(e){}}return s}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}(function(){})}),function(e,t){"use strict";var n="function",i="undefined",r="model",o="name",s="type",a="vendor",l="version",c="architecture",u="console",h="mobile",p="tablet",d="smarttv",f="wearable",m={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:t},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},g={rgx:function(e,i){for(var r,o,s,a,l,c,u=0;u<i.length&&!l;){var h=i[u],p=i[u+1];for(r=o=0;r<h.length&&!l;)if(l=h[r++].exec(e))for(s=0;s<p.length;s++)c=l[++o],"object"==typeof(a=p[s])&&a.length>0?2==a.length?typeof a[1]==n?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3==a.length?typeof a[1]!==n||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):t:this[a[0]]=c?a[1].call(this,c,a[2]):t:4==a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):t):this[a]=c||t;u+=2}},str:function(e,n){for(var i in n)if("object"==typeof n[i]&&n[i].length>0){for(var r=0;r<n[i].length;r++)if(m.has(n[i][r],e))return"?"===i?t:i}else if(m.has(n[i],e))return"?"===i?t:i;return e}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[o,l],[/(opios)[\/\s]+([\w\.]+)/i],[[o,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[o,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[o,l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[o,"IE"],l],[/(edge)\/((\d+)?[\w\.]+)/i],[o,l],[/(yabrowser)\/([\w\.]+)/i],[[o,"Yandex"],l],[/(puffin)\/([\w\.]+)/i],[[o,"Puffin"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[o,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],l],[/(micromessenger)\/([\w\.]+)/i],[[o,"WeChat"],l],[/(QQ)\/([\d\.]+)/i],[o,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[o,l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[o,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[o,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[o,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[o,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[o,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[o,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[o,l],[/(dolfin)\/([\w\.]+)/i],[[o,"Dolphin"],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[o,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[o,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[o,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[o,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,o],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[o,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[l,g.str,v.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[o,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[c,"amd64"]],[/(ia32(?=;))/i],[[c,m.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[c,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[c,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[c,/ower/,"",m.lowerize]],[/(sun4\w)[;\)]/i],[[c,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[c,m.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[r,a,[s,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[r,[a,"Apple"],[s,p]],[/(apple\s{0,1}tv)/i],[[r,"Apple TV"],[a,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,r,[s,p]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[r,[a,"Amazon"],[s,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[r,g.str,v.device.amazon.model],[a,"Amazon"],[s,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[r,a,[s,h]],[/\((ip[honed|\s\w*]+);/i],[r,[a,"Apple"],[s,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,r,[s,h]],[/\(bb10;\s(\w+)/i],[r,[a,"BlackBerry"],[s,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[r,[a,"Asus"],[s,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[r,"Xperia Tablet"],[s,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[r,[a,"Sony"],[s,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,r,[s,u]],[/android.+;\s(shield)\sbuild/i],[r,[a,"Nvidia"],[s,u]],[/(playstation\s[34portablevi]+)/i],[r,[a,"Sony"],[s,u]],[/(sprint\s(\w+))/i],[[a,g.str,v.device.sprint.vendor],[r,g.str,v.device.sprint.model],[s,h]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[a,r,[s,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[a,[r,/_/g," "],[s,h]],[/(nexus\s9)/i],[r,[a,"HTC"],[s,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[r,[a,"Huawei"],[s,h]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,r,[s,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[r,[a,"Microsoft"],[s,u]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[a,"Microsoft"],[s,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[r,[a,"Motorola"],[s,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[r,[a,"Motorola"],[s,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,m.trim],[r,m.trim],[s,d]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[a,"Samsung"],[s,d]],[/\(dtv[\);].+(aquos)/i],[r,[a,"Sharp"],[s,d]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],r,[s,p]],[/smart-tv.+(samsung)/i],[a,[s,d],r],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[a,"Samsung"],r,[s,h]],[/sie-(\w+)*/i],[r,[a,"Siemens"],[s,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[a,"Nokia"],r,[s,h]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[r,[a,"Acer"],[s,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[r,[a,"LG"],[s,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],r,[s,p]],[/(lg) netcast\.tv/i],[a,r,[s,d]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[r,[a,"LG"],[s,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[r,[a,"Lenovo"],[s,p]],[/linux;.+((jolla));/i],[a,r,[s,h]],[/((pebble))app\/[\d\.]+\s/i],[a,r,[s,f]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,r,[s,h]],[/crkey/i],[[r,"Chromecast"],[a,"Google"]],[/android.+;\s(glass)\s\d/i],[r,[a,"Google"],[s,f]],[/android.+;\s(pixel c)\s/i],[r,[a,"Google"],[s,p]],[/android.+;\s(pixel xl|pixel)\s/i],[r,[a,"Google"],[s,h]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[r,/_/g," "],[a,"Xiaomi"],[s,h]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[r,/_/g," "],[a,"Xiaomi"],[s,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[r,[a,"Meizu"],[s,p]],[/android.+a000(1)\s+build/i],[r,[a,"OnePlus"],[s,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[r,[a,"RCA"],[s,p]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[r,[a,"Dell"],[s,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[r,[a,"Verizon"],[s,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[a,"Barnes & Noble"],r,[s,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[r,[a,"NuVision"],[s,p]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[a,"ZTE"],r,[s,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[r,[a,"Swiss"],[s,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[r,[a,"Swiss"],[s,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[r,[a,"Zeki"],[s,p]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[a,"Dragon Touch"],r,[s,p]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[r,[a,"Insignia"],[s,p]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[r,[a,"NextBook"],[s,p]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[a,"Voice"],r,[s,h]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[a,"LvTel"],r,[s,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[r,[a,"Envizen"],[s,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[a,r,[s,p]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[r,[a,"MachSpeed"],[s,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[a,r,[s,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[r,[a,"Rotor"],[s,p]],[/android.+(KS(.+))\s+build/i],[r,[a,"Amazon"],[s,p]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[a,r,[s,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[s,m.lowerize],a,r],[/(android.+)[;\/].+build/i],[r,[a,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[o,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o,l],[/rv\:([\w\.]+).*(gecko)/i],[l,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[o,[l,g.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[l,g.str,v.os.windows.version]],[/\((bb)(10);/i],[[o,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[o,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[o,"Symbian"],l],[/\((series40);/i],[o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[o,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],l],[/(sunos)\s?([\w\.]+\d)*/i],[[o,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[o,l],[/(haiku)\s(\w+)/i],[o,l],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[o,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[o,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[o,l]]},w=function(n,i){if("object"==typeof n&&(i=n,n=t),!(this instanceof w))return new w(n,i).getResult();var r=n||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),o=i?m.extend(y,i):y;return this.getBrowser=function(){var e={name:t,version:t};return g.rgx.call(e,r,o.browser),e.major=m.major(e.version),e},this.getCPU=function(){var e={architecture:t};return g.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:t,model:t,type:t};return g.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:t,version:t};return g.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:t,version:t};return g.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};w.VERSION="0.7.17",w.BROWSER={NAME:o,MAJOR:"major",VERSION:l},w.CPU={ARCHITECTURE:c},w.DEVICE={MODEL:r,VENDOR:a,TYPE:s,CONSOLE:u,MOBILE:h,SMARTTV:d,TABLET:p,WEARABLE:f,EMBEDDED:"embedded"},w.ENGINE={NAME:o,VERSION:l},w.OS={NAME:o,VERSION:l},typeof exports!==i?(typeof module!==i&&module.exports&&(exports=module.exports=w),exports.UAParser=w):typeof define===n&&define.amd?define(function(){return w}):e&&(e.UAParser=w);var b=e&&(e.jQuery||e.Zepto);if(typeof b!==i){var _=new w;b.ua=_.getResult(),b.ua.get=function(){return _.getUA()},b.ua.set=function(e){_.setUA(e);var t=_.getResult();for(var n in t)b.ua[n]=t[n]}}}("object"==typeof window?window:this);var Preprocessor=function(){return this};Preprocessor.prototype.baseUrl=null,Preprocessor.prototype.json=null,Preprocessor.prototype.view=null,Preprocessor.prototype.html=null,Preprocessor.prototype.seo={},Preprocessor.prototype.append=!1,Preprocessor.prototype.isAppendable=function(){return this.append},Preprocessor.prototype.makeAppendable=function(e){return this.append=1==e,this},Preprocessor.prototype.installMixin=function(e,t){_.extend(this,e.prototype),"function"==typeof t&&t.apply(this)},"undefined"!=typeof module&&(module.exports=Preprocessor);var IndexPreprocessor=function(){};_.extend(IndexPreprocessor.prototype,Preprocessor.prototype),_.extend(IndexPreprocessor.prototype,{seo:{title:"ÐÐ»Ð°Ð²Ð½Ð°Ñ"},setBaseUrl:function(e){return this.baseUrl=e,this},setJson:function(e){return this.json=e,this},prepare:function(){var e={seo:{},topic:[],topStories:[],news:[],comments:[]};return _.each(this.json.content.topicOfTheDay.stories.slice(0,1),function(t,n,i){e.topic.push(this.prepareOneStory(t))},this),_.each(this.json.content.announcementOnMainHeader.stories.slice(0,5),function(t,n,i){e.topStories.push(this.prepareOneStory(t))},this),_.each(this.json.content.main.stories.slice(0,5),function(t,n,i){e.topStories.push(this.prepareOneStory(t))},this),this.json.content.adv&&(this.json.content.adv.announce1&&e.topStories.splice(2,0,this.prepareOneStory(this.json.content.adv.announce1)),this.json.content.adv.announce2&&e.topStories.splice(4,0,this.prepareOneStory(this.json.content.adv.announce2)),this.json.content.adv.announce3&&e.topStories.splice(7,0,this.prepareOneStory(this.json.content.adv.announce3))),_.each(this.json.content.announcementOnMainHeader.stories.slice(-1),function(t,n,i){e.news.push(this.prepareOneStory(t))},this),this.json.content.nowComments.stories&&_.each(this.json.content.nowComments.stories.slice(0,3),function(t,n,i){e.comments.push(this.prepareOneStory(t))},this),this.json.content.poll&&this.json.content.poll.polls&&(e.poll=encodeURIComponent(JSON.stringify(this.json.content.poll.polls[0]))),this.seo={title:this.json.global.info.name,keywords:this.json.global.info.searchKeywords},this.view=e,this},prepareOneStory:function(e){if(904425!=e.id){var t={id:e.id,name:e.name,href:e.href,advertisment:e.advertisment,announcement:e.announcementXml,photos:0};if(e.photos>2&&(t.photos=e.photos),e.picture&&(t.picture=e.picture.servingUrl,t.picture=this.baseUrl+t.picture,t.picture=t.picture+"=h300"),e.authors){var n=[];_.forEach(e.authors,function(e){var t=e.name,i="/images/person_thumbnail.png";e.avatar&&(i=this.baseUrl+e.avatar.servingUrl+"=s60-c"),n.push({name:t,avatar:i})},this),1==n.length&&(t.author=n[0]),n.length>1&&(t.authors=n)}return e.date&&(t.date=e.date.day+" "+e.date.monthName+" Ð² "+e.date.hour+":"+e.date._minute),e.commentCounter&&(t.comments=e.commentCounter),t.announcement&&(t.announcement=t.announcement.replace(/src\s*=\s*"\/_ah\/(.+?)"/g,'src="'+this.baseUrl+'/_ah/$1"')),t}},compile:function(){var e;(e="undefined"==typeof Handlebars?require("handlebars"):Handlebars).registerHelper("arrayPart",function(e,t,n,i){for(var r="",o=e,s=t;o<s;o++)r+=i.fn(n[o]);return r});var t=e.compile('<div class="article_topic b_index_page__topic">{{#each topic}}<article class="article_topic"><div class="article_topic__label">Ð¢ÐµÐ¼Ð° Ð´Ð½Ñ</div><a class="article_topic__picture" href="{{href}}"><img src="{{picture}}"/></a><header>{{#if photos}}<div class="article_topic__photos"><span>{{photos}}</span></div>{{/if}}<h1 class="article_topic__header"><a href="{{href}}">{{name}}</a></h1><a class="article_topic__comments {{#if comments}}active{{/if}}" href="{{href}}#comments{{id}}"><span>{{#if comments}}{{comments}}{{else}}&plus;{{/if}}</span></a></header></article>{{/each}}</div><div class="article_announcements b_index_page__announcements">{{#arrayPart 0 3 topStories}}<article class="article_announcements"><a class="article_announcements__picture" href="{{href}}"><img src="{{picture}}"/></a><header><a class="article_announcements__header" href="{{href}}">{{name}}</a><div class="article_announcements__comments"><a class="{{#if comments}}active{{/if}}" href="{{href}}#comments{{id}}"><span>{{#if comments}}{{comments}}{{else}}&plus;{{/if}}</span></a></div></header></article>{{/arrayPart}}</div><div class="article_topic b_index_page__news">{{#each news}}<article class="article_topic"><div class="article_topic__label">ÐÐ¾Ð²Ð¾ÑÑÑ Ð´Ð½Ñ</div><a class="article_topic__picture" href="{{href}}"><img src="{{picture}}"/></a><header>{{#if photos}}<div class="article_topic__photos"><span>{{photos}}</span></div>{{/if}}<h1 class="article_topic__header"><a href="{{href}}">{{name}}</a></h1><a class="article_topic__comments {{#if comments}}active{{/if}}" href="{{href}}#comments{{id}}"><span>{{#if comments}}{{comments}}{{else}}&plus;{{/if}}</span></a></header></article>{{/each}}<div class="button"><a href="/news/" class="button">ÐÑÐµ Ð½Ð¾Ð²Ð¾ÑÑÐ¸</a></div></div><div class="article_comments b_index_page__comments"><div class="article_comments__h1">ÐÐ±ÑÑÐ¶Ð´Ð°ÐµÐ¼Ð¾Ðµ</div>{{#each comments}}<article class="article_comments"><a class="article_comments__header" href="{{href}}">{{name}}</a><div class="article_comments__date">{{date}}</div><a class="article_comments__comments {{#if comments}}active{{/if}}" href="{{href}}#comments{{id}}"><span>{{#if comments}}{{comments}}{{else}}&plus;{{/if}}</span></a></article>{{/each}}</div><div class="article_announcements b_index_page__announcements">{{#arrayPart 3 5 topStories}}<article class="article_announcements"><a class="article_announcements__picture" href="{{href}}"><img src="{{picture}}"/></a><header><a class="article_announcements__header" href="{{href}}">{{name}}</a><div class="article_announcements__comments"><a class="{{#if comments}}active{{/if}}" href="{{href}}#comments{{id}}"><span>{{#if comments}}{{comments}}{{else}}&plus;{{/if}}</span></a></div></header></article>{{/arrayPart}}</div><div class="adriver adriver-index-now-comments" data-adv-id="index-now-comments"></div><div class="article_announcements b_index_page__announcements">{{#arrayPart 5 8 topStories}}<article class="article_announcements"><a class="article_announcements__picture" href="{{href}}"><img src="{{picture}}"/></a><header><a class="article_announcements__header" href="{{href}}">{{name}}</a><div class="article_announcements__comments"><a class="{{#if comments}}active{{/if}}" href="{{href}}#comments{{id}}"><span>{{#if comments}}{{comments}}{{else}}&plus;{{/if}}</span></a></div></header></article>{{/arrayPart}}</div>{{#if poll}}<div class="poll poll__full_width" data-poll="{{poll}}"></div>{{/if}}<div class="article_announcements b_index_page__announcements">{{#arrayPart 8 10 topStories}}<article class="article_announcements"><a class="article_announcements__picture" href="{{href}}"><img src="{{picture}}"/></a><header><a class="article_announcements__header" href="{{href}}">{{name}}</a><div class="article_announcements__comments"><a class="{{#if comments}}active{{/if}}" href="{{href}}#comments{{id}}"><span>{{#if comments}}{{comments}}{{else}}&plus;{{/if}}</span></a></div></header></article>{{/arrayPart}}</div>');return this.html=t(this.view),this},getSeo:function(){return this.seo},getHtml:function(){return this.html},getTemplateHtml:function(){return"<div class='content-wrapper' id='preloaded-content-wrapper'>"+this.getHtml()+"</div>"},getTemplateJs:function(){return"new $.IndexController().decorate('#preloaded-content-wrapper').onAfterRender();"}}),"undefined"!=typeof module&&(module.exports=IndexPreprocessor);var CategoryPreprocessor=function(){};_.extend(CategoryPreprocessor.prototype,Preprocessor.prototype),_.extend(CategoryPreprocessor.prototype,{seo:{title:"Ð ÑÐ±ÑÐ¸ÐºÐ°"},setBaseUrl:function(e){return this.baseUrl=e,this},setJson:function(e){return this.json=e,this},prepare:function(){var e={seo:{},stories:[],pages:[]};return _.each(this.json.content.main.stories,function(t,n,i){if(904425!=t.id){var r={id:t.id,name:t.name,href:t.href,advertisment:t.advertisment,announcement:t.announcementXml};if(t.picture&&(r.picture=t.picture.servingUrl,r.picture=this.baseUrl+r.picture,r.picture=r.picture+"=h300"),t.authors){var o=[];_.forEach(t.authors,function(e){var t=e.name,n="/images/person_thumbnail.png";e.avatar&&(n=this.baseUrl+e.avatar.servingUrl+"=s60-c"),o.push({name:t,avatar:n})},this),1==o.length&&(r.author=o[0]),o.length>1&&(r.authors=o)}t.date&&(r.date=t.date.day+" "+t.date.monthName+" Ð² "+t.date.hour+":"+t.date._minute),t.commentCounter&&(r.comments=t.commentCounter),r.announcement=r.announcement.replace(/src\s*=\s*"\/_ah\/(.+?)"/g,'src="'+this.baseUrl+'/_ah/$1"'),e.stories.push(r)}},this),this.json.content.main.paging&&(_.each(this.json.content.main.paging.pages,function(t,n,i){e.pages.push(t)},this),this.json.content.main.paging.nextHref&&(e.nextHref=this.json.content.main.paging.nextHref)),this.json.content.main.rubric?e.rubric=this.json.content.main.rubric.name:this.json.content.main.tag?e.rubric=this.json.content.main.tag.name:this.json.global.info.name&&(e.rubric=this.json.global.info.name),this.json.content.currentRubric?this.seo={title:this.json.content.currentRubric.rubric.searchTitle,keywords:this.json.content.currentRubric.rubric.seosearchKeywords}:this.json.content.main.tag?this.seo={title:this.json.content.main.tag.name,keywords:this.json.content.main.tag.name}:this.seo={title:this.json.global.info.name,keywords:this.json.global.info.searchKeywords},this.view=e,this},compile:function(){var e=("undefined"==typeof Handlebars?require("handlebars"):Handlebars).compile('<h1>{{rubric}}</h1>{{#each stories}}<article class="category"><a href="{{href}}"><img src="{{picture}}"/></a><h1><a href="{{href}}">{{name}}</a></h1><div>{{announcement}}</div><footer class="block-footer"><div class="block-footer__wrapper">{{#if author}}<img src="{{author.avatar}}"/><div class="block-footer__author">{{author.name}}</div>{{/if}}{{#if authors}}<img src="/images/person_zr.png"/><div class="block-footer__author">{{#each authors}}{{name}}{{#if @last}}.{{else}}, {{/if}}{{/each}}</div>{{/if}}<div class="block-footer__date">{{date}}</div></div><a class="block-footer__comments {{#if comments}}active{{/if}}" href="{{href}}#comments{{id}}"><span>{{#if comments}}{{comments}}{{else}}&plus;{{/if}}</span></a></footer></article><div class="adriver adriver-category-list-{{@index}}" data-adv-id="category-list-{{@index}}"></div>{{/each}}<nav class="category">{{#if nextHref}}<a href="{{nextHref}}" class="button disable-routing next-href">ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ ÐµÑÐµ</a>{{/if}}</nav>');return this.html=e(this.view),this},getSeo:function(){return this.seo},getHtml:function(){return this.html},getTemplateHtml:function(){return"<div class='content-wrapper' id='preloaded-content-wrapper'>"+this.getHtml()+"</div>"},getTemplateJs:function(){return"new $.CategoryController().decorate('#preloaded-content-wrapper').onAfterRender();"}}),"undefined"!=typeof module&&(module.exports=CategoryPreprocessor);var ContentPreprocessor=function(){};_.extend(ContentPreprocessor.prototype,Preprocessor.prototype),_.extend(ContentPreprocessor.prototype,{seo:{title:"Ð¡ÑÐ°ÑÑÑ"},setBaseUrl:function(e){return this.baseUrl=e,this},setJson:function(e){return this.json=e,this},prepare:function(){var e={seo:{},stories:[],pages:[]},t=this.json.content.main.story,n={name:t.name,href:t.href,announcement:t.announcementXml,advertisment:t.advertisment,content:t.contentXml,roles:[]};if(t.id?n.id=t.id:n.id="test",t.date&&(n.date=t.date.day+" "+t.date.monthName),t.picture&&(n.picture=this.baseUrl+t.picture.servingUrl+"=h300"),t.commentCounter?n.comments=t.commentCounter:n.comments=0,t.authors&&(n.authors=[],_.forEach(t.authors,function(e){var t=e.name,i="/images/person_thumbnail.png",r=[];e.avatar&&(i=this.baseUrl+e.avatar.servingUrl+"=s60-c"),_.each(e.roles,function(e){r.push(e.name)}),n.authors.push({name:t,avatar:i,roles:r})},this)),n.rubrics=[],t.rubrics){t.rubrics[0]&&(n.rubric=t.rubrics[0].name);for(var i=0;i<t.rubrics.length;i++)n.rubrics.push({name:t.rubrics[i].name,href:t.rubrics[i].href})}if(n.tags=[],t.tags)for(i=0;i<t.tags.length;i++)n.tags.push({name:t.tags[i].name,href:t.tags[i].href});if(n.pagination=[],t.pagination){var r=t.paginationSelected;for(i=0;i<t.pagination.length;i++){var o={id:t.pagination[i].id,href:t.pagination[i].href};o.active=i==r-1?"active":"",n.pagination.push(o)}}if(n.announcement=n.announcement.replace(/src\s*=\s*"\/_ah\/(.+?)"/g,'src="'+this.baseUrl+'/_ah/$1"'),n.content=n.content.replace(/src\s*=\s*"\/_ah\/(.+?)"/g,'src="'+this.baseUrl+'/_ah/$1"'),t.files){var s=_.uniq(t.files,function(e,t,n){return e.href});s&&(n.gallery=[],_.each(s,function(e){n.gallery.push(JSON.stringify({servingUrl:this.baseUrl+e.servingUrl,alt:e._comment,width:e.width,height:e.height}))},this))}this.json.content.main.poll&&(n.poll=encodeURIComponent(JSON.stringify(this.json.content.main.poll))),e.story=n;var a=this.json.content.main.seo;return a&&(this.seo={title:a.searchTitle,keywords:a.seosearchKeywords}),this.view=e,this},compile:function(){var e=("undefined"==typeof Handlebars?require("handlebars"):Handlebars).compile('<article class="article"><div class="article__date">{{story.date}}</div><h1 class="article__h1">{{story.name}}</h1><div class="article__announcement">{{story.announcement}}</div><div class="adriver adriver-relap-list-inner" data-adv-id="relap-list-inner"></div><div class="article__content">{{{story.content}}}</div>{{#if story.poll}}<div class="poll" data-poll="{{story.poll}}"></div>{{/if}}{{#if story.pagination}}<nav class="article__pagination"><h2>Ð¡ÑÑÐ°Ð½Ð¸ÑÑ</h2>{{#each story.pagination}}<a href="{{href}}" class="story-page {{active}}">{{#if id}}{{id}}{{/if}}</a></span>{{/each}}</nav>{{/if}}<nav class="article__comments_btn"><a href="{{story.href}}#comments{{#if story.id}}{{story.id}}{{/if}}" class="button">ÐÐ±ÑÑÐ´Ð¸ÑÑ ({{story.comments}})</a></nav><div class="gallery-panel hidden" data-id="gal-content-all">{{#each story.gallery}}<div data-gallery="{{.}}" class="g-img"></div>{{/each}}</div>{{#if story.authors}}<div class="article__authors">{{#each story.authors}}<div class="article__author"><img src="{{this.avatar}}"/><div>{{this.name}}</div></div>{{/each}}</div>{{/if}}<footer>{{#if story.rubrics}}<div class="story-metadata">{{#each story.rubrics}}<span class="story-rubric"><a href="{{href}}">{{name}}</a></span>{{/each}}</div>{{/if}}{{#if story.tags}}<div class="story-metadata"><strong>Ð¢ÐµÐ³Ð¸:</strong> {{#each story.tags}}<span class="story-tag"><a href="{{href}}">{{name}}</a></span>{{/each}}</div>{{/if}}</footer></article><div class="adriver adriver-relap-before" data-adv-id="relap-before"></div><aside class="plista"><div class="plista__wrapper" data-widget="plista_widget_webApp"></div></aside><div class="adriver adriver-relap-list-3" data-adv-id="relap-list-3"></div>');return this.html=e(this.view),this},getSeo:function(){return this.seo},getHtml:function(){return this.html},getTemplateHtml:function(){return"<div class='content-wrapper' id='preloaded-content-wrapper'>"+this.getHtml()+"</div>"},getTemplateJs:function(){return"new $.ContentController().decorate('#preloaded-content-wrapper').onAfterRender();"}}),"undefined"!=typeof module&&(module.exports=ContentPreprocessor);var CommentsPreprocessor=function(){};_.extend(CommentsPreprocessor.prototype,Preprocessor.prototype),_.extend(CommentsPreprocessor.prototype,{seo:{title:"ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹"},setBaseUrl:function(e){return this.baseUrl=e,this},setJson:function(e){return this.json=e,this},prepare:function(){var e={seo:{},stories:[],pages:[]};return _.each(this.json.content.main.stories,function(t,n,i){var r={id:t.id,name:t.name,href:t.href,announcement:t.announcementXml};if(t.picture&&(r.picture=t.picture.servingUrl,r.picture=this.baseUrl+r.picture,r.picture=r.picture+"=h300"),t.authors){var o=[];_.forEach(t.authors,function(e){var t=e.name,n="/images/person_thumbnail.png";e.avatar&&(n=this.baseUrl+e.avatar.servingUrl+"=s30-c"),o.push({name:t,avatar:n})},this),r.authors=o}t.date&&(r.date=t.date.day+" "+t.date.monthName+" Ð² "+t.date.hour+":"+t.date._minute),t.commentCounter&&(r.comments=t.commentCounter),r.announcement=r.announcement.replace(/src\s*=\s*"\/_ah\/(.+?)"/g,'src="'+this.baseUrl+'/_ah/$1"'),e.stories.push(r)},this),this.json.content.main.paging&&(_.each(this.json.content.main.paging.pages,function(t,n,i){e.pages.push(t)},this),this.json.content.main.paging.nextHref&&(e.nextHref=this.json.content.main.paging.nextHref)),this.json.content.main.rubric?e.rubric=this.json.content.main.rubric.name:this.json.content.main.tag?e.rubric=this.json.content.main.tag.name:this.json.global.info.name&&(e.rubric=this.json.global.info.name),this.json.content.currentRubric?this.seo={title:this.json.content.currentRubric.rubric.searchTitle,keywords:this.json.content.currentRubric.rubric.seosearchKeywords}:this.json.content.main.tag?this.seo={title:this.json.content.main.tag.name,keywords:this.json.content.main.tag.name}:this.seo={title:this.json.global.info.name,keywords:this.json.global.info.searchKeywords},this.view=e,this},compile:function(){"undefined"==typeof Handlebars&&(Handlebars=require("handlebars"));var e=Handlebars.compile('<h1>{{rubric}}</h1>{{#each stories}}<article class="category"><a href="{{href}}"><img src="{{picture}}"/></a><h1><a href="{{href}}">{{name}}</a></h1><div>{{announcement}}</div><footer class="block-footer"><div class="block-footer__wrapper">{{#each authors}}<div class="block-footer__author"><img src="{{avatar}}"/>{{name}}</div>{{/each}}<div class="block-footer__date">{{date}}</div></div><a class="block-footer__comments {{#if comments}}active{{/if}}" href="{{href}}#comments{{id}}"><span>{{#if comments}}{{comments}}{{else}}&plus;{{/if}}</span></a></footer></article>{{/each}}<nav class="category">{{#if nextHref}}<a href="{{nextHref}}" class="button disable-routing next-href">ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ ÐµÑÐµ</a>{{/if}}</nav>');return this.html=e(this.view),this},getSeo:function(){return this.seo},getHtml:function(){return this.html},getTemplateHtml:function(){return"<div class='content-wrapper' id='preloaded-content-wrapper'>"+this.getHtml()+"</div>"},getTemplateJs:function(){return"new $.CategoryController().setWrapper('#preloaded-content-wrapper').decorate();"}}),"undefined"!=typeof module&&(module.exports=CommentsPreprocessor);var MediaPreprocessor=function(){};_.extend(MediaPreprocessor.prototype,Preprocessor.prototype),_.extend(MediaPreprocessor.prototype,{seo:{title:"Ð¤Ð¾ÑÐ¾ Ð¸ Ð²Ð¸Ð´ÐµÐ¾"},setBaseUrl:function(e){return this.baseUrl=e,this},setJson:function(e){return this.json=e,this},prepare:function(){var e={seo:{},stories:[],pages:[]};return _.each(this.json.content.main.stories,function(t,n,i){var r={id:t.id,name:t.name,href:t.href,announcement:t.announcementXml};t.date&&(r.date=t.date.day+" "+t.date.monthName),t.videoGallery&&t.videos.length>0&&(r.videoGallery=!0,r.video=t.videos[0].id,t.videos.length>1&&(r.moreVideo=t.videos.length-1)),t.photoGallery&&(r.photoGallery=!0,r.gallery=t.contentGalleryXml),e.stories.push(r)},this),this.json.content.main.paging&&this.json.content.main.paging.nextHref&&(e.nextHref=this.json.content.main.paging.nextHref),this.json.content.currentRubric?this.seo={title:this.json.content.currentRubric.rubric.searchTitle,keywords:this.json.content.currentRubric.rubric.seosearchKeywords}:this.seo={title:this.json.global.info.name,keywords:this.json.global.info.searchKeywords},this.view=e,this},compile:function(e){var t='{{#each stories}} <article class="media"><time>{{date}}</time><h1><a href="{{href}}">{{name}}</a></h1>{{#if photoGallery}}{{{gallery}}}{{/if}}{{#if videoGallery}}<div class="video-placeholder video-placeholder--unloaded" data-video-id="{{video}}" style="background-image: url(http://img.youtube.com/vi/{{video}}/hqdefault.jpg);"></div>{{#if moreVideo}}<div class="more-videos"><a href="{{href}}">+{{moreVideo}} Ð²Ð½ÑÑÑÐ¸</a></div>{{/if}}{{/if}}</article>{{/each}}';0==this.isAppendable()&&(t="<h1>Ð¤Ð¾ÑÐ¾ Ð¸ Ð²Ð¸Ð´ÐµÐ¾</h1>"+t),"undefined"==typeof Handlebars&&(Handlebars=require("handlebars"));var n=Handlebars.compile(t+'<nav class="category">{{#if nextHref}}<a href="{{nextHref}}" class="button disable-routing next-href">ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ ÐµÑÐµ</a>{{/if}}</nav>');return this.html=n(this.view),this},getSeo:function(){return this.seo},getHtml:function(){return this.html},getTemplateHtml:function(){return"<div class='content-wrapper' id='preloaded-content-wrapper'>"+this.getHtml()+"</div>"},getTemplateJs:function(){return"new $.MediaController().decorate('#preloaded-content-wrapper').onAfterRender();"}}),"undefined"!=typeof module&&(module.exports=MediaPreprocessor);var PollsPreprocessor=function(){};_.extend(PollsPreprocessor.prototype,Preprocessor.prototype),_.extend(PollsPreprocessor.prototype,{seo:{title:"ÐÐ¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ"},setBaseUrl:function(e){return this.baseUrl=e,this},setJson:function(e){return this.json=e,this},prepare:function(){var e={seo:{},filter:[],polls:[],pages:[],nextHref:!1};return _.each(this.json.content.all.mediaFilterItems,function(t,n,i){t.selected?t.css="active":t.css="unactive",e.filter.push(t)},this),_.each(this.json.content.all.polls,function(t,n,i){var r=this.preparePoll(t);e.polls.push(r)},this),this.json.content.all.paging&&(_.each(this.json.content.all.paging.pages,function(t,n,i){e.pages.push(t)},this),this.json.content.all.paging.nextHref&&(e.nextHref=this.json.content.all.paging.nextHref)),this.view=e,this},preparePoll:function(e){return _.each(e.pollItems,function(e){e.percent&&(e.percent=e.percent.toFixed(2))}),e.active?e.voted?e.renderForm=!1:e.renderForm=!0:e.renderForm=!1,e.selected?e.css="active":e.css="unactive",e},compile:function(){var e="";_.each(this.view.polls,function(t){e+=this.compilePoll(t)},this);"undefined"==typeof Handlebars&&(Handlebars=require("handlebars"));var t=Handlebars.compile('<h1>ÐÑÐµ Ð¾Ð¿ÑÐ¾ÑÑ</h1><nav class="filter"><ul>{{#each filter}}<li class="{{css}}"><a href="{{href}}"><span>{{name}}</span></a></li>{{/each}}</ul></nav>'+e+'{{#if nextHref}}<nav class="poll"><a href="{{nextHref}}" class="button disable-routing next-href">ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ ÐµÑÐµ</a></nav>{{/if}}');return this.html=t(this.view),this},compilePoll:function(e){return"undefined"==typeof Handlebars&&(Handlebars=require("handlebars")),Handlebars.compile('<article class="poll {{#if active}}active{{/if}}"><div class="poll__date">{{dateStart.day}} {{dateStart.monthName}} {{dateStart.year}} Ð³Ð¾Ð´Ð°</div><h4 class="poll__title">{{#if refStory}}<a class="poll__link" href="{{refStory}}">{{name}}</a></h4>{{else}}<span>{{name}}</span>{{/if}}</h4>{{#if renderForm}}<form data-id="{{id}}" data-multiple="{{multiple}}" data-max-answers="{{maxAnswer}}">{{/if}}<div class="poll-items">{{#each pollItems}}{{#if ../renderForm}}<div class="poll-form"><label for="poll-query-{{id}}">{{#if ../multiple}}<input name="poll-answer" value="{{id}}" type="checkbox" id="poll-query-{{id}}" />{{else}}<input name="poll-answer" value="{{id}}" type="radio" id="poll-query-{{id}}" />{{/if}}<span>{{name}}</span></label></div>{{else}}<div class="poll-query"><span>{{name}}</span></div><div class="poll-result"><div class="poll-scale"><div><div style="width:{{percent}}%;"></div></div></div><div class="poll-summary"><strong>{{count}}</strong>&nbsp;({{percent}}%)</div></div>{{/if}}{{/each}}</div>{{#if renderForm}}<footer><div class="poll-submit"><button>ÐÑÐ¾Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°ÑÑ</button></div>{{#if maxAnswer}}<div class="poll-max-answers">ÐÐ¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾ÑÐ²ÐµÑÐ¾Ð²: {{maxAnswer}}</div>{{/if}}<div class="poll-all-link"><a href="/polls/">ÐÑÐµ Ð¾Ð¿ÑÐ¾ÑÑ</a></div></footer>{{/if}}{{#if renderForm}}</form>{{/if}}</article>')(e)},getSeo:function(){return this.seo},getHtml:function(){return this.html},getTemplateHtml:function(){return"<div class='content-wrapper' id='preloaded-content-wrapper'>"+this.getHtml()+"</div>"},getTemplateJs:function(){return"new $.PollsController().decorate('#preloaded-content-wrapper').onAfterRender();"}}),"undefined"!=typeof module&&(module.exports=PollsPreprocessor);var SearchPreprocessor=function(){};function Animation(){}function Utils(){}function BasePlugin(){}function BaseController(){}function ModalWindowPlugin(){}function TouchGestures(){}function GalleryPlugin(){}function PollPlugin(){this.processor=(new PollsPreprocessor).setBaseUrl(App.getBaseUrl())}function ToastrPlugin(e){var t,n,i,r=0,o="error",s="info",a="success",l="warning",c=e;function u(e,t,n){var i=!(!n||!n.force)&&n.force;return!(!e||!i&&0!==$(":focus",e).length)&&(e[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){d(e)}}),!0)}function h(e,n){return e||(e=p()),(t=$("#"+e.containerId)).length?t:(n&&(i=e,(t=$("<div/>").attr("id",i.containerId).addClass(i.positionClass).attr("aria-live","polite").attr("role","alert")).appendTo($(i.target)),t=t),t);var i}function p(){return $.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1},c)}function d(e){t||(t=h()),e.is(":visible"),e.remove(),e=null,0===t.children().length&&(t.remove(),i=void 0)}function f(e){n&&n(e)}return{notify:function(e){var n=this,o=p(),s=e.iconClass||o.iconClass;if(void 0!==e.optionsOverride&&(o=$.extend(o,e.optionsOverride),s=e.optionsOverride.iconClass||s),!function(e,t){if(e.preventDuplicates){if(t.message===i)return!0;i=t.message}return!1}(o,e)){r++,t=h(o,!0);var a=null,l=$("<div/>"),c=$("<div/>"),u=$("<div/>"),m=$("<div/>"),g=$(o.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},y={toastId:r,state:"visible",startTime:new Date,options:o,map:e};return e.iconClass&&l.addClass(o.toastClass).addClass(s),e.title&&(c.append(o.escapeHtml?w(e.title):e.title).addClass(o.titleClass),l.append(c)),e.message&&(u.append(o.escapeHtml?w(e.message):e.message).addClass(o.messageClass),l.append(u)),o.closeButton&&(g.addClass("toast-close-button").attr("role","button"),l.prepend(g)),function(){if(o.actionButton){var e=$("<button/>");e.addClass("toast-action-button"),o.actionButton.css&&e.addClass(o.actionButton.css),o.actionButton.title&&e.html(o.actionButton.title),o.actionButton.action&&"function"==typeof o.actionButton.action&&e.on("click",function(e){o.actionButton.scope?o.actionButton.action.call(o.actionButton.scope,e,n,l):o.actionButton.action.call(this,e,n,l)}.bind(this)),l.append(e)}}(),o.progressBar&&(m.addClass("toast-progress"),l.prepend(m)),o.newestOnTop?t.prepend(l):t.append(l),l.hide(),l[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),o.timeOut>0&&(a=setTimeout(b,o.timeOut),v.maxHideTime=parseFloat(o.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,o.progressBar&&(v.intervalId=setInterval(S,10))),function(){l.hover(x,_),!o.onclick&&o.tapToDismiss&&l.click(b);o.closeButton&&g&&g.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),b(!0)});o.onclick&&l.click(function(e){o.onclick(e),b()})}(),f(y),l}function w(e){return null==e&&(e=""),new String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(e){var t=e&&!1!==o.closeMethod?o.closeMethod:o.hideMethod,n=e&&!1!==o.closeDuration?o.closeDuration:o.hideDuration,i=e&&!1!==o.closeEasing?o.closeEasing:o.hideEasing;if(!$(":focus",l).length||e)return clearTimeout(v.intervalId),l[t]({duration:n,easing:i,complete:function(){d(l),o.onHidden&&"hidden"!==y.state&&o.onHidden(),y.state="hidden",y.endTime=new Date,f(y)}})}function _(){(o.timeOut>0||o.extendedTimeOut>0)&&(a=setTimeout(b,o.extendedTimeOut),v.maxHideTime=parseFloat(o.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)}function x(){clearTimeout(a),v.hideEta=0,l.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})}function S(){var e=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;m.width(e+"%")}},error:function(e,t,n){return this.notify({type:o,iconClass:p().iconClasses.error,message:e,optionsOverride:n,title:t})},info:function(e,t,n){return this.notify({type:s,iconClass:p().iconClasses.info,message:e,optionsOverride:n,title:t})},success:function(e,t,n){return this.notify({type:a,iconClass:p().iconClasses.success,message:e,optionsOverride:n,title:t})},warning:function(e,t,n){return this.notify({type:l,iconClass:p().iconClasses.warning,message:e,optionsOverride:n,title:t})},subscribe:function(e){n=e},clear:function(e,n){var i=p();t||h(i),u(e,i,n)||function(e){for(var n=t.children(),i=n.length-1;i>=0;i--)u($(n[i]),e)}(i)},remove:function(e){var n=p();t||h(n),e&&0===$(":focus",e).length?d(e):t.children().length&&t.remove()}}}function SearchPlugin(){this.processor=(new SearchPreprocessor).setBaseUrl(App.getBaseUrl())}_.extend(SearchPreprocessor.prototype,Preprocessor.prototype),_.extend(SearchPreprocessor.prototype,{seo:{title:"ÐÐ¾Ð¸ÑÐº"},setBaseUrl:function(e){return this.baseUrl=e,this},setJson:function(e){return this.json=e,this},prepare:function(){var e={cars:this.json.content.main.unique_cars,rubrics:this.json.content.main.unique_rubrics,authors:this.json.content.main.unique_authors,stories:[],pages:[],searchGroupItems:[]},t=0,n=0;return _.each(this.json.content.main.searchGroupItems,function(i,r,o){var s=i;if("ÐÑÐ´Ð¸"!==s.name&&"ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¸"!==s.name){"ÐÑÐµ"===s.name?n=r:t+=+s.count;var a={name:s.name,count:s.count,href:s.href,selected:s.selected};e.searchGroupItems.push(a)}}),e.searchGroupItems.length&&(e.searchGroupItems[n].count=t),_.each(this.json.content.main.stories,function(t,n,i){var r=t.story,o={name:r.name,href:r.href,id:r.id,commentCounter:r.commentCounter};r.picture&&(o.picture=r.picture.servingUrl,o.picture=this.baseUrl+o.picture,o.picture=o.picture+"=h300"),e.stories.push(o)},this),this.json.content.main.paging&&(_.each(this.json.content.main.paging.pages,function(t,n,i){e.pages.push(t)},this),this.json.content.main.paging.nextHref&&(e.nextHref=this.json.content.main.paging.nextHref)),this.view=e,this},compile:function(){var e=("undefined"==typeof Handlebars?require("handlebars"):Handlebars).compile('<h1>ÐÐ¾Ð¸ÑÐº</h1><form id="search-form"><div class="search-query-field"><input class="search-query" type="text" id="search-input" placeholder="ÐÐ¾Ð¸ÑÐº"></div><div class="search-filter"><div class="search-filter-title">ÐÑÐºÐ°ÑÑ Ð¿Ð¾:</div><div class="search-filter-dropdown"><select class="select search-filter-cars"><option value="default" selected>ÐÐ¾ Ð¼Ð°ÑÐºÐ°Ð¼</option>{{#each cars}}<option value="{{id}}">{{name}}</option>{{/each}}</select><select class="select current search-filter-rubrics"><option class="current" value="default" selected>ÐÐ¾ ÑÑÐ±ÑÐ¸ÐºÐ°Ð¼</option>{{#each rubrics}}<option value="{{id}}">{{name}}</option>{{/each}}</select><select class="select search-filter-authors select-last"><option value="default" selected>ÐÐ¾ Ð°Ð²ÑÐ¾ÑÐ°Ð¼</option>{{#each authors}}<option value="{{id}}">{{name}}</option>{{/each}}</select><a href="#" class="search-filter-remove search-filter-remove-dropdown" data-filter-types="cars,rubrics,authors"><span class="search-filter-remove-text">ÑÐ±ÑÐ¾ÑÐ¸ÑÑ</span></a></div><div class="search-filter-dates">ÐÑÐºÐ°ÑÑ Ñ<input class="search-input-text" type="text" readonly="true" id="search-date-from">Ð¿Ð¾<input class="search-input-text" type="text" readonly="true" id="search-date-to"><a href="#" class="search-filter-remove search-filter-remove-dates" data-filter-types="dateFrom,dateTo"><span class="search-filter-remove-text">ÑÐ±ÑÐ¾ÑÐ¸ÑÑ</span></a></div><div class="search-filter-block"><label class="search-label"><input class="search-checkbox" type="checkbox" id="search-filter-heading" value="true"><span class="search-label-title checkbox-label-indicator">Ð¢Ð¾Ð»ÑÐºÐ¾ Ð² Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ°Ñ</span></label><label class="search-label"><input class="search-checkbox" type="checkbox" id="search-filter-exact" value="true"><span class="search-label-title checkbox-label-indicator">Ð¢Ð¾ÑÐ½Ð¾Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ðµ</span></label></div></div><div class="search-button-container"><button class="search-button" type="submit">ÐÐ°Ð¹ÑÐ¸</button></div></form>'+(this.view.stories.length?'<div class="search-result-tags"><span class="search-result-title">ÐÐ°Ð¹Ð´ÐµÐ½Ð¾:</span><div class="search-result-dropdown"><select id="search-result-group">{{#each searchGroupItems}}<option value="{{href}}" name="default" {{#if selected}}selected{{/if}}>{{name}} {{count}}</option>{{/each}}</select></div></div>{{#each stories}}<article class="article_search"><a class="article_search__picture" href="{{href}}"><img src="{{picture}}"></a><header><a class="article_search__header" href="{{href}}">{{name}}</a><div class="article_search__comments"><a href="{{href}}#comments{{id}}"><span>{{#if commentCounter}}{{commentCounter}}{{else}}&plus;{{/if}}</span></a></div></header></article>{{/each}}<nav class="search">{{#if nextHref}}<a href="{{nextHref}}" class="button disable-routing next-href">ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ ÐµÑÐµ</a>{{/if}}</nav>':'<h3 class="absolutely-nothing">ÐÑÐºÐ¾Ð¼Ð°Ñ ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°ÑÐ¸Ñ ÑÐ»Ð¾Ð² Ð½Ð¸Ð³Ð´Ðµ Ð½Ðµ&nbsp;Ð²ÑÑÑÐµÑÐ°ÐµÑÑÑ</h3>'));return this.html=e(this.view),this},getSeo:function(){return this.seo},getHtml:function(){return this.html},getTemplateHtml:function(){return"<div class='content-wrapper' id='preloaded-content-wrapper'>"+this.getHtml()+"</div>"},getTemplateJs:function(){return"new $.SearchController().decorate('#preloaded-content-wrapper').onAfterRender();"}}),"undefined"!=typeof module&&(module.exports=SearchPreprocessor),Animation.translate3d=function(e,t,n,i,r){var o=$.speed(n,i,r);return o.easing=o.easing||"ease",t=$.extend({x:0,y:0,z:0},t),e.each(function(){var e=$(this);e.css({transitionDuration:o.duration+"ms",transitionTimingFunction:o.easing,transform:"translate3d("+t.x+"px, "+t.y+"px, "+t.z+"px)"}),setTimeout(function(){e.css({transitionDuration:"0s",transitionTimingFunction:"ease"}),o.complete()},o.duration)})},Utils.startsWith=function(e,t){return e.slice(0,t.length)===t},Utils.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},Utils.addClass=function(e,t){new RegExp("(^|\\s)"+t+"(\\s|$)","g").test(e.className)||(e.className=(e.className+" "+t).replace(/\s+/g," ").replace(/(^ | $)/g,""))},Utils.removeClass=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")},Utils.hasClass=function(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)},Utils.hasKey=function(e,t){return t.split(".").every(function(t){return"object"==typeof e&&null!==e&&t in e!=!1&&(e=e[t],!0)})},"undefined"!=typeof module&&(module.exports=Utils),BasePlugin.prototype._debug=!1,BasePlugin.prototype.log=function(e){this._debug&&console.log(this._name+" -- "+e)},BasePlugin.prototype.error=function(e){console.log(this._name+" -- ERROR -- "+e),App.getServise("AlertService").errorNotify(e)},BasePlugin.prototype.sucÑessMessage=function(e){console.log(this._name+" -- ERROR -- "+e),App.getServise("AlertService").successNotify(e)},BasePlugin.prototype.debug=function(e){this._debug&&console.log(e)},BasePlugin.prototype.getPluginName=function(){return this._name},BaseController.prototype.wrapper=null,BaseController.prototype.url=null,BaseController.prototype.fetchUrl=null,BaseController.prototype.data=null,BaseController.prototype.view=null,BaseController.prototype.template=null,BaseController.prototype.html=null,BaseController.prototype.append=!1,BaseController.prototype.decorate=function(e){return this.log("Decorated container"),e?this.setWrapper(e):this.createWrapper(),this.onAfterDecorate(),this},BaseController.prototype.onAfterRender=function(){this.log("onAfterRender")},BaseController.prototype.onAfterDecorate=function(){this.log("onAfterDecorate")},BaseController.prototype.fetcher=function(e,t,n){return this.log("Fetcher"),this.fetchUrl=e,null==n&&(n=function(e,t,n){App.getServise("AlertService").errorNotify("ÐÑÐ¸Ð±ÐºÐ° Ð·Ð°Ð³ÑÑÐ·ÐºÐ¸ Ð´Ð°Ð½Ð½ÑÑ")}),null==t&&(t=function(e){this.log("Data received successfully!"),this.render(e)}),$.ajax({context:this,dataType:"json",url:this.getFetchUrl(),headers:{Accept:"application/json"},beforeSend:function(){App.showLoadingIndicator(!0)},complete:function(){App.showLoadingIndicator(!1)},success:t,error:n}),this},BaseController.prototype.ticketFetcher=function(e,t,n){return this.log("Ticket Fetcher"),App.getServise("SessionService").processTicket(function(i,r,o){this.fetchUrl=e,null==n&&(n=function(e,t,n){this.error(n),App.getServise("AlertService").errorNotify("ÐÑÐ¸Ð±ÐºÐ° Ð·Ð°Ð³ÑÑÐ·ÐºÐ¸ Ð´Ð°Ð½Ð½ÑÑ")}),null==t&&(t=function(e){this.log("Data received successfully!"),this.render(e)}),$.ajax({context:this,dataType:"json",url:this.getFetchUrl(),data:{ticket:i},beforeSend:function(){App.showLoadingIndicator(!0)},complete:function(){App.showLoadingIndicator(!1)},success:t,error:n})},this),this},BaseController.prototype.isAppendable=function(){return this.append},BaseController.prototype.makeAppendable=function(e){this.append=1==e},BaseController.prototype.removeController=function(){this.removeWrapper()},BaseController.prototype.getUrl=function(e){return App.getBaseUrl()+e},BaseController.prototype.getFetchUrl=function(){return App.getBaseUrl()+this.fetchUrl},BaseController.prototype.setWrapper=function(e){return this.wrapper="string"==typeof e?$(e):e,this},BaseController.prototype.getWrapper=function(){return this.wrapper},BaseController.prototype.createWrapper=function(){this.wrapper=$("<div/>").attr("class","content-wrapper").attr("id",_.uniqueId("content-wrapper-"))},BaseController.prototype.removeWrapper=function(){this.wrapper=null},BaseController.prototype.showWrapper=function(e){this.addToWrapper(e),App.changeLayout(this.getWrapper())},BaseController.prototype.addToWrapper=function(e){this.getWrapper().html(e)},BaseController.prototype.appendToWrapper=function(e){this.getWrapper().append(e)},function(e,t,n,i){"use strict";var r="LogService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("initialization")},pushRemoteLog:function(e){}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="AlertService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,toastr:null,init:function(){this.log("initialization"),this.toastr=new ToastrPlugin({closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-bottom-full-width",preventDuplicates:!0,onclick:null,showDuration:200,hideDuration:300,timeOut:3e3,extendedTimeOut:0,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"})},successNotify:function(e,t,n){"object"==typeof t&&(n=t,t=null),this.toastr.success(e,t,n)},infoNotify:function(e,t,n){"object"==typeof t&&(n=t,t=null),this.toastr.info(e,t,n)},warningNotify:function(e,t,n){"object"==typeof t&&(n=t,t=null),this.toastr.warning(e,t,n)},errorNotify:function(e,t,n){"object"==typeof t&&(n=t,t=null),this.toastr.error(e,t,n)}}),e[r]=e.fn[r]=s}(jQuery,window,document),function($,window,document,undefined){"use strict";var pluginName="AdvertService",defaults={};function Plugin(e){this._name=pluginName,this.settings=$.extend({},defaults,e),this.init()}$.extend(Plugin.prototype,BasePlugin.prototype),$.extend(Plugin.prototype,{_debug:!1,bannerPlaces:{},init:function(){this.log("initialization")},lockBannerPlace:function(e){this.bannerPlaces[e]="blocked"},unlockBannerPlace:function(e){this.bannerPlaces[e]="unblocked"},idBannerPlaceLocked:function(e){return"blocked"==this.bannerPlaces[e]},renderBanners:function($filter){$(document).trigger("renderBanners");var $advCodesAsJson=JSON.parse(window.atob(B64AdvCodes));$("[data-adv-id]").each(function($c,$el){var $id=$($el).data("adv-id").replace(/-/g,"_");if(!$filter||!1!==Utils.startsWith($id,$filter)){var $content=$advCodesAsJson["code_"+$id];if($content){$el.innerHTML=$content;for(var codes=$el.getElementsByTagName("script"),i=0;i<codes.length;i++)eval(codes[i].text)}}})}}),$[pluginName]=$.fn[pluginName]=Plugin}(jQuery,window,document),function(e,t,n,i){"use strict";var r="SessionService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.storage=null,this.defaultAvatar="/images/person_thumbnail.png",this.events_={anonymousSessionSuccess:"anonymousSessionSuccess",anonymousSessionFailed:"anonymousSessionFailed",sessionMaintenanceSuccess:"sessionMaintenanceSuccess",sessionMaintenanceFailed:"sessionMaintenanceFailed",authorizationSuccess:"authorizationSuccess",authorizationFailed:"authorizationFailed",authorizationError:"authorizationError",logoutSuccess:"logoutSuccess",logoutFailed:"logoutFailed",logoutError:"logoutError",ticketSuccess:"ticketSuccess",ticketFailed:"ticketFailed",ticketError:"ticketError"},this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("initialization"),this.storage=App.getStorage();var e=null;this.isAuthorized()||(e=Cookies.get("global_sid"))&&this.authorizeBySid(e),(e=this.storage.get("session.sid"))?this._sessionMaintenance(e):this._startAnonymousSession()},getUid:function(){return App.getStorage().get("session.uid")},getSid:function(){return App.getStorage().get("session.sid")},getNickname:function(){return App.getStorage().get("session.nickname")},getAvatar:function(){return App.getStorage().get("session.picture")},sessionExists:function(){var e=this.getSid();return null!=e},isAnonymous:function(){if(this.sessionExists()){var e=this.getUid();return null==e}return null},isAuthorized:function(){if(this.sessionExists()){var e=this.getUid();return null!=e}return null},authorizeBySid:function(t){this.log("Authorize by SID"),e.post({url:"https://api.zr.ru/passport/api/v1/authentication/check",dataType:"json",context:this,async:!1,data:{apiKey:App.getApiKey(),format:"json",sid:t},success:function(e){1==e.success?(this.log("success"),this._updateSession(e.result)):(this.log("failed"),this._clearSession())},error:function(t,n,i){this.log("error"),e(this).trigger(this.events_.authorizationError)}})},authorize:function(t,n){this.log("Authorize Session"),e.post({url:"https://api.zr.ru/passport/api/v1/remoting/get-user-by-login-and-password",dataType:"json",context:this,data:{apiKey:App.getApiKey(),format:"json",email:t,password:n},success:function(t){1==t.success&&e.post({url:"https://api.zr.ru/passport/api/v1/remoting/authorize-session",dataType:"json",context:this,data:{apiKey:App.getApiKey(),format:"json",uid:t.result.uid,sid:this.getSid()},success:function(n){1==n.success&&(this.log("success"),this._updateSession(t.result),e(this).trigger(this.events_.authorizationSuccess)),0==n.success&&(this.log("failed"),this._clearSession(),e(this).trigger(this.events_.authorizationFailed))},error:function(t,n,i){this.log("error"),e(this).trigger(this.events_.authorizationError)}}),0==t.success&&(this.log("failed"),this._clearSession(),e(this).trigger(this.events_.authorizationFailed))},error:function(t,n,i){this.log("error"),e(this).trigger(this.events_.authorizationError)}})},logout:function(){this.log("Logout user"),e.post({url:"https://api.zr.ru/passport/api/v1/authentication/logout",dataType:"json",context:this,data:{apiKey:App.getApiKey(),format:"json",sid:this.getSid()},success:function(t){1==t.success&&(this.log("success"),this._clearSession(),e(this).trigger(this.events_.logoutSuccess)),0==t.success&&(this.log("failure"),e(this).trigger(this.events_.logoutFailed))},error:function(t,n,i){this.log("error"),e(this).trigger(this.events_.logoutError),this.error(i)}})},processTicket:function(t,n){this.log("Process ticket"),this.getSid()?e.post({url:"https://api.zr.ru/passport/api/v1/remoting/request-ticket?format=json",dataType:"json",context:this,data:{apiKey:App.getApiKey(),sid:this.getSid()},success:function(i){if(1==i.success){this.log("succeess"),e(this).trigger(this.events_.ticketSuccess);var r=i.result.ticket;t.call(n,r,this,i)}0==i.success&&(this.log("failure"),e(this).trigger(this.events_.ticketFailed))},error:function(t,n,i){this.log("error"),e(this).trigger(this.events_.ticketError),this.error(i)}}):console.error("SID not found")},_startAnonymousSession:function(){this.log("Start Anonymous Session"),e.post({async:!1,url:"https://api.zr.ru/passport/api/v1/remoting/start-anonymous-session",dataType:"json",context:this,data:{apiKey:App.getApiKey(),format:"json"},success:function(t){1==t.success&&(this.log("Anonymous Session ["+t.result.sid+"] success"),this.storage.set("session.sid",t.result.sid),Cookies.set("global_sid",t.result.sid,{expires:365,domain:".zr.ru"}),e(this).trigger(this.events_.anonymousSessionSuccess)),0==t.success&&(this.log("Anonymous Session failure"),this._clearSession(),e(this).trigger(this.events_.anonymousSessionFailed))},error:function(t,n,i){this.log("Anonymous Session error"),e(this).trigger(this.events_.anonymousSessionFailed)}})},_sessionMaintenance:function(t){this.log("Maintenance ["+t+"]"),t&&e.post({url:"https://api.zr.ru/passport/api/v1/remoting/get-user-session-by-sid",dataType:"json",context:this,data:{format:"json",apiKey:App.getApiKey(),sid:t},success:function(t){1==t.success&&(this.log("Maintenance - success"),e(this).trigger(this.events_.sessionMaintenanceSuccess)),0==t.success&&(this.log("Maintenance - failure"),this._clearSession(),e(this).trigger(this.events_.sessionMaintenanceFailed))},error:function(t,n,i){this.log("Maintenance - error"),e(this).trigger(this.events_.sessionMaintenanceFailed)}})},_updateSession:function(e){if(this.log("Update session data:"),e.sid){this.log("set session.sid"),App.getStorage().set("session.sid",e.sid);var t=URI().host().split(".").slice(-2);t.length>1&&Cookies.set("global_sid",e.sid,{domain:"."+t[0]+"."+t[1]})}else this.log("remove session.sid"),App.getStorage().remove("session.sid");e.uid?(this.log("set session.uid"),App.getStorage().set("session.uid",e.uid)):(this.log("remove session.uid"),App.getStorage().remove("session.uid")),e.email?(this.log("set session.email"),App.getStorage().set("session.email",e.email)):(this.log("remove session.email"),App.getStorage().remove("session.email")),e.nickname?(this.log("set session.nickname"),App.getStorage().set("session.nickname",e.nickname)):(this.log("remove session.nickname"),App.getStorage().remove("session.nickname")),e.picture?(this.log("set session.picture"),App.getStorage().set("session.picture",e.picture)):(this.log("remove session.picture"),App.getStorage().remove("session.picture"))},_clearSession:function(){this.log("Clear session data");var e=URI().host().split(".").slice(-2);e.length>1&&Cookies.remove("global_sid",{domain:"."+e[0]+"."+e[1]}),this.storage.reset()}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="AuthenticationService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("initialization"),this.loginPanel=new e.AuthenticationLoginPanel,this.logoutPanel=new e.AuthenticationLogoutPanel,this.registrationPanel=new e.AuthenticationRegistrationPanel,e(this.loginPanel).on("success",e.proxy(function(){App.getServise("ProfileService").render()},this)),e(this.loginPanel).on("failed",e.proxy(function(){App.getServise("ProfileService").render()},this)),e(this.logoutPanel).on("success",e.proxy(function(){App.getServise("ProfileService").render()},this))},openLoginPanel:function(){this.loginPanel.open()},openLogoutPanel:function(){this.logoutPanel.open()}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="ProfileService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.storage=null,this.defaultAvatar="/images/person_thumbnail.png",this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("initialization"),this.storage=App.getStorage()},render:function(){this.log("Render Profile");var t=App.getServise("SessionService"),n=App.getServise("AuthenticationService"),i=e(".app-header__profile .wrapper");i.empty();var r=t.getAvatar(),o=(t.getNickname(),e("<img/>"));o.attr("src",r||this.defaultAvatar),i.append(o);var s=e("<a>ÐÑÐ¾Ð´</a>");i.append(s);var a=e("<a>ÐÑÑÐ¾Ð´</a>");i.append(a),s.on("click",e.proxy(n.openLoginPanel,n)),a.on("click",e.proxy(n.openLogoutPanel,n)),t.isAuthorized()?(s.hide(),a.show()):(s.show(),a.hide())}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="CountersService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.hitCounter=0,this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("initialization")},hit:function(e){this.hitCounter++,this.hitToGoogle(e),this.hitToYandex(e),this.hitToMail(e),this.hitToLiru(e),this.hitCounter>1&&this.hitToTns(e)},hitToYandex:function(e){"undefined"!=typeof yaCounter35055585&&yaCounter35055585.hit(e),"undefined"!=typeof yaCounter17880517&&yaCounter17880517.hit(e)},hitToGoogle:function(e){"undefined"!=typeof ga&&ga("send","pageview",{page:e})},hitToTns:function(e){"undefined"!=typeof tnsCounterZarulem_ru&&tnsCounterZarulem_ru.hit(null,e,null)},hitToLiru:function(e){(new Image).src="//counter.yadro.ru/hit?r"+escape(n.referrer)+("undefined"==typeof screen?"":";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?screen.colorDepth:screen.pixelDepth))+";u"+escape(n.URL)+";h"+escape(n.title.substring(0,80))+";"+Math.random()},hitToMail:function(e){(t._tmr||(t._tmr=[])).push({id:"1128901",type:"pageView",start:(new Date).getTime()})}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="HistoryService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("initialization")},changeWindowTitle:function(e){var t="";t=null!=e?e:App.getServise("SeoService").getDefaultTitle(),this.log("Change title from ["+n.title+"] to ["+t+"]"),n.title=t},changeWindowUrl:function(e,n){App.URL.url()!=n&&(t.history.pushState({controller:e},"",n),this.log("Change url from ["+location.pathname+"] to ["+n+"]")),this._externalActions(e,n)},_externalActions:function(e,t){this.log("Do external actions");var n=App.URL.url();App.getServise("CountersService").hit(n),App.getServise("LogService").pushRemoteLog({url:t,sendUrl:n,controller:e,callee:"changeWindowHistory"})}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="SeoService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("initialization")},getDefaultTitle:function(){return"ÐÐ° ÑÑÐ»ÐµÐ¼"}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="StorageService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("initialization")}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="RelapService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,recsObj:null,container:null,setContainer:function(e){this.container=e},setRecsObj:function(e){this.recsObj=e},init:function(){this.log("initialization"),null==t.relapApiGetter&&(t.relapApiGetter=function(t){var n=e(".relap > .relap__wrapper");n.length>0&&(n.empty(),App.getServise("RelapService").setContainer(n),App.getServise("RelapService").setRecsObj(t),App.getServise("RelapService").render())},t.addEventListener("scroll",this.handleBlockView.bind(this),!1),t.addEventListener("resize",this.handleBlockView.bind(this),!1))},fetch:function(){},render:function(){for(var e in this.recsObj.recs)if(this.recsObj.recs[e]){var t=this.recsObj.recs[e],i=n.createElement("article");i.onclick=function(){(new Image).src="https://relap.io/api/v2/pixel.gif?rid="+t.rec_id},t.url.indexOf("www.zr.ru")>-1&&(t.url=t.url.replace("https://www.zr.ru/","/")),t.url.indexOf("m.zr.ru")>-1&&(t.url=t.url.replace("https://m.zr.ru/","/")),Utils.startsWith(t.url,"/content/")&&!1===Utils.endsWith(t.url,"/")&&(t.url=t.url+"/"),i.innerHTML='<a href="'+t.url+'"><img src="'+t.thumb+'"/><h4>'+t.title+'</h4></a><div class="adriver adriver-relap-list-'+e+'" data-adv-id="relap-list-'+e+'"></div>',this.container.append(i)}App.getServise("AdvertService").renderBanners("relap_list")},apiCaller:function(){var e="https://relap.io/api/v2/similar_pages_jsonp.js?url="+encodeURIComponent("https://m.zr.ru"+App.URL.url())+"&callback="+encodeURIComponent("window.relapApiGetter")+"&limit=10",t=n.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),n.getElementsByTagName("head").item(0).appendChild(t)},handleBlockView:function(){var t=e(".relap");t.length>0&&(this.recsObj&&this.rectsIntersect(this.getPageRect(),this.getElementRect(t[0]))&&((new Image).src="https://relap.io/api/v2/pixel.gif?rgid="+this.recsObj.rec_group_id))},getPageRect:function(){var e=n.body,i=e.scrollLeft,r=e.scrollTop;return[i,r,i+("innerWidth"in t?t.innerWidth:e.clientWidth),r+("innerHeight"in t?t.innerHeight:e.clientHeight)]},getElementRect:function(e){for(var t=0,n=0,i=e.offsetWidth,r=e.offsetHeight;null!==e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return[t,n,t+i,n+r]},rectsIntersect:function(e,t){return e[0]<t[2]&&e[2]>t[0]&&e[1]<t[3]&&e[3]>t[1]}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="PlistaService",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,recsObj:null,container:null,setContainer:function(e){this.container=e},init:function(){this.log("initialization")},fetch:function(){},render:function(){var e,n,i,r;i="script",(r=t)[(e={publickey:"4351c405bafcc4b4674108c9",origin:"ru"}).name||"PLISTA"]=e,n=r.document.getElementsByTagName(i)[0],(i=r.document.createElement(i)).async=!0,i.type="text/javascript",i.src=("https:"===r.location.protocol?"https:":"http:")+"//static"+(e.origin?"-"+e.origin:"")+".plista.com/async"+(e.name?"/"+e.name:"")+".js",n.parentNode.insertBefore(i,n)}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="Smi2Service",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,recsObj:null,container:null,setContainer:function(e){this.container=e},init:function(){this.log("initialization")},fetch:function(){},render:function(){!function(){var e=n.createElement("script");e.type="text/javascript",e.async=!0,e.src="//smi2.ru/data/js/90506.js",e.charset="utf-8";var t=n.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}}),e[r]=e.fn[r]=s}(jQuery,window,document),$.extend(ModalWindowPlugin.prototype,{initModalWindow:function(){this.modal={id:_.uniqueId(),closeButton:null,modal:null,overlay:null,isOpen:!1},this.modal.transitionEnd=this.modalTransitionSelect(),this.modal.modal=document.createElement("div"),this.modal.modal.id=this.modal.id+"_modal",this.modal.modal.className="modal-window modal-window--close modal-window--visual-close",this.modal.header=document.createElement("div"),this.modal.header.id=this.modal.id+"_header",this.modal.header.className="modal-window__header",this.modal.modal.appendChild(this.modal.header),this.modal.headerContent=document.createElement("div"),this.modal.headerContent.id=this.modal.id+"_header-content",this.modal.headerContent.className="modal-window__header-content",this.modal.header.appendChild(this.modal.headerContent),this.modal.closeButton=document.createElement("button"),this.modal.closeButton.id=this.modal.id+"_close",this.modal.closeButton.className="modal-window__close",this.modal.closeButton.innerHTML="&nbsp;",this.modal.header.appendChild(this.modal.closeButton),this.modal.closeButton.addEventListener("click",this.closeModalWindow.bind(this)),this.modal.contentHolder=document.createElement("div"),this.modal.contentHolder.id=this.modal.id+"_content",this.modal.contentHolder.className="modal-window__content",this.modal.modal.appendChild(this.modal.contentHolder),$("body").append(this.modal.modal),this.modal.overlay=document.createElement("div"),this.modal.overlay.id=this.modal.id+"_overlay",this.modal.overlay.className="modal-window__overlay modal-window__overlay--close",this.modal.overlay.addEventListener("click",this.closeModalWindow.bind(this)),$("body").append(this.modal.overlay)},destroyModalWindow:function(){var e=this;this.modal.modal.addEventListener(this.modal.transitionEnd,function(){e.modal.modal.parentNode.removeChild(e.modal.modal)}),this.modal.overlay&&this.modal.overlay.addEventListener(this.modal.transitionEnd,function(){e.modal.overlay.parentNode&&e.modal.overlay.parentNode.removeChild(e.modal.overlay)})},openModalWindow:function(){if(0==this.modal.isOpen){this.modal.isOpen=!0,$("body").css("overflow","hidden");var e=$(this.modal.modal);e.hasClass("modal-window--close")&&(e.removeClass("modal-window--close"),setTimeout(function(){e.removeClass("modal-window--visual-close")},20));var t=$(this.modal.overlay);t.removeClass("modal-window__overlay--close"),t.addClass("modal-window__overlay--open")}},closeModalWindow:function(e){if(1==this.modal.isOpen){this.modal.isOpen=!1,$("body").css("overflow","auto");var t=$(this.modal.modal);t.addClass("modal-window--visual-close"),t.one("transitionend",function(e){t.addClass("modal-window--close")});var n=$(this.modal.overlay);n.removeClass("modal-window__overlay--open"),n.addClass("modal-window__overlay--close"),!0===e&&this.destroyModalWindow()}},updateModalHeader:function(e){this.modal.headerContent.innerHTML=e},updateModalWindow:function(e,t){t?($(this.modal.contentHolder).find("nav").remove(),$(this.modal.contentHolder).append(e)):(this.modal.contentHolder.scrollTop=0,this.modal.contentHolder.innerHTML=e)},modalTransitionSelect:function(){var e=document.createElement("div"),t="transitionend";return e&&(e.style.WebkitTransition&&(t="webkitTransitionEnd"),e.style.OTransition&&(t="oTransitionEnd"),document.body.appendChild(e),e.parentNode.removeChild(e)),t}}),$.extend(TouchGestures.prototype,{initTouchGestures:function(){this.touch={fingerCount:0,startX:0,startY:0,touchX:0,touchY:0,curX:0,curY:0,minLength:72,swipeLength:0,swipeAngle:null,swipeDirection:null}},touchGesturesStart:function(e){this.touch.fingerCount=e.originalEvent.touches.length,1==this.touch.fingerCount?(this.touch.curX=e.originalEvent.touches[0].pageX,this.touch.curY=e.originalEvent.touches[0].pageY,this.touch.startX=e.originalEvent.touches[0].pageX,this.touch.startY=e.originalEvent.touches[0].pageY,this.touch.touchX=e.originalEvent.touches[0].pageX,this.touch.touchY=e.originalEvent.touches[0].pageY):this.touch.touchGesturesCancel(e)},touchGesturesMove:function(e){1==this.touch.fingerCount?(this.touch.curX=e.originalEvent.touches[0].pageX,this.touch.curY=e.originalEvent.touches[0].pageY,this.touch.swipeLength=Math.round(Math.sqrt(Math.pow(this.touch.curX-this.touch.touchX,2)+Math.pow(this.touch.curY-this.touch.touchY,2)))):this.touchGesturesCancel(e)},touchGesturesEnd:function(e){this.touchGesturesCancel(e)},touchGesturesReset:function(){this.touch.fingerCount=0,this.touch.touchX=0,this.touch.touchY=0,this.touch.curX=0,this.touch.curY=0,this.touch.deltaX=0,this.touch.deltaY=0,this.touch.horzDiff=0,this.touch.vertDiff=0,this.touch.swipeLength=0,this.touch.swipeAngle=null,this.touch.swipeDirection=null,this.touch.triggerElementID=null},touchGesturesCancel:function(e){this.touchGesturesReset()},touchGesturesCaluculateAngle:function(){var e=this.touch.curX-this.touch.touchX,t=this.touch.touchY-this.touch.curY,n=Math.atan2(t,e);this.touch.swipeAngle=Math.round(180*n/Math.PI),this.touch.swipeAngle<0&&(this.touch.swipeAngle=360-Math.abs(this.touch.swipeAngle))},touchGesturesDetermineSwipeDirection:function(){if(this.touch.swipeLength>5){this.touch.swipeDirection="unknown",this.touchGesturesCaluculateAngle();var e=this.touch.swipeAngle;this.touch.swipeDirection=e>=135&&e<=225?"left":e<=45&&e>=0||e>=315&&e<=360?"right":e>=225&&e<=315?"down":"up"}return this.touch.swipeDirection}}),_.extend(GalleryPlugin.prototype,BasePlugin.prototype),GalleryPlugin.prototype.items={},GalleryPlugin.prototype.container=null,GalleryPlugin.prototype.setContainer=function(e){return this.container=$(e),this},GalleryPlugin.prototype.prepare=function(){this.log("Prepare Gallery");var e=this.container.find(".gallery-panel");return _.each(e,function(e){this.log("Process Gallery");var t=e.getAttribute("data-id");this.items[t]=[];e.getElementsByClassName("story-link")[0];var n=e.getElementsByClassName("g-img");_.each(n,function(e,n){var i=JSON.parse(e.getAttribute("data-gallery"));this.items[t].push({src:this.getImageUrl(i.servingUrl),w:i.width,h:i.height,title:i.alt})},this)},this),this},GalleryPlugin.prototype.renderPlaceholders=function(){this.log("Render Gallery Placeholders");var e=this.container.find(".gallery-panel");return _.each(e,function(e){var t=e.getAttribute("data-id"),n=this.items[t][0],i=this.items[t].length,r=document.createElement("img");r.className="gallery-placeholder-image",r.src=n.src+"=s800";var o=document.createElement("div"),s=document.createElement("div");o.className="gallery-placeholder__overlay",s.className="gallery-placeholder__overlay-text",s.innerHTML=i,o.appendChild(s);var a=document.createElement("div");a.className="gallery-placeholder",a.setAttribute("data-id",t),a.appendChild(r),a.appendChild(o),$(e).hasClass("hidden")&&($(a).addClass("hidden"),$(a).hide()),e.parentNode.replaceChild(a,e)},this),this},GalleryPlugin.prototype.attachEvents=function(){return this.container.on("click",".video-placeholder",$.proxy(function(e){var t=$(e.currentTarget);t.html('<iframe src="https://www.youtube.com/embed/'+t.attr("data-video-id")+'?autoplay=1&loop=1&rel=0&wmode=transparent" frameborder="0" allowfullscreen wmode="opaque"></iframe>'),t.addClass("video-placeholder--loaded"),t.removeClass("video-placeholder--unloaded")},this)),this.container.on("click",".gallery-placeholder",$.proxy(function(e){this.renderGallery(e.currentTarget.getAttribute("data-id"))},this)),this},GalleryPlugin.prototype.renderGallery=function(e,t){var n=this.items[e];if(n){var i=document.querySelectorAll(".pswp")[0],r=n,o={index:0,history:!1,shareButtons:[{id:"facebook",label:"&nbsp;",url:"https://share.yandex.net/go.xml?service=facebook&url={{url}}&title={{text}}}&image={{image_url}}"},{id:"vkontakte",label:"&nbsp;",url:"https://share.yandex.net/go.xml?service=vkontakte&url={{url}}&title={{text}}}&image={{image_url}}"},{id:"odnoklassniki",label:"&nbsp;",url:"https://share.yandex.net/go.xml?service=odnoklassniki&url={{url}}&title={{text}}}&image={{image_url}}"},{id:"twitter",label:"&nbsp;",url:"https://share.yandex.net/go.xml?service=twitter&url={{url}}&title={{text}}}&image={{image_url}}"},{id:"pinterest",label:"&nbsp;",url:"https://share.yandex.net/go.xml?service=pinterest&url={{url}}&title={{text}}}&image={{image_url}}"},{id:"download",label:"&nbsp;",url:"{{raw_image_url}}",download:!0}]};t&&(t-parseFloat(t)>=0?o.index=t:_.each(n,function(e,n){var i=t.replace(/^.*\/\/[^\/]+/,""),r=e.src.replace(/^.*\/\/[^\/]+/,"");Utils.startsWith(i,r)&&(o.index=n)},this));var s=App.URL.withoutFragment(!0),a=new PhotoSwipe(i,PhotoSwipeUI_Default,r,o);a.init(),a.options.getImageURLForShare=function(e){return a.currItem.src||""},a.options.getPageURLForShare=function(t){return a.currItem.storyUrl?galleryHost+a.currItem.storyUrl+"#"+e+":"+a.getCurrentIndex():window.location.href},a.options.getTextForShare=function(e){return a.currItem.title.length>0?"&laquo;ÐÐ° ÑÑÐ»ÐµÐ¼&raquo; | "+a.currItem.title:"Ð¤Ð¾ÑÐ¾Ð³ÑÐ°ÑÐ¸Ñ Ð½Ð° ÑÐ°Ð¹ÑÐµ &laquo;ÐÐ° ÑÑÐ»ÐµÐ¼&raquo;"},a.listen("afterChange",function(){var t="#"+e+":"+a.getCurrentIndex();App.getServise("HistoryService").changeWindowUrl("gallery",s+t),"undefined"!=typeof yaCounter35055585&&yaCounter35055585.reachGoal("metrika_gallery_image_view",{page:s,gallery_id:e,gallery_item:a.getCurrentIndex()})}),a.listen("destroy",function(){App.getServise("HistoryService").changeWindowUrl("gallery",s)}),App.getServise("HistoryService").changeWindowUrl("gallery",s+"#"+e+":"+a.getCurrentIndex())}else this.error("Gallery not found for id "+e);return this},GalleryPlugin.prototype.getImageUrl=function(e){return Utils.startsWith(e,"/_ah/")&&(e=App.getBaseUrl()+e),e},_.extend(PollPlugin.prototype,BasePlugin.prototype),PollPlugin.prototype.items={},PollPlugin.prototype.container=null,PollPlugin.prototype.setContainer=function(e){return this.wrapper=e,this},PollPlugin.prototype.attachEvents=function(){return this.wrapper.on("click","article.poll input",$.proxy(function(e){var t=$(e.target).closest("form"),n=t.data("max-answers"),i=t.find("input:checked");n>0&&i.length>=n?t.find("input:not(:checked)").attr("disabled",!0):t.find("input:not(:checked)").removeAttr("disabled")},this)),this.wrapper.on("click","article.poll button",$.proxy(function(e){var t=$(e.target).closest("article"),n=t.find("form"),i=(n.data("id"),n.data("multiple"),n.data("max-answers")),r=n.find("input:checked");if(r.length<=0)App.getServise("AlertService").errorNotify("ÐÑ Ð½Ðµ Ð²ÑÐ±ÑÐ°Ð»Ð¸ Ð½Ð¸ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¾ÑÐ²ÐµÑÐ°!",{timeOut:2300,progressBar:!0});else if(i>0&&r.length>i)App.getServise("AlertService").errorNotify("ÐÑ Ð²ÑÐ±ÑÐ°Ð»Ð¸ Ð±Ð¾Ð»ÑÑÐµ Ð¾ÑÐ²ÐµÑÐ¾Ð², ÑÐµÐ¼ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ Ð¾Ð¿ÑÐ¾Ñ!",{timeOut:2300,progressBar:!0});else{var o=[];_.each(r,function(e){o.push($(e).val())}),App.getServise("SessionService").processTicket(function(e,n,i){$.ajax({type:"POST",url:App.getBaseUrl("/IMP-poll"),data:{ticket:e,poll_item_id:o},success:function(e){if(e.content.poll_vote.poll){App.getServise("AlertService").successNotify("Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾, Ð²Ð°Ñ Ð¾ÑÐ²ÐµÑ ÑÑÑÐµÐ½!",{timeOut:2300,progressBar:!0});var n=(new PollsPreprocessor).setBaseUrl(App.getBaseUrl()),i=n.preparePoll(e.content.poll_vote.poll),r=n.compilePoll(i);t.after(r),t.remove()}else e.content.poll_vote.error?App.getServise("AlertService").errorNotify(e.content.poll_vote.error.message):App.getServise("AlertService").errorNotify("ÐÑÐ¸Ð±ÐºÐ° Ð¾Ð±Ð¼ÐµÐ½Ð° Ð´Ð°Ð½Ð½ÑÐ¼Ð¸")},error:function(e,t,n){App.getServise("AlertService").errorNotify(n)},dataType:"json"})},this)}return!1},this)),this},PollPlugin.prototype.prepare=function(e){var t=this.wrapper.find(".poll");if(1==t.length){var n=t.data("poll");"undefined"!=n&&(this.poll=this.processor.preparePoll(JSON.parse(decodeURIComponent(n))))}return this},PollPlugin.prototype.render=function(){return this.poll?this.processor.compilePoll(this.poll):""},_.extend(SearchPlugin.prototype,BasePlugin.prototype),SearchPlugin.FilterType={cars:{urlParam:"car_id",selector:".search-filter-cars",removeSelector:".search-filter-remove-dropdown"},rubrics:{urlParam:"rubric_id",selector:".search-filter-rubrics",removeSelector:".search-filter-remove-dropdown"},authors:{urlParam:"author_id",selector:".search-filter-authors",removeSelector:".search-filter-remove-dropdown"},heading:{urlParam:"head",selector:"#search-filter-heading",checkbox:!0},exact:{urlParam:"exact",selector:"#search-filter-exact",checkbox:!0},dateFrom:{urlParam:"from",selector:"#search-date-from",stringifyValue:function(e){return e/1e3},parseValue:function(e){return new Date(1e3*e)},removeSelector:".search-filter-remove-dates"},dateTo:{urlParam:"to",selector:"#search-date-to",stringifyValue:function(e){return e/1e3},parseValue:function(e){return new Date(1e3*e)},removeSelector:".search-filter-remove-dates"}},SearchPlugin.prototype.items={},SearchPlugin.prototype.container=null,SearchPlugin.prototype.dateFrom=null,SearchPlugin.prototype.dateTo=null,SearchPlugin.prototype.isSettingFilterValuesProgrammaticaly=null,SearchPlugin.prototype.setContainer=function(e){return this.wrapper=e,this},SearchPlugin.prototype.getQuery=function(e){var t=["q="+$("#search-input").val()],n=this.getJsonFromUrl();return _.forEach(SearchPlugin.FilterType,function(i,r){if(!e||!_.includes(e,r))if(i.checkbox){var o=[];$(i.selector).each(function(e,t){t.checked&&o.push(t.value)},this);o.length&&t.push(i.urlParam+"="+o.join(","))}else{var s=$(i.selector).val();"default"===s?s=n[i.urlParam]||"":i.stringifyValue&&(s=i.stringifyValue(s)),s&&t.push(i.urlParam+"="+s)}},this),t.join("&")},SearchPlugin.prototype.getJsonFromUrl=function(){var e=location.search.substr(1),t={};return e.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}),t},SearchPlugin.prototype.setFilterValuesFromUrl=function(){this.isSettingFilterValuesProgrammaticaly=!0;var e=this.getJsonFromUrl(),t=e.q&&e.q.replace(/\+/g," "),n=$(".absolutely-nothing"),i=$(".search-filter");t?($("#search-input").val(t),n.show(),i.show()):(n.hide(),i.hide()),_.forEach(SearchPlugin.FilterType,function(t,n){var i=e[t.urlParam];if(t.checkbox&&i){var r=i.split(","),o=$(t.selector);_.forEach(o,function(e){var t=!!r&&_.includes(r,e.value);e.checked=t},this)}else{var s=$(t.selector);if(i&&s.has("option[value="+i+"]").length)s.val(i);else if(1===s.find("option").length)s.val("default").attr("disabled",!0);else if(t.parseValue){var a=t.parseValue(i);"dateFrom"===n?this.dateFrom.setDate(a):"dateTo"===n&&this.dateTo.setDate(a)}}},this);var r=SearchPlugin.FilterType;e[r.cars.urlParam]||e[r.rubrics.urlParam]||e[r.authors.urlParam]?$(".search-filter-remove-dropdown").show():$(".search-filter-remove-dropdown").hide(),e[r.dateFrom.urlParam]&&e[r.dateTo.urlParam]?$(".search-filter-remove-dates").show():$(".search-filter-remove-dates").hide(),setTimeout($.proxy(function(){this.isSettingFilterValuesProgrammaticaly=!1},this),1)},SearchPlugin.prototype.initDatepicker=function(){var e={format:"DD.MM.YYYY",outputFormat:"x",checkIfNativeDate:function(){if(window.head.mobile){var e=document.createElement("input");e.setAttribute("type","date");var t="not-a-date";return e.setAttribute("value",t),e.value!==t}},placeholder:"",classes:"search-input-text",dayOffset:0,pikadayOptions:{firstDay:1,i18n:{previousMonth:"ÐÑÐµÐ´ÑÐ´ÑÑÐ¸Ð¹ Ð¼ÐµÑÑÑ",nextMonth:"Ð¡Ð»ÐµÐ´ÑÑÑÐ¸Ð¹ Ð¼ÐµÑÑÑ",months:["Ð¯Ð½Ð²Ð°ÑÑ","Ð¤ÐµÐ²ÑÐ°Ð»Ñ","ÐÐ°ÑÑ","ÐÐ¿ÑÐµÐ»Ñ","ÐÐ°Ð¹","ÐÑÐ½Ñ","ÐÑÐ»Ñ","ÐÐ²Ð³ÑÑÑ","Ð¡ÐµÐ½ÑÑÐ±ÑÑ","ÐÐºÑÑÐ±ÑÑ","ÐÐ¾ÑÐ±ÑÑ","ÐÐµÐºÐ°Ð±ÑÑ"],weekdays:["ÐÐ¾ÑÐºÑÐµÑÐµÐ½ÑÐµ","ÐÐ¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº","ÐÑÐ¾ÑÐ½Ð¸Ðº","Ð¡ÑÐµÐ´Ð°","Ð§ÐµÑÐ²ÐµÑÐ³","ÐÑÑÐ½Ð¸ÑÐ°","Ð¡ÑÐ±Ð±Ð¾ÑÐ°"],weekdaysShort:["ÐÑ","ÐÐ½","ÐÑ","Ð¡Ñ","Ð§Ñ","ÐÑ","Ð¡Ð±"]}}};this.dateFrom=window.pikadayResponsive(document.getElementById("search-date-from"),e),$("#search-date-from-input").keyup($.proxy(function(e){8!==e.which&&46!==e.which||(this.dateFrom.setDate(null),this.dateFrom.pikaday.hide())},this)),e.classes+=" search-input-text-last",this.dateTo=window.pikadayResponsive(document.getElementById("search-date-to"),e),$("#search-date-to-input").keyup($.proxy(function(e){8!==e.which&&46!==e.which||(this.dateTo.setDate(null),this.dateTo.pikaday.hide())},this))},SearchPlugin.prototype.doSearch=function(e){$("#search-input").attr("disabled",!0),App.getRouter().processUrl(URI().path()+"?"+this.getQuery(e))},SearchPlugin.prototype.attachEvents=function(){return this.initDatepicker(),this.wrapper.on("submit","#search-form",$.proxy(function(e){e.preventDefault(),this.doSearch()},this)).on("change","#search-result-group",$.proxy(function(e){var t=$(e.target).val();App.getRouter().processUrl(t)},this)),this.setFilterValuesFromUrl(),this.wrapper.on("click",".search-filter-remove",$.proxy(function(e){e.preventDefault();var t=$(e.currentTarget).data("filter-types");this.doSearch(t.split(","))},this)),_.forEach(SearchPlugin.FilterType,function(e,t){$(e.selector).on("change",$.proxy(function(){this.isSettingFilterValuesProgrammaticaly||"dateFrom"!==t&&"dateTo"!==t&&$("#search-form").submit()},this))},this),this},function(e,t,n,i){"use strict";var r="Swipe",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.container=null,this.startScroll=0,this.hidden=!1,this.headerHeight=88,this.headerLogotypeHeight=50,this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.wrapper=e(".app-content-wrapper"),this.container=e(".app-content-container"),App.isModern()&&(this.wrapper.css("margin-top",this.headerHeight+20+"px"),e(t).on("scroll",e.proxy(function(n){if(0==App.getMenu().isOpen){var i=e(t).scrollTop();0==this.startScroll&&(this.startScroll=i),i>this.startScroll+100&&(this.startScroll=0,0==this.hidden&&(this.hidden=!0,this.hide())),i<this.startScroll-100&&(this.startScroll=0,1==this.hidden&&(this.hidden=!1,this.show())),this.wrapper.css("margin-top",this.headerHeight+20+"px")}},this)))},show:function(){e(".app-header").css("height",this.headerHeight+"px").removeClass("compact"),e(".app-header__logotype").css("height",this.headerLogotypeHeight+"px")},hide:function(){e(".app-header").css("height",this.headerHeight-this.headerLogotypeHeight+"px").addClass("compact"),e(".app-header__logotype").css("height",0)},getWrapper:function(){return this.wrapper},getContainer:function(){return this.container}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="SwipeNav",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.container=null,this.wrapper=null,this.items=null,this.fingerCount=0,this.startX=0,this.startY=0,this.touchX=0,this.touchY=0,this.curX=0,this.curY=0,this.minLength=72,this.swipeLength=0,this.swipeAngle=null,this.swipeDirection=null,this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.container=e(".app-header__nav"),this.wrapper=this.container.find("ul"),this.items=this.wrapper.find("li"),this.container.on("touchstart",e.proxy(this.touchStart,this)),this.container.on("touchmove",e.proxy(this.touchMove,this)),this.container.on("touchend",e.proxy(this.touchEnd,this)),e("body").on("swipe-menu",e.proxy(function(e,t){this.swipeTo(t)},this)),this.resize(),e(t).resize(e.proxy(function(){this.resize()},this))},touchStart:function(e){if(this.fingerCount=e.originalEvent.touches.length,1==this.fingerCount){var t=this.wrapper.position();this.startX=t.left,this.startY=t.top,this.touchX=e.originalEvent.touches[0].pageX,this.touchY=e.originalEvent.touches[0].pageY}else this.touchCancel(e)},touchMove:function(e){if(e.preventDefault(),1==e.originalEvent.touches.length){if(this.curX=e.originalEvent.touches[0].pageX,this.curY=e.originalEvent.touches[0].pageY,this.swipeLength=Math.round(Math.sqrt(Math.pow(this.curX-this.touchX,2)+Math.pow(this.curY-this.touchY,2))),this.swipeLength>5)if(null==this.swipeDirection)this.caluculateAngle(),this.determineSwipeDirection();else if("left"==this.swipeDirection||"right"==this.swipeDirection){e.preventDefault();this.wrapper.position();var t=this.curX-this.touchX+this.startX;this.wrapper.css("transform","translate3d("+t+"px,0,0)")}}else this.touchCancel(e)},touchEnd:function(e){if(1==this.fingerCount&&0!=this.curX){this.swipeLength=Math.round(Math.sqrt(Math.pow(this.curX-this.touchX,2)+Math.pow(this.curY-this.touchY,2)));var t=this.container.innerWidth()-this.wrapper.outerWidth();t>0&&(t=0),"right"==this.swipeDirection&&Animation.translate3d(this.wrapper,{x:0},200),"left"==this.swipeDirection&&Animation.translate3d(this.wrapper,{x:t},200),this.touchCancel(e)}else this.touchCancel(e)},touchReset:function(){this.fingerCount=0,this.touchX=0,this.touchY=0,this.curX=0,this.curY=0,this.deltaX=0,this.deltaY=0,this.horzDiff=0,this.vertDiff=0,this.swipeLength=0,this.swipeAngle=null,this.swipeDirection=null,this.triggerElementID=null},touchCancel:function(e){this.touchReset()},caluculateAngle:function(){var e=this.touchX-this.curX,t=this.curY-this.touchY,n=(Math.round(Math.sqrt(Math.pow(e,2)+Math.pow(t,2))),Math.atan2(t,e));this.swipeAngle=Math.round(180*n/Math.PI),this.swipeAngle<0&&(this.swipeAngle=360-Math.abs(this.swipeAngle))},determineSwipeDirection:function(){this.swipeAngle<=45&&this.swipeAngle>=0?this.swipeDirection="left":this.swipeAngle<=360&&this.swipeAngle>=315?this.swipeDirection="left":this.swipeAngle>=135&&this.swipeAngle<=225?this.swipeDirection="right":this.swipeAngle>45&&this.swipeAngle<135?this.swipeDirection="down":this.swipeDirection="up"},resize:function(){var e=0;this.items.each(function(t,n){var i=n.getBoundingClientRect();e+=i.width}),this.wrapper.width(e+this.items.length)},disable:function(){this.items.removeClass("active")},highlight:function(t){this.items.removeClass("active"),t>=0&&e(this.items.get(t)).addClass("active")},swipeTo:function(n){var i=0,r=e(t).width();this.items.each(function(t,r){if(t==n-1){var o=e(r).find("a").attr("href");App.getRouter().processUrl(o)}if(t<=n){var s=r.getBoundingClientRect();i+=s.width+10}});var o=0;r<i&&(o=r-i-60),Animation.translate3d(this.wrapper,{x:o},200)},click:function(t){return this.swipeTo(e(t.target).data("index")),!1},onAfterRender:function(){var e=App.URL.path();Utils.startsWith(e,"/news/")?this.highlight(0):Utils.startsWith(e,"/stories/")?this.highlight(1):Utils.startsWith(e,"/tests/")?this.highlight(2):Utils.startsWith(e,"/media/")?this.highlight(4):this.highlight(!1)}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="Menu",o={};function s(t){this._name=r,this.settings=e.extend({button:".app-header__button a"},o,t),this.storage=[],this.timeout=60,this.isOpen=!1,this.loadedData=null,this.loadedTime=0,this.container=!1,this.menu=!1,this.scrollTop=0,this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,TouchGestures.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.initTouchGestures(),this.menu=e(".app-header__menu");var n=e('<div class="app-header__profile"></div>'),i=e('<div class="wrapper"></div>');n.append(i),this.menu.append(n);var r=e('<div class="wrapper"><form action="/search/" class="search-query-field"><input type="text" class="search-query" id="search-input2" name="q" placeholder="ÐÐ¾Ð¸ÑÐº Ð¿Ð¾ ÑÐ°Ð¹ÑÑ"><button type="submit" class="app-header__menu-search__button"></button></form></div>'),o=e('<div class="app-header__menu-search"></div>');o.append(r),this.menu.append(o),this.container=e('<div class="wrapper"></div>'),this.menu.append(this.container),this.storage=t.App.getStorage(),e(this).on("onload",e.proxy(function(){this.construct()},this)),e(this.settings.button).click(e.proxy(function(e){this.isOpen?this.close():this.open()},this)),App.isModern()&&(this.menu.on("touchstart",e.proxy(function(e){this.touchGesturesStart(e)},this)),this.menu.on("touchmove",e.proxy(function(t){this.touchGesturesMove(t);var n=this.touchGesturesDetermineSwipeDirection();"up"==n?e(this.menu).scrollTop()+e(this.menu).innerHeight()>=e(this.menu)[0].scrollHeight&&t.preventDefault():"down"==n?e(this.menu).scrollTop()<=0&&t.preventDefault():t.preventDefault()},this)),this.overlay=e(".app-header__menu-overlay"),this.overlay.on("touchmove",function(e){e.preventDefault()}),this.overlay.on("click",e.proxy(function(e){return this.close(),e.preventDefault(),!1},this))),e(t).resize(e.proxy(function(){this.resize()},this)),this.smartLoad(!0)},smartLoad:function(e){this.log("Do smart load");var t=Math.floor((new Date).getTime()/1e3);this.loadedTime=this.storage.get("loadedTime"),this.loadedData=this.storage.get("loadedData");this.loadedTime;this.load()},load:function(){this.log("Loading "+App.getBaseUrl()+"/metadata/"),e.ajax({url:App.getBaseUrl()+"/metadata/",dataType:"json",context:this,success:function(t){this.log("Success loading!"),this.loadedData=t,this.loadedTime=Math.floor((new Date).getTime()/1e3),this.storage.set("loadedTime",this.loadedTime),this.storage.set("loadedData",this.loadedData),e(this).trigger("onload")},error:function(t,n,i){this.error(i),e(this).trigger("onload")}})},construct:function(){if(null!=this.loadedData){this.log("construct()"),this.container.empty();var t=e('<div class="app-header__menu__nav"></div>'),i=e('<div class="app-header__menu__nav-container"></div>');t.append(i),this.container.append(t);var r=e('<div class="app-header__menu__subnav"></div>'),o=e('<div class="app-header__menu__subnav-container"></div>');r.append(o),this.container.append(r),this.loadedData.content.wholeSite?e(this.loadedData.content.wholeSite.textPages).each(e.proxy(function(t,r){if(this.log("Create nav"),"/users/"!=r.href&&"/cars/"!=r.href){var s=n.createElement("div"),a=n.createElement("a"),l=n.createElement("span");if(Utils.startsWith(r.href,"/specialpdd")&&(r.href="/special/pdd"),a.id=r.id,a.href=r.href,l.innerHTML=r.name,a.appendChild(l),s.appendChild(a),i.append(s),r.rubrics){a.className="has-subnav",e(a).click(this,function(t){return e(this).addClass("active"),t.data.container.find(".container").hide(),t.data.container.find(".container.rubric-"+this.id).show(),t.data.container.find(".container.stories-"+this.id).show(),t.data.container.find("a").removeClass("active"),t.data.resize(),!1});var c=n.createElement("div");c.className="container rubric-"+r.id,t>0?c.style.display="none":a.className+=" active";var u=n.createElement("div"),h=n.createElement("a"),p=n.createElement("span");h.id=r.id,h.href=r.href,h.setAttribute("data-controller","category"),h.setAttribute("data-link",r.href),p.innerHTML="ÐÑÐµ "+r.name.toLowerCase(),h.appendChild(p),u.appendChild(h),c.appendChild(u),e(r.rubrics).each(function(e,t){var i=n.createElement("div"),r=n.createElement("a"),o=n.createElement("span");r.id=t.id,r.href=t.href,r.setAttribute("data-controller","category"),r.setAttribute("data-link",t.href),o.innerHTML=t.name,r.appendChild(o),i.appendChild(r),c.appendChild(i)}),o.append(c)}else a.setAttribute("data-controller","category"),a.setAttribute("data-link",r.href)}},this)):this.error("wholeSite not exists!")}else this.log("Loaded data not found")},open:function(){1!=this.isOpen&&(this.isOpen=!0,this.menu.addClass("action-show"),this.menu.removeClass("action-close"),App.isModern()?(this.overlay.show(),this.menu.css("position","fixed"),this.menu.css("z-index","9000"),this.scrollTop=e("body").scrollTop(),setTimeout(e.proxy(function(){this.resize();var n=e(t).height(),i=e(".app-header").outerHeight();e(".app-content-wrapper").addClass("frozen"),e(".app-content-wrapper").css("top",i+"px"),e(".app-content-wrapper").css("height",n-i+"px"),e(".app-content-wrapper").css("margin-top","0px"),e(".app-content-wrapper").scrollTop(this.scrollTop-50),e("body").css("height",n+"px"),e("body").scrollTop(0),this.menu.scrollTop(0)},this),20)):this.resize())},close:function(){if(0!=this.isOpen&&(this.isOpen=!1,this.menu.css("height","0"),this.menu.css("padding","0"),App.isModern())){this.overlay.hide();e(t).height();var n=e(".app-header").outerHeight();this.menu.one(this.modalTransitionSelect(),e.proxy(function(){this.menu.addClass("action-close"),this.menu.removeClass("action-show"),this.menu.css("position","absolute"),this.menu.css("z-index","-1")},this)),e(".app-content-wrapper").removeClass("frozen"),e(".app-content-wrapper").css("height","auto"),e(".app-content-wrapper").css("margin-top",n+"px"),e("body").scrollTop(this.scrollTop)}},resize:function(){if(1==this.isOpen){var n=t.innerHeight||e(t).height(),i=e(".app-header"),r=e(this.menu).find(".app-header__profile"),o=e(this.menu).find(".app-header__menu__nav-container"),s=e(this.menu).find(".app-header__menu__subnav-container"),a=i.outerHeight(),l=r.outerHeight(),c=o.outerHeight(),u=s.outerHeight(),h=Math.max(c,u);this.container.css("height",h+"px"),o.css("height",h+"px"),s.css("height",h+"px");var p=h+l;App.isModern()&&n-a<p&&(p=n-a),this.menu.css("top",a+"px"),this.menu.css("height",p+"px")}},modalTransitionSelect:function(){var e=n.createElement("div"),t="transitionend";return e&&(e.style.WebkitTransition&&(t="webkitTransitionEnd"),e.style.OTransition&&(t="oTransitionEnd"),n.body.appendChild(e),e.parentNode.removeChild(e)),t}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="Authentication",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.container=null,this.avatar=null,this.storage=null,this.nickname=null,this.sid=null,this.uid=null,this.defaultAvatar="/images/person_thumbnail.png",this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("init")}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="AuthenticationLoginPanel",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.form=null,this.storage=null,this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,ModalWindowPlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("init"),this.service=App.getServise("SessionService"),this.initModalWindow(),this.updateModalHeader("ÐÑÐ¾Ð´");var t=Handlebars.compile('<div class="alert alert-error" style="display:none;"></div><form class="form login-form" method="post"><div class="form-field vertical"><div class="form-data"><div class="form-input-wrapper"><input name="email" value="" type="text" placeholder="Ð­Ð»ÐµÐºÑÑÐ¾Ð½Ð½Ð°Ñ Ð¿Ð¾ÑÑÐ°"></div></div></div><div class="form-field vertical"><div class="form-data"><div class="form-input-wrapper"><input name="password" value="" type="password" placeholder="ÐÐ°ÑÐ¾Ð»Ñ"></div></div></div><div class="buttons"><button class="button" type="submit">ÐÐ¾Ð¹ÑÐ¸</button></div></form>');this.updateModalWindow(t({})),this.form=e(this.modal.modal).find("form"),this.alert=e(this.modal.modal).find("div.alert"),this.form.on("submit",e.proxy(this.submit,this))},open:function(){this.openModalWindow()},close:function(){this.closeModalWindow()},submit:function(){var n=this.form.find("input[name=email]").val(),i=this.form.find("input[name=password]").val();return n&&i?(e(this.service).on("authorizationSuccess",function(){this.close(),t.location.reload()}.bind(this)),e(this.service).on("authorizationFailed",function(){App.getServise("AlertService").errorNotify("Ð£ÐºÐ°Ð·Ð°Ð½Ð½ÑÐ¹ Ð»Ð¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ.")}),this.service.authorize(n,i)):App.getServise("AlertService").errorNotify("ÐÑ Ð½Ðµ Ð²Ð²ÐµÐ»Ð¸ Ð»Ð¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ!"),!1}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="AuthenticationLogoutPanel",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.form=null,this.storage=null,this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,ModalWindowPlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("init"),this.service=App.getServise("SessionService"),this.initModalWindow(),this.updateModalHeader("ÐÑÑÐ¾Ð´");var t=Handlebars.compile('<div class="alert alert-error" style="display:none;"></div><div><p>ÐÑ Ð´ÐµÐ¹ÑÑÐ²Ð¸ÑÐµÐ»ÑÐ½Ð¾ ÑÐ¾ÑÐ¸ÑÐµ Ð²ÑÐ¹ÑÐ¸?</p></div><form class="form logout-form" method="post"><div class="buttons"><button class="button" type="submit">ÐÑÐ¹ÑÐ¸</button></div></form>');this.updateModalWindow(t({})),this.form=e(this.modal.modal).find("form"),this.alert=e(this.modal.modal).find("div.alert"),this.form.on("submit",e.proxy(this.submit,this))},open:function(){this.service.isAuthorized()&&this.openModalWindow()},close:function(){this.closeModalWindow()},submit:function(){return e(this.service).on("logoutSuccess",function(){this.close(),t.location.reload()}.bind(this)),e(this.service).on("logoutFailed",function(){App.getServise("AlertService").errorNotify("ÐÑÐ¾Ð¸Ð·Ð¾ÑÐ»Ð° Ð¾ÑÐ¸Ð±ÐºÐ°, Ð¿Ð¾Ð¿ÑÐ¾Ð±ÑÐ¹ÑÐµ Ð¿Ð¾Ð·Ð¶Ðµ.")}),this.service.logout(),!1}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="AuthenticationRegistrationPanel",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,ModalWindowPlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("init"),this.initModalWindow(),this.updateModalHeader("Ð ÐµÐ³Ð¸ÑÑÑÐ°ÑÐ¸Ñ")},open:function(){this.openModalWindow()},close:function(){this.closeModalWindow()}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="Router",o={};function s(t){this._name=r,this.settings=e.extend({},o,t),this.init()}e.extend(s.prototype,BasePlugin.prototype),e.extend(s.prototype,{_debug:!1,init:function(){this.log("initialization"),e(n).on("click","a",e.proxy(this.doClick,this))},start:function(){var e=URI(),t=URI().path(),n=URI().search(),i=URI().fragment();if(this.log("Found path "+t),n){this.log("found query string "+n);var r=[];e.hasQuery("page")&&r.push("page="+e.search(!0).page),e.hasQuery("archive")&&r.push("archive="+e.search(!0).archive);var o=r.join("&");o&&(t+="?"+o)}i&&(this.log("found fragment "+i),t=t+"#"+i),t&&this.processUrl(t)},doClick:function(t){if(Utils.hasClass(t.currentTarget,"disable-routing"))return!0;if(e(t.currentTarget).parents(".adriver").length)return!0;var n=this.getHref(t.currentTarget);return!!n&&this.processUrl(n)},processUrl:function(e){if(e){if("#"===(e=(e=(e=e.trim()).replace("http://m.zr.ru","")).replace("https://m.zr.ru","")))return!0;if(Utils.startsWith(e,"javascript:"))return!0;if(Utils.startsWith(e,"/_ah/img/"))return!0;if(Utils.startsWith(e,"http://click-ru.plista.com/"))return!0;if(Utils.startsWith(e,"https://click-ru.plista.com/"))return!0;if(Utils.startsWith(e,"https://ads.adfox.ru/"))return!0;if(Utils.startsWith(e,"http://ads.adfox.ru/"))return!0;if(Utils.startsWith(e,"http://an.yandex.ru/"))return!0;if(Utils.startsWith(e,"https://an.yandex.ru/"))return!0;if(Utils.startsWith(e,"/special/pdd"))return t.location="https://www.zr.ru/special/pdd",!1;if(Utils.startsWith(e,"/l/"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;if(Utils.startsWith(e,"/d/"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;if(Utils.startsWith(e,"/cars/"))return t.location="https://www.zr.ru"+e+"?disable_mobile_redirect=true",!1;if(Utils.startsWith(e,"/collections"))return t.location="https://www.zr.ru"+e+"?disable_mobile_redirect=true",!1;if(Utils.startsWith(e,"/park-zr"))return t.location="https://www.zr.ru"+e+"?disable_mobile_redirect=true",!1;if(Utils.startsWith(e,"/forum"))return t.location="http://forum.zr.ru"+e,!1;if(Utils.startsWith(e,"/content/articles/906112"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;if(Utils.startsWith(e,"/content/articles/907123"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;if(Utils.startsWith(e,"/content/articles/907901"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;if(Utils.startsWith(e,"/content/articles/908562"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;if(Utils.startsWith(e,"/content/articles/908830"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;if(Utils.startsWith(e,"/content/articles/909135"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;if(Utils.startsWith(e,"/content/articles/909332"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;if(Utils.startsWith(e,"/content/articles/910584"))return t.open("https://www.zr.ru"+e+"?disable_mobile_redirect=true","_blank"),!1;var i=this.findController(e);if(i)return i.decorate(),i.fetch(e),App.closeMenu(),App.setCurrentController(i),this.log("Controller found for link "+e),!1;var r=n.createElement("a");return r.href=e,r.hostname.indexOf(".zr.ru")>-1?!0:(App.getServise("AlertService").infoNotify('ÐÐ»Ñ Ð¿ÐµÑÐµÑÐ¾Ð´Ð° Ð¿Ð¾ ÑÑÑÐ»ÐºÐµ <a href="'+e+'" target="_blank">'+e+"</a> ÑÑÐµÐ±ÑÐµÑÑÑ Ð²Ð°ÑÐµ Ð¿Ð¾Ð´ÑÐ²ÐµÑÐ¶Ð´ÐµÐ½Ð¸Ðµ",{tapToDismiss:!1,actionButton:{title:"ÐÐµÑÐµÐ¹ÑÐ¸ Ð¿Ð¾ ÑÑÑÐ»ÐºÐµ",action:function(){t.location=e}}}),!1)}return!0},getHref:function(e){var t=e.getAttribute("href");return t&&(t=t.replace(App.getBaseUrl(),"")),t},findController:function(e){void 0===e&&(e=App.URL.url());var t=null;if("/"===(e=(e=e.replace("http://m.zr.ru","")).replace("https://m.zr.ru",""))&&(t=this.getIndexController()),Utils.startsWith(e,"/news/")&&(t=this.getCategoryController()),Utils.startsWith(e,"/tests/")&&(t=this.getCategoryController()),Utils.startsWith(e,"/stories/")&&(t=this.getCategoryController()),Utils.startsWith(e,"/tags/")&&(t=this.getCategoryController()),Utils.startsWith(e,"/events/")&&(t=this.getCategoryController()),Utils.startsWith(e,"/special/")&&(t=this.getCategoryController()),Utils.startsWith(e,"/media/")&&(t=this.getMediaController()),Utils.startsWith(e,"/polls/")&&(t=this.getPollsController()),Utils.startsWith(e,"/search/")&&(t=this.getSearchController()),Utils.startsWith(e,"/content/")){var n=App.URL.fragment();t=n&&Utils.startsWith(n,"comments")?this.getCommentsController():this.getArticleController()}return t},getIndexController:function(){return new e.IndexController},getArticleController:function(){return new e.ContentController},getCommentsController:function(){return new e.CommentsController},getCategoryController:function(){return new e.CategoryController},getMediaController:function(){return new e.MediaController},getPollsController:function(){return new e.PollsController},getSearchController:function(){return new e.SearchController}}),e[r]=e.fn[r]=s}(jQuery,window,document),function(e,t,n,i){"use strict";var r="IndexController";function o(t){this._name=r,this.settings=e.extend({disableNavigation:!0},t),this.init()}e.extend(o.prototype,BasePlugin.prototype),e.extend(o.prototype,BaseController.prototype),e.extend(o.prototype,{_debug:!1,init:function(){this.log("Initialization")},getFetchUrl:function(){return"/index-page/"},fetch:function(){return this.fetcher("/"),this},render:function(e){this.log("Rendered to layout");var t=(new IndexPreprocessor).setBaseUrl(App.getBaseUrl()).makeAppendable(this.isAppendable()).setJson(e).prepare().compile(),n=t.getHtml(),i=t.getSeo();return App.scrollTop(),App.getServise("HistoryService").changeWindowTitle(i.title),App.getServise("HistoryService").changeWindowUrl("index",this.fetchUrl),this.showWrapper(n),this.onAfterRender(),this},onAfterDecorate:function(){this.log("onAfterDecorate"),this.getWrapper().on("click",".next-href",e.proxy(function(e){return this.makeAppendable(!0),this.fetch(e.currentTarget.getAttribute("href")),!1},this))},onAfterRender:function(){this.log("onAfterRender"),App.getServise("AdvertService").renderBanners(),App.getLayoutNav().onAfterRender();var e=(new PollPlugin).setContainer(this.getWrapper()).attachEvents().prepare().render();return this.getWrapper().find("div.poll").html(e),this}}),e[r]=e.fn[r]=o}(jQuery,window,document),function(e,t,n,i){"use strict";var r="CategoryController";function o(t){this._name=r,this.settings=e.extend({disableNavigation:!0},t),this.init()}e.extend(o.prototype,BasePlugin.prototype),e.extend(o.prototype,BaseController.prototype),e.extend(o.prototype,{_debug:!1,init:function(){this.log("Initialization")},fetch:function(e){return this.fetcher(e),this},render:function(e){this.log("Rendered to layout");var t=(new CategoryPreprocessor).setBaseUrl(App.getBaseUrl()).makeAppendable(this.isAppendable()).setJson(e).prepare().compile(),n=t.getHtml(),i=t.getSeo();return this.isAppendable()?(this.getWrapper().find("nav").remove(),this.appendToWrapper(n),this.getWrapper().find(">h1").not("h1:first").remove()):(App.scrollTop(),App.getServise("HistoryService").changeWindowTitle(i.title),App.getServise("HistoryService").changeWindowUrl("category",this.fetchUrl),this.showWrapper(n)),this.onAfterRender(),this},onAfterDecorate:function(){this.log("onAfterDecorate"),this.getWrapper().on("click",".next-href",e.proxy(function(e){return this.makeAppendable(!0),this.fetch(e.currentTarget.getAttribute("href")),!1},this))},onAfterRender:function(){return this.log("onAfterRender"),App.getServise("AdvertService").renderBanners(),App.getLayoutNav().onAfterRender(),this}}),e[r]=e.fn[r]=o}(jQuery,window,document),function(e,t,n,i){"use strict";var r="ContentController";function o(t){this._name=r,this.settings=e.extend({},t),this.seo={title:"Ð¡ÑÐ°ÑÑÑ"},this.init()}e.extend(o.prototype,BasePlugin.prototype),e.extend(o.prototype,BaseController.prototype),e.extend(o.prototype,{_debug:!1,init:function(){this.log("Initialization"),this.createWrapper()},fetch:function(e){return this.log("Fetch data"),this.fetcher(e),this},render:function(e){if(this.log("Render to layout"),!e.content.main.promoRedirect){var n=new ContentPreprocessor;n.setBaseUrl(App.getBaseUrl()).setJson(e).prepare().compile();var i=n.getHtml(),r=n.getSeo();return App.scrollTop(),App.getLayoutNav().disable(),App.getServise("HistoryService").changeWindowTitle(r.title),App.getServise("HistoryService").changeWindowUrl("article",this.fetchUrl),this.showWrapper(i),this.onAfterRender(),this}t.location=e.content.main.promoRedirect.url},onAfterDecorate:function(){this.log("onAfterDecorate")},onAfterRender:function(){this.log("onAfterrender"),App.getLayoutNav().onAfterRender(),App.getServise("AdvertService").renderBanners("relap_list"),App.getServise("PlistaService").render(),App.getServise("AdvertService").renderBanners();var t=(new PollPlugin).setContainer(this.getWrapper()).attachEvents().prepare().render();this.getWrapper().find("article.article footer").before(t);var n=(new GalleryPlugin).setContainer(this.getWrapper()).attachEvents().prepare().renderPlaceholders();this.getWrapper().on("click","img.story-photo",e.proxy(function(e){n.renderGallery("gal-content-all",e.currentTarget.src)},this));var i=App.URL.fragment();if(i&&Utils.startsWith(i,"comments")){var r=App.getRouter().findController();r.decorate(),r.fetch()}return this}}),e[r]=e.fn[r]=o}(jQuery,window,document),function(e,t,n,i){var r="CommentsController";function o(t){this._name=r,this.settings=e.extend({},t),this.seo={title:"ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹"},this.page=0,this.storyId=0,this.historyUrl=null,this.hasMore=!1,this.currentPage=!1,this.isLoading=!1,this.init()}e.extend(o.prototype,BasePlugin.prototype),e.extend(o.prototype,BaseController.prototype),e.extend(o.prototype,{_debug:!1,init:function(){this.log("initialization"),this.createWrapper()},fetch:function(t,n){if(null==t&&(t=App.URL.url()),0==this.isLoading){this.historyUrl=t,this.fetchUrl="/IMP-story-comments",t=URI(t),this.storyId=t.hash(),this.storyId=this.storyId.replace(/^\D+/g,"");var i={storyId:this.storyId,p:this.page};e.ajax({context:this,dataType:"json",data:i,url:this.getFetchUrl(),beforeSend:function(){this.isLoading=!0,App.showLoadingIndicator(!0)},complete:function(){this.isLoading=!1,App.showLoadingIndicator(!1)},success:function(e){this.data=e,this.page++,this.log("Success!"),this.prepare(n),this.compile(n),this.render(n)},error:function(e,t,n){this.error(n),App.getServise("AlertService").errorNotify("ÐÑÐ¸Ð±ÐºÐ° Ð·Ð°Ð³ÑÑÐ·ÐºÐ¸ Ð´Ð°Ð½Ð½ÑÑ")}})}return this},prepare:function(e){this.log("prepare");var t=[];return _.each(this.data.content.main.comments,function(e,n,i){var r=this.prepareItem(e);t.push(r)},this),this.hasMore=this.data.content.main.hasMore,this.view={isLoggedIn:!1,comments:t,commentsCount:t.length,hasMore:this.hasMore},this},prepareItem:function(e){var t={id:e.id,parentId:e.parentId,content:e.contentXml};return t.level=e.level,t.deleted=e.deleted,e.dateCreated&&(t.date=e.dateCreated.day+" "+e.dateCreated.monthName+" Ð² "+e.dateCreated.hour+":"+e.dateCreated._minute),e.user&&(t.author=e.user.name,e.user.avatar&&e.user.avatar.servingUrl&&(t.avatar=App.getBaseUrl()+e.user.avatar.servingUrl+"=s30-c"),null==t.avatar&&(t.avatar="/images/person_thumbnail.png")),e.replyToUser&&(t.replyToUser=e.replyToUser.name),App.getServise("SessionService").isAuthorized()&&(t.isLoggedIn=!0),t},compile:function(e){this.log("compile");var t="";0==Boolean(e)&&(t+="<h1>ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¸</h1>",App.getServise("SessionService").isAuthorized()&&(this.view.avatar=App.getServise("SessionService").getAvatar(),this.view.nickname=App.getServise("SessionService").getNickname(),t+='<div class="add-comments add-comments-main dont-remove"><form class="add-comments"><div class="alert alert-error" style="display:none;"></div><div class="click-placeholder"></div><img src="{{avatar}}"/><div class="form-field vertical"><div class="form-data"><div class="form-input-wrapper"><textarea name="comment" value="" rows="4" placeholder="ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹"></textarea></div></div></div><div class="buttons"><button class="button" type="submit">ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ</button></div></form></div>')),t+='<div class="story-comments-wrapper">{{#each comments}}<div class="story-comment story-comment-level-{{level}}" data-comment-id="{{id}}"><div class="author"><img src="{{avatar}}"/>{{author}} {{#if replyToUser}}<span class="arrow">&rightarrow;</span> <span class="reply-to">{{replyToUser}}</span>{{/if}}</div><div class="text">{{#if deleted}}<span class="deleted">ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹ ÑÐ´Ð°Ð»ÐµÐ½</span>{{else}}{{{content}}}{{/if}}</div><span class="date">{{date}}</span>{{#if isLoggedIn}}<a href class="action-show-answer">ÐÑÐ²ÐµÑÐ¸ÑÑ</a>{{/if}}</div>{{/each}}</div>',this.hasMore&&(t+='<nav class="comments"><a href="{{nextHref}}" class="button disable-routing next-href">ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ ÐµÑÐµ</a></nav>'),this.template=Handlebars.compile(t),this.html=this.template(this.view)},render:function(e){return this.log("render"),e?(this.wrapper.find(".story-comments-wrapper").append(this.html),this.getWrapper().find("nav.comments").not("nav.comments:last").remove()):(App.scrollTop(),App.getServise("HistoryService").changeWindowTitle(this.seo.title),App.getServise("HistoryService").changeWindowUrl("comments",this.historyUrl),this.showWrapper(this.html)),0==this.data.content.main.hasMore&&this.getWrapper().find("nav").hide(),this.onAfterRender(),this},onAfterRender:function(){App.getLayoutNav().onAfterRender(),this.getWrapper().addClass("story-comments"),this.getWrapper().on("click",".action-show-answer",e.proxy(this.showAnswerForm,this)),this.getWrapper().on("click",".action-hide-answer",e.proxy(this.hideAnswerForm,this)),this.getWrapper().on("submit","form.add-comments",e.proxy(this.submit,this)),0==App.getServise("SessionService").isAuthorized()&&App.getServise("AlertService").infoNotify("ÐÑÐ»Ð¸ Ð²Ñ ÑÐ¾ÑÐ¸ÑÐµ Ð¾ÑÑÐ°Ð²Ð¸ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹, Ð²Ð°Ð¼ Ð½ÑÐ¶Ð½Ð¾ Ð²Ð¾Ð¹ÑÐ¸ Ð½Ð° ÑÐ°Ð¹Ñ",{tapToDismiss:!1,actionButton:{title:"ÐÑÐ¾Ð´",action:function(n,i,r){var o=new e.AuthenticationLoginPanel;o.open(),e(o).on("success",function(){t.location.reload()})}}})},submit:function(t){if(t.preventDefault(),App.getServise("SessionService").isAuthorized()&&App.getServise("SessionService").getSid()){var n=e(t.currentTarget),i=n.find("textarea[name=comment]"),r=n.find("button[type=submit]"),o=App.getServise("SessionService").getSid(),s=this.storyId,a=n.closest("div.add-comments"),l=n.closest(".story-comment").data("comment-id");i.val().length<4?this.error("Ð¡Ð»Ð¸ÑÐºÐ¾Ð¼ ÐºÐ¾ÑÐ¾ÑÐºÐ¸Ð¹ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹"):e.ajax({type:"POST",url:this.getUrl("/special/api/comments"),dataType:"json",context:this,data:{sid:o,storyId:s,parentId:l,comment:i.val()},beforeSend:function(){i.prop("disabled",!0),r.prop("disabled",!0),r.html("ÐÐ¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ...")},complete:function(){i.prop("disabled",!1),r.prop("disabled",!1),r.html("ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ")},success:function(t){if(this.log("Success!"),(t=t.content.main).error)this.error(t.error);else if(0==t.success)this.error("ÐÑÐ¸Ð±ÐºÐ° Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ñ");else{if(this.log("success"),this.sucÑessMessage("ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½"),t.comments&&t.comments[0]){var n=this.prepareItem(t.comments[0]),i=Handlebars.compile('<div class="story-comment story-comment-level-{{level}}" data-comment-id="{{id}}"><div class="author"><img src="{{avatar}}"/>{{author}}</div><div class="text">{{#if deleted}}<span class="deleted">ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹ ÑÐ´Ð°Ð»ÐµÐ½</span>{{else}}{{{content}}}{{/if}}</div><span class="date">{{date}}</span><a href class="action-show-answer">ÐÑÐ²ÐµÑÐ¸ÑÑ</a></div>')(n);a.hasClass("add-comments-main")?e(".story-comments-wrapper").prepend(i):(a.closest(".story-comment").after(i),a.remove())}a.hasClass("can-remove")&&a.remove()}},error:function(e,t,n){this.error(n)}})}return!1},hideAnswerForm:function(t){e(t.currentTarget).closest("div.add-comments").remove()},showAnswerForm:function(t){if(App.getServise("SessionService").getSid()){var n=Handlebars.compile('<div class="add-comments add-comments-internal can-remove"><form class="add-comments"><div class="alert alert-error" style="display:none;"></div><div class="click-placeholder"></div><img src="{{avatar}}"/><div class="form-field vertical"><div class="form-data"><div class="form-input-wrapper"><textarea name="comment" value="" rows="4" placeholder="ÐÑÐ²ÐµÑÐ¸ÑÑ Ð½Ð° ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹"></textarea></div></div></div><div class="buttons"><button class="button" type="submit">ÐÑÐ²ÐµÑÐ¸ÑÑ</button></div></form></div>')(this.view);e(t.currentTarget).closest(".story-comment").append(n),e(t.currentTarget).closest(".story-comment").find("textarea").focus()}}}),e[r]=e.fn[r]=o}(jQuery,window,document),function(e,t,n,i){"use strict";var r="MediaController";function o(t){this._name=r,this.settings=e.extend({disableNavigation:!0},t),this.seo={title:"Ð¤Ð¾ÑÐ¾ Ð¸ Ð²Ð¸Ð´ÐµÐ¾"},this.init()}e.extend(o.prototype,BasePlugin.prototype),e.extend(o.prototype,BaseController.prototype),e.extend(o.prototype,{_debug:!1,init:function(){this.log("initialization"),this.createWrapper(),this.galleryPlugin=new GalleryPlugin},fetch:function(e){return this.fetcher(e),this},render:function(e){this.log("Render to layout");var t=new MediaPreprocessor;t.setBaseUrl(App.getBaseUrl()).makeAppendable(this.isAppendable()).setJson(e).prepare().compile();var n=t.getHtml(),i=t.getSeo();return this.isAppendable()?(this.getWrapper().find("nav").remove(),this.appendToWrapper(n)):(App.scrollTop(),App.getServise("HistoryService").changeWindowTitle(i.title),App.getServise("HistoryService").changeWindowUrl("media",this.fetchUrl),this.showWrapper(n)),this.galleryPlugin.setContainer(this.getWrapper()).prepare().renderPlaceholders(),this.onAfterRender(),this},onAfterDecorate:function(){this.log("onAfterDecorate"),this.getWrapper().on("click",".next-href",e.proxy(function(e){return this.makeAppendable(!0),this.fetch(e.currentTarget.getAttribute("href")),!1},this))},onAfterRender:function(){this.log("Decorated with events"),App.getLayoutNav().onAfterRender(),App.getServise("AdvertService").renderBanners(),this.galleryPlugin.setContainer(this.getWrapper()).attachEvents().prepare().renderPlaceholders();var e=App.URL.fragment();if(e&&Utils.startsWith(e,"gal")){var t=e.split(":");this.galleryPlugin.renderGallery(t[0],t[1])}return this}}),e[r]=e.fn[r]=o}(jQuery,window,document),function(e,t,n,i){"use strict";var r="PollsController";function o(t){this._name=r,this.settings=e.extend({disableNavigation:!0},t),this.init()}e.extend(o.prototype,BasePlugin.prototype),e.extend(o.prototype,BaseController.prototype),e.extend(o.prototype,{_debug:!1,init:function(){this.log("Initialization")},fetch:function(e){return this.ticketFetcher(e),this},render:function(e){this.log("Rendered to layout");var t=(new PollsPreprocessor).setBaseUrl(App.getBaseUrl()).makeAppendable(this.isAppendable()).setJson(e).prepare().compile(),n=t.getHtml(),i=t.getSeo();return this.isAppendable()?(this.getWrapper().find("nav.poll").remove(),this.appendToWrapper(n),this.getWrapper().find(">h1").not("h1:first").remove(),this.getWrapper().find(">nav.filter").not("nav.filter:first").remove()):(App.scrollTop(),this.showWrapper(n)),App.getServise("HistoryService").changeWindowTitle(i.title),App.getServise("HistoryService").changeWindowUrl("poll",this.fetchUrl),this.onAfterRender(),this},onAfterRender:function(){return this.log("onAfterRender"),App.getLayoutNav().onAfterRender(),App.getServise("AdvertService").renderBanners(),this.getWrapper().on("click",".next-href",e.proxy(function(e){return this.makeAppendable(!0),this.fetch(e.currentTarget.getAttribute("href")),!1},this)),(new PollPlugin).setContainer(this.getWrapper()).attachEvents(),this}}),e[r]=e.fn[r]=o}(jQuery,window,document),function(e,t,n,i){"use strict";var r="SearchController";function o(t){this._name=r,this._searchPlugin=null,this.settings=e.extend({disableNavigation:!0},t),this.init()}e.extend(o.prototype,BasePlugin.prototype),e.extend(o.prototype,BaseController.prototype),e.extend(o.prototype,{_debug:!1,init:function(){this.log("Initialization")},fetch:function(e){return this.fetcher(e),this},render:function(e){this.log("Rendered to layout");var t=(new SearchPreprocessor).setBaseUrl(App.getBaseUrl()).makeAppendable(this.isAppendable()).setJson(e).prepare().compile(),n=t.getHtml(),i=t.getSeo();return this.isAppendable()?(this.getWrapper().find("nav.search").remove(),this.appendToWrapper(n),this.getWrapper().find(">h1").not("h1:first").remove(),this.getWrapper().find("form").get(1).remove(),this.getWrapper().find(".search-result-tags").get(1).remove()):(App.scrollTop(),App.getServise("HistoryService").changeWindowTitle(i.title),App.getServise("HistoryService").changeWindowUrl("search",this.fetchUrl),this.showWrapper(n)),this.onAfterRender(),this},onAfterDecorate:function(){this.log("onAfterDecorate"),this.getWrapper().on("click",".next-href",e.proxy(function(e){return this.makeAppendable(!0),this.fetch(e.currentTarget.getAttribute("href")),!1},this))},onAfterRender:function(){return this.log("onAfterRender"),App.getLayoutNav().onAfterRender(),App.getServise("AdvertService").renderBanners(),this._searchPlugin||(this._searchPlugin=(new SearchPlugin).setContainer(this.getWrapper()).attachEvents()),this}}),e[r]=e.fn[r]=o}(jQuery,window,document);var parser=new UAParser,systemInfo=parser.getResult(),capabilities="oldschool";"Mobile Safari"==systemInfo.browser.name&&(capabilities="modern"),"Chrome"==systemInfo.browser.name&&(capabilities="modern"),$("body").addClass(capabilities),$(function(){var e,t,n,i,r,o,s;window.App=(e=null,t=null,n=null,i=null,r=null,o={},s=new window.Basil({namespace:"imp",storages:["local","cookie"],expireDays:365}),{getStorage:function(){return s},getServise:function(e){var t=o[e];return null==t&&console.error("Service "+e+" not found!"),t},registerServise:function(e){var t=(e=new e).getPluginName();null!=o[t]?console.warn("Service "+t+" already registered!"):o[t]=e},getRouter:function(){return e},getMenu:function(){return t},getLayout:function(){return n},changeLayout:function(e){n.getContainer().html(e)},getLayoutNav:function(){return i},closeMenu:function(){t.close()},getCurrentController:function(){return r},setCurrentController:function(e){r&&r.removeController&&r.removeController(),r=e},getBaseUrl:function(e){return e||(e=""),"https://www.zr.ru"+e},getApiKey:function(){return"ef0f5128-d837-11e2-ab32-00ff8077ec56"},URL:{url:function(e){var t=URI(),n="";return e&&(n=t.scheme()+"://"+t.host()),n+=t.path()+t.search()+t.hash()},withoutFragment:function(e){var t=URI(),n="";return e&&(n=t.scheme()+"://"+t.host()),n+=t.path()+t.search()},path:function(){return URI().path()},hash:function(){return URI().hash()},fragment:function(){return URI().fragment()}},isModern:function(){return $("body").hasClass("modern")},scrollTop:function(){0==$(window).scrollTop()?$(window).scrollTop(0):$(window).scrollTop(20)},showLoadingIndicator:function(e){!0===e?$(".app-loading-indicator").show():$(".app-loading-indicator").hide()},freezeBody:function(e){e?($("body").css("overflow","hidden"),$("body").addClass("disable-scroll")):($("body").css("overflow","auto"),$("body").removeClass("disable-scroll"))},start:function(){App.registerServise($.LogService),App.registerServise($.AlertService),App.registerServise($.AdvertService),App.registerServise($.SeoService),App.registerServise($.HistoryService),App.registerServise($.CountersService),App.registerServise($.SessionService),App.registerServise($.ProfileService),App.registerServise($.AuthenticationService),App.registerServise($.RelapService),App.registerServise($.PlistaService),t=new $.Menu,n=new $.Swipe,i=new $.SwipeNav,new $.Authentication,e=new $.Router,i.onAfterRender(),App.getServise("ProfileService").render(),$(".app-loading-indicator").click(function(){$(this).hide()}),window.addEventListener("popstate",function(t){e.processUrl(location.pathname)}.bind(this),!1),$(".app__full-site-button").on("click",$.proxy(function(e){Cookies.set("show-full-version","yes",{domain:".zr.ru"}),window.location=App.getBaseUrl()+App.URL.url()},this)),App.getServise("CountersService").hit(App.URL.url()),FastClick.attach(document.body)}})});
//# sourceMappingURL=application.min.js.map